<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>%2F2019%2F08%2F21%2Freact.js%2F</url>
    <content type="text"><![CDATA[React Reactå­¦ä¹ å†…å®¹ webpackwebpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨(module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾(dependency graph)ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundle å…¶å®ƒç›¸ä¼¼æ‰“åŒ…å·¥å…·è¿˜æœ‰rollup.js ã€ parcelã€FISç­‰ webpackå¯ä»¥è‡ªåŠ¨è§£å†³æ¨¡å—ä¹‹é—´çš„ä¾èµ–é—®é¢˜ åˆ‡è®°ï¼š å„æ¨¡å—ä¸è¦å¾ªç¯å¼•ç”¨ æŒ‰ç…§webpackçš„æŒ‡å—(æ³¨æ„æ˜¯æŒ‡å—ä¸æ˜¯æ¦‚å¿µä¸æ˜¯api)è¿›è¡Œé’ˆå¯¹æ€§çš„è®²è§£å³å¯ï¼Œéœ€è¦è¢«å……ä¸€ä¸‹å·¥ç¨‹åŒ–çš„çŸ¥è¯† æ€»ç»“ï¼š webpackæ˜¯å½“ä¸‹æœ€æµè¡Œçš„èµ„æºæ‰“åŒ…å·¥å…·ï¼Œä½†æ˜¯åœ¨å®ƒä¹‹å‰ï¼Œè¿˜æœ‰å¾ˆå¤šçš„æ‰“åŒ…å·¥å…·ï¼š 1. grunt gulp browserify webpack rollup FIS... webpackå¸‚åœºæœ‰ä¸¤ä¸ªç‰ˆæœ¬ä½¿ç”¨ï¼š webpack3.0 webpack4.0 webpackæ˜¯å‰ç«¯å·¥ç¨‹åŒ–ã€è‡ªåŠ¨åŒ–å·¥å…· webpackå®‰è£…ã€ å…¨å±€ å±€éƒ¨ï¼ˆ é¡¹ç›®ç›®å½• ï¼‰ 12cnpm i webpack webpack-cli -g // å…¨å±€cnpm i webpack webpack-cli -D // å±€éƒ¨ webpackREPLç¯å¢ƒï¼ˆ å‘½ä»¤è¡Œ ï¼‰ åŸºç¡€ä½¿ç”¨ å‘½ä»¤è¡Œè¾“å…¥webpackå°±ä¼šè‡ªåŠ¨å¯»æ‰¾ç›®å½•ä¸‹çš„srcç›®å½•ä¸‹çš„index.jsæ–‡ä»¶ï¼Œå°†è¿™ä¸ªæ–‡ä»¶ä½œä¸ºå…¥å£æ–‡ä»¶ ç¯å¢ƒçš„é€‰æ‹©ï¼š å¼€å‘ç¯å¢ƒï¼ˆ development ï¼‰ æºä»£ç ç¼–å†™æ—¶æ‰€å¤„çš„ç¯å¢ƒï¼Œè¿™ä¸ªç¯å¢ƒä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•´ä¸ªé¡¹ç›®çš„é”™è¯¯æ—¥å¿—è¿˜æœ‰é”™è¯¯è­¦å‘Š ç”Ÿäº§ ç¯å¢ƒï¼ˆ production ï¼‰ï¼š ä»£ç ä¼šè¢«å‹ç¼©ï¼Œé”™è¯¯æç¤ºä¼šæ²¡æœ‰ï¼Œé¡¹ç›®ä¸Šçº¿æ—¶æ—¶å€™ ç ”ç©¶webpackçš„åŠŸèƒ½ è‡ªåŠ¨è§£å†³ä¾èµ–æ€§é—®é¢˜ï¼ˆ æŸä¸€ä¸ªæ¨¡å—åœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨ ï¼‰ loader( è½¬æ¢å™¨) åŠŸèƒ½ï¼š å°†å…¶ä»–ç±»å‹æ–‡ä»¶é€šè¿‡loaderç¼–è¯‘æˆjsæ–‡ä»¶ å·¥ç¨‹åŒ–è¿™ä¸ªéƒ¨åˆ†çš„å†…å®¹å¯ä»¥åšä¸ºä¸€äº›æ€æƒ³ç»™å­¦å‘˜è®²è§£ï¼Œä¸éœ€è¦å­¦å‘˜æŒæ¡ã€‚å¯ä»¥ç†è§£ä¸ºæ‰©å±•çš„å†…å®¹ ä»€ä¹ˆæ˜¯JSé¡¹ç›®å·¥ç¨‹åŒ– ç‰ˆæœ¬æ§åˆ¶ git svn è‡ªåŠ¨åŒ–æŒç»­ç»§æ‰¿ã€æŒç»­äº¤ä»˜(CI/CD) ä»£ç è´¨é‡æ§åˆ¶(QA) å·¥ç¨‹åŒ–å·¥å…· grunt gulp webpack rollup parcel FIS æ¨¡å—åŒ– ï¼šAMD(require.js) CMD(sea.js) Common.js es6 æ–‡æ¡£ demo ç¼–è¯‘è¿‡ç¨‹è‡ªåŠ¨åŒ–å¤„ç†æ¯æ¬¡push, tag, releaseçš„ä»»åŠ¡é˜Ÿåˆ— å®‰è£… å®‰è£… : npmå‘½ä»¤è¡Œå·¥å…· å®‰å…¨å®¡è®¡ï¼šnpm audit Lint æ ¼å¼æ£€æŸ¥: eslint/stylelint æ ¼å¼åŒ–: prettier æµ‹è¯• æµ‹è¯•å¥—è£…: jest / mocha / ava / kamar ä»£ç è¦†ç›–é‡: nyc / codecov / coveralls æ„å»º è½¬æ¢å™¨: babel / TS / flow é¢„å¤„ç†å™¨: sass / less / postcss/stylus ä»£ç æ··æ·†: uglify-js / terser æ‰“åŒ…åŠtree shaking: webpack / rollup / parcel å‹ç¼©(gzipç­‰) å¤åˆ¶ / åˆ é™¤ / ç§»åŠ¨æ–‡ä»¶ æ£€æŸ¥æ‰“åŒ…æ–‡ä»¶çš„å¤§å° ç§»é™¤æ— ç”¨çš„ä»£ç  push äº¤ä»˜: git å‘å¸ƒ: npm publish éƒ¨ç½² æœåŠ¡å™¨ Pages: git pages äº‘æœåŠ¡å™¨: aliyun / qcloud / aws Story Book create-react-appå…¨å±€å®‰è£…create-react-app 1$ npm install -g create-react-app å¦‚æœä¸æƒ³å…¨å±€å®‰è£…ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨npx 1$ npx create-react-app your-app ä¹Ÿå¯ä»¥å®ç°ç›¸åŒçš„æ•ˆæœ åˆ›å»ºä¸€ä¸ªé¡¹ç›® 123456$ create-react-app your-app æ³¨æ„å‘½åæ–¹å¼Creating a new React app in /dir/your-app.Installing packages. This might take a couple of minutes. å®‰è£…è¿‡ç¨‹è¾ƒæ…¢ï¼Œå¯ä»¥æ¨èä½¿ç”¨yarnInstalling react, react-dom, and react-scripts... è¿™éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¸ªè¿‡ç¨‹å®é™…ä¸Šä¼šå®‰è£…ä¸‰ä¸ªä¸œè¥¿ react: reactçš„é¡¶çº§åº“ react-dom: å› ä¸ºreactæœ‰å¾ˆå¤šçš„è¿è¡Œç¯å¢ƒï¼Œæ¯”å¦‚appç«¯çš„react-native, æˆ‘ä»¬è¦åœ¨webä¸Šè¿è¡Œå°±ä½¿ç”¨react-dom react-scripts: åŒ…å«è¿è¡Œå’Œæ‰“åŒ…reactåº”ç”¨ç¨‹åºçš„æ‰€æœ‰è„šæœ¬åŠé…ç½® å‡ºç°ä¸‹é¢çš„ç•Œé¢ï¼Œè¡¨ç¤ºåˆ›å»ºé¡¹ç›®æˆåŠŸ: 12345678910111213141516171819202122Success! Created your-app at /dir/your-appInside that directory, you can run several commands: npm start Starts the development server. npm run build Bundles the app into static files for production. npm test Starts the test runner. npm run eject Removes this tool and copies build dependencies, configuration files and scripts into the app directory. If you do this, you canâ€™t go back!We suggest that you begin by typing: cd your-app npm startHappy hacking! æ ¹æ®ä¸Šé¢çš„æç¤ºï¼Œé€šè¿‡cd your-appå‘½ä»¤è¿›å…¥ç›®å½•å¹¶è¿è¡Œnpm startå³å¯è¿è¡Œé¡¹ç›®ã€‚ ç”Ÿæˆé¡¹ç›®çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š 123456â”œâ”€â”€ README.md ä½¿ç”¨æ–¹æ³•çš„æ–‡æ¡£â”œâ”€â”€ node_modules æ‰€æœ‰çš„ä¾èµ–å®‰è£…çš„ç›®å½•â”œâ”€â”€ yarn-lock.json é”å®šå®‰è£…æ—¶çš„åŒ…çš„ç‰ˆæœ¬å·,ä¿è¯å›¢é˜Ÿçš„ä¾èµ–èƒ½ä¿è¯ä¸€è‡´ã€‚â”œâ”€â”€ package.json â”œâ”€â”€ public é™æ€å…¬å…±ç›®å½•â””â”€â”€ src å¼€å‘ç”¨çš„æºä»£ç ç›®å½• å¸¸è§é—®é¢˜ï¼š npmå®‰è£…å¤±è´¥ åˆ‡æ¢ä¸ºnpmé•œåƒä¸ºæ·˜å®é•œåƒ ä½¿ç”¨yarnï¼Œå¦‚æœæœ¬æ¥ä½¿ç”¨yarnè¿˜è¦å¤±è´¥ï¼Œè¿˜å¾—æŠŠyarnçš„æºåˆ‡æ¢åˆ°å›½å†… 123yarn config set registry https://registry.npm.taobao.org // é…ç½®yarné•œåƒæºyarn config list // æŸ¥çœ‹yarn é•œåƒåˆ—è¡¨ å¦‚æœè¿˜æ²¡æœ‰åŠæ³•è§£å†³ï¼Œè¯·åˆ é™¤node_modulesåŠyarn-lock.jsonç„¶åé‡æ–°æ‰§è¡Œcnpm installå‘½ä»¤ å†ä¸èƒ½è§£å†³å°±åˆ é™¤node_modulesåŠyarn-lock.jsonçš„åŒæ—¶æ¸…é™¤npmç¼“å­˜npm cache clean --forceä¹‹åå†æ‰§è¡Œnpm installå‘½ä»¤ ç¯å¢ƒå˜é‡é—®é¢˜ react-scripts ç‰ˆæœ¬è¿‡é«˜é—®é¢˜ ï¼ˆ é™ä½ç‰ˆæœ¬ react-script@2.1.8ï¼‰ å…³äºReactReactéƒ¨åˆ†çš„å†…å®¹åŒ…å«äº†æ‰€æœ‰æˆè¯¾çš„æ€è·¯ Reactçš„èµ·æºå’Œå‘å±•React èµ·æºäº Facebook çš„å†…éƒ¨é¡¹ç›®ï¼Œå› ä¸ºè¯¥å…¬å¸å¯¹å¸‚åœºä¸Šæ‰€æœ‰ JavaScript MVC æ¡†æ¶ï¼Œéƒ½ä¸æ»¡æ„ï¼Œå°±å†³å®šè‡ªå·±å†™ä¸€å¥—ï¼Œç”¨æ¥æ¶è®¾Instagram çš„ç½‘ç«™ã€‚åšå‡ºæ¥ä»¥åï¼Œå‘ç°è¿™å¥—ä¸œè¥¿å¾ˆå¥½ç”¨ï¼Œå°±åœ¨2013å¹´5æœˆå¼€æºäº†ã€‚ Reactä¸ä¼ ç»ŸMVCçš„å…³ç³»è½»é‡çº§çš„è§†å›¾å±‚åº“ï¼A JavaScript library for building user interfaces Reactä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„MVCæ¡†æ¶ï¼Œæœ€å¤šå¯ä»¥è®¤ä¸ºæ˜¯MVCä¸­çš„Vï¼ˆViewï¼‰ï¼Œç”šè‡³Reactå¹¶ä¸éå¸¸è®¤å¯MVCå¼€å‘æ¨¡å¼ï¼›React æ„å»ºé¡µé¢ UI çš„åº“ã€‚å¯ä»¥ç®€å•åœ°ç†è§£ä¸ºï¼ŒReact å°†å°†ç•Œé¢åˆ†æˆäº†å„ä¸ªç‹¬ç«‹çš„å°å—ï¼Œæ¯ä¸€ä¸ªå—å°±æ˜¯ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶ä¹‹é—´å¯ä»¥ç»„åˆã€åµŒå¥—ï¼Œå°±æˆäº†æˆ‘ä»¬çš„é¡µé¢ã€‚ Reacté«˜æ€§èƒ½çš„ä½“ç°ï¼šè™šæ‹ŸDOM#####Reacté«˜æ€§èƒ½çš„åŸç†ï¼š åœ¨Webå¼€å‘ä¸­æˆ‘ä»¬æ€»éœ€è¦å°†å˜åŒ–çš„æ•°æ®å®æ—¶ååº”åˆ°UIä¸Šï¼Œè¿™æ—¶å°±éœ€è¦å¯¹DOMè¿›è¡Œæ“ä½œã€‚è€Œå¤æ‚æˆ–é¢‘ç¹çš„DOMæ“ä½œé€šå¸¸æ˜¯æ€§èƒ½ç“¶é¢ˆäº§ç”Ÿçš„åŸå› ï¼ˆå¦‚ä½•è¿›è¡Œé«˜æ€§èƒ½çš„å¤æ‚DOMæ“ä½œé€šå¸¸æ˜¯è¡¡é‡ä¸€ä¸ªå‰ç«¯å¼€å‘äººå‘˜æŠ€èƒ½çš„é‡è¦æŒ‡æ ‡ï¼‰ã€‚ Reactä¸ºæ­¤å¼•å…¥äº†è™šæ‹ŸDOMï¼ˆVirtual DOMï¼‰çš„æœºåˆ¶ï¼šåœ¨æµè§ˆå™¨ç«¯ç”¨Javascriptå®ç°äº†ä¸€å¥—DOM APIã€‚åŸºäºReactè¿›è¡Œå¼€å‘æ—¶æ‰€æœ‰çš„DOMæ„é€ éƒ½æ˜¯é€šè¿‡è™šæ‹ŸDOMè¿›è¡Œï¼Œæ¯å½“æ•°æ®å˜åŒ–æ—¶ï¼ŒReactéƒ½ä¼šé‡æ–°æ„å»ºæ•´ä¸ªDOMæ ‘ï¼Œç„¶åReactå°†å½“å‰æ•´ä¸ªDOMæ ‘å’Œä¸Šä¸€æ¬¡çš„DOMæ ‘è¿›è¡Œå¯¹æ¯”ï¼Œå¾—åˆ°DOMç»“æ„çš„åŒºåˆ«ï¼Œç„¶åä»…ä»…å°†éœ€è¦å˜åŒ–çš„éƒ¨åˆ†è¿›è¡Œå®é™…çš„æµè§ˆå™¨DOMæ›´æ–°ã€‚è€Œä¸”Reactèƒ½å¤Ÿæ‰¹å¤„ç†è™šæ‹ŸDOMçš„åˆ·æ–°ï¼Œåœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰å†…çš„ä¸¤æ¬¡æ•°æ®å˜åŒ–ä¼šè¢«åˆå¹¶ï¼Œä¾‹å¦‚ä½ è¿ç»­çš„å…ˆå°†èŠ‚ç‚¹å†…å®¹ä»A-B,B-Aï¼ŒReactä¼šè®¤ä¸ºAå˜æˆBï¼Œç„¶ååˆä»Bå˜æˆA UIä¸å‘ç”Ÿä»»ä½•å˜åŒ–ï¼Œè€Œå¦‚æœé€šè¿‡æ‰‹åŠ¨æ§åˆ¶ï¼Œè¿™ç§é€»è¾‘é€šå¸¸æ˜¯æå…¶å¤æ‚çš„ã€‚ å°½ç®¡æ¯ä¸€æ¬¡éƒ½éœ€è¦æ„é€ å®Œæ•´çš„è™šæ‹ŸDOMæ ‘ï¼Œä½†æ˜¯å› ä¸ºè™šæ‹ŸDOMæ˜¯å†…å­˜æ•°æ®ï¼Œæ€§èƒ½æ˜¯æé«˜çš„ï¼Œéƒ¨è€Œå¯¹å®é™…DOMè¿›è¡Œæ“ä½œçš„ä»…ä»…æ˜¯Diffåˆ†ï¼Œå› è€Œèƒ½è¾¾åˆ°æé«˜æ€§èƒ½çš„ç›®çš„ã€‚è¿™æ ·ï¼Œåœ¨ä¿è¯æ€§èƒ½çš„åŒæ—¶ï¼Œå¼€å‘è€…å°†ä¸å†éœ€è¦å…³æ³¨æŸä¸ªæ•°æ®çš„å˜åŒ–å¦‚ä½•æ›´æ–°åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå…·ä½“çš„DOMå…ƒç´ ï¼Œè€Œåªéœ€è¦å…³å¿ƒåœ¨ä»»æ„ä¸€ä¸ªæ•°æ®çŠ¶æ€ä¸‹ï¼Œæ•´ä¸ªç•Œé¢æ˜¯å¦‚ä½•Renderçš„ã€‚ #####React Fiber: åœ¨react 16ä¹‹åå‘å¸ƒçš„ä¸€ç§react æ ¸å¿ƒç®—æ³•ï¼ŒReact Fiberæ˜¯å¯¹æ ¸å¿ƒç®—æ³•çš„ä¸€æ¬¡é‡æ–°å®ç°(å®˜ç½‘è¯´æ³•)ã€‚ä¹‹å‰ç”¨çš„æ˜¯diffç®—æ³•ã€‚ åœ¨ä¹‹å‰Reactä¸­ï¼Œæ›´æ–°è¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚ å½“Reactå†³å®šè¦åŠ è½½æˆ–è€…æ›´æ–°ç»„ä»¶æ ‘æ—¶ï¼Œä¼šåšå¾ˆå¤šäº‹ï¼Œæ¯”å¦‚è°ƒç”¨å„ä¸ªç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè®¡ç®—å’Œæ¯”å¯¹Virtual DOMï¼Œæœ€åæ›´æ–°DOMæ ‘ï¼Œè¿™æ•´ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦ä¸€ä¸ªåŠ è½½æˆ–è€…æ›´æ–°è¿‡ç¨‹å¼€å§‹ï¼Œä¸­é€”ä¸ä¼šä¸­æ–­ã€‚å› ä¸ºJavaScriptå•çº¿ç¨‹çš„ç‰¹ç‚¹ï¼Œå¦‚æœç»„ä»¶æ ‘å¾ˆå¤§çš„æ—¶å€™ï¼Œæ¯ä¸ªåŒæ­¥ä»»åŠ¡è€—æ—¶å¤ªé•¿ï¼Œå°±ä¼šå‡ºç°å¡é¡¿ã€‚ React Fiberçš„æ–¹æ³•å…¶å®å¾ˆç®€å•â€”â€”åˆ†ç‰‡ã€‚æŠŠä¸€ä¸ªè€—æ—¶é•¿çš„ä»»åŠ¡åˆ†æˆå¾ˆå¤šå°ç‰‡ï¼Œæ¯ä¸€ä¸ªå°ç‰‡çš„è¿è¡Œæ—¶é—´å¾ˆçŸ­ï¼Œè™½ç„¶æ€»æ—¶é—´ä¾ç„¶å¾ˆé•¿ï¼Œä½†æ˜¯åœ¨æ¯ä¸ªå°ç‰‡æ‰§è¡Œå®Œä¹‹åï¼Œéƒ½ç»™å…¶ä»–ä»»åŠ¡ä¸€ä¸ªæ‰§è¡Œçš„æœºä¼šï¼Œè¿™æ ·å”¯ä¸€çš„çº¿ç¨‹å°±ä¸ä¼šè¢«ç‹¬å ï¼Œå…¶ä»–ä»»åŠ¡ä¾ç„¶æœ‰è¿è¡Œçš„æœºä¼šã€‚ Reactçš„ç‰¹ç‚¹å’Œä¼˜åŠ¿ è™šæ‹ŸDOM æˆ‘ä»¬ä»¥å‰æ“ä½œdomçš„æ–¹å¼æ˜¯é€šè¿‡document.getElementById()çš„æ–¹å¼ï¼Œè¿™æ ·çš„è¿‡ç¨‹å®é™…ä¸Šæ˜¯å…ˆå»è¯»å–htmlçš„domç»“æ„ï¼Œå°†ç»“æ„è½¬æ¢æˆå˜é‡ï¼Œå†è¿›è¡Œæ“ä½œ è€Œreactjså®šä¹‰äº†ä¸€å¥—å˜é‡å½¢å¼çš„domæ¨¡å‹ï¼Œä¸€åˆ‡æ“ä½œå’Œæ¢ç®—ç›´æ¥åœ¨å˜é‡ä¸­ï¼Œè¿™æ ·å‡å°‘äº†æ“ä½œçœŸå®domï¼Œæ€§èƒ½çœŸå®ç›¸å½“çš„é«˜ï¼Œå’Œä¸»æµMVCæ¡†æ¶æœ‰æœ¬è´¨çš„åŒºåˆ«ï¼Œå¹¶ä¸å’Œdomæ‰“äº¤é“ ç»„ä»¶ç³»ç»Ÿ reactæœ€æ ¸å¿ƒçš„æ€æƒ³æ˜¯å°†é¡µé¢ä¸­ä»»ä½•ä¸€ä¸ªåŒºåŸŸæˆ–è€…å…ƒç´ éƒ½å¯ä»¥çœ‹åšä¸€ä¸ªç»„ä»¶ component é‚£ä¹ˆä»€ä¹ˆæ˜¯ç»„ä»¶å‘¢ï¼Ÿ ç»„ä»¶æŒ‡çš„å°±æ˜¯åŒæ—¶åŒ…å«äº†htmlã€cssã€jsã€imageå…ƒç´ çš„èšåˆä½“ ä½¿ç”¨reactå¼€å‘çš„æ ¸å¿ƒå°±æ˜¯å°†é¡µé¢æ‹†åˆ†æˆè‹¥å¹²ä¸ªç»„ä»¶ï¼Œå¹¶ä¸”reactä¸€ä¸ªç»„ä»¶ä¸­åŒæ—¶è€¦åˆäº†cssã€jsã€imageï¼Œè¿™ç§æ¨¡å¼æ•´ä¸ªé¢ è¦†äº†è¿‡å»çš„ä¼ ç»Ÿçš„æ–¹å¼ å•å‘æ•°æ®æµ å…¶å®reactjsçš„æ ¸å¿ƒå†…å®¹å°±æ˜¯æ•°æ®ç»‘å®šï¼Œæ‰€è°“æ•°æ®ç»‘å®šæŒ‡çš„æ˜¯åªè¦å°†ä¸€äº›æœåŠ¡ç«¯çš„æ•°æ®å’Œå‰ç«¯é¡µé¢ç»‘å®šå¥½ï¼Œå¼€å‘è€…åªå…³æ³¨å®ç°ä¸šåŠ¡å°±è¡Œäº† JSX è¯­æ³• åœ¨vueä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨renderå‡½æ•°æ¥æ„å»ºç»„ä»¶çš„domç»“æ„æ€§èƒ½è¾ƒé«˜ï¼Œå› ä¸ºçœå»äº†æŸ¥æ‰¾å’Œç¼–è¯‘æ¨¡æ¿çš„è¿‡ç¨‹ï¼Œä½†æ˜¯åœ¨renderä¸­åˆ©ç”¨createElementåˆ›å»ºç»“æ„çš„æ—¶å€™ä»£ç å¯è¯»æ€§è¾ƒä½ï¼Œè¾ƒä¸ºå¤æ‚ï¼Œæ­¤æ—¶å¯ä»¥åˆ©ç”¨jsxè¯­æ³•æ¥åœ¨renderä¸­åˆ›å»ºdomï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å‰ææ˜¯éœ€è¦ä½¿ç”¨å·¥å…·æ¥ç¼–è¯‘jsx ç¼–å†™ç¬¬ä¸€ä¸ªreactåº”ç”¨ç¨‹åºreactå¼€å‘éœ€è¦å¼•å…¥å¤šä¸ªä¾èµ–æ–‡ä»¶ï¼šreact.jsã€react-dom.jsï¼Œåˆ†åˆ«åˆæœ‰å¼€å‘ç‰ˆæœ¬å’Œç”Ÿäº§ç‰ˆæœ¬ï¼Œcreate-react-appé‡Œå·²ç»å¸®æˆ‘ä»¬æŠŠè¿™äº›ä¸œè¥¿éƒ½å®‰è£…å¥½äº†ã€‚æŠŠé€šè¿‡CRAåˆ›å»ºçš„å·¥ç¨‹ç›®å½•ä¸‹çš„srcç›®å½•æ¸…ç©ºï¼Œç„¶ååœ¨é‡Œé¢é‡æ–°åˆ›å»ºä¸€ä¸ªindex.js. å†™å…¥ä»¥ä¸‹ä»£ç : 123456789101112// ä» react çš„åŒ…å½“ä¸­å¼•å…¥äº† Reactã€‚åªè¦ä½ è¦å†™ React.js ç»„ä»¶å°±å¿…é¡»å¼•å…¥React, å› ä¸ºreacté‡Œæœ‰ä¸€ç§è¯­æ³•å«JSXï¼Œç¨åä¼šè®²åˆ°JSXï¼Œè¦å†™JSXï¼Œå°±å¿…é¡»å¼•å…¥Reactimport React from 'react'// ReactDOM å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠ React ç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Šå»ï¼Œæ²¡æœ‰å…¶å®ƒçš„ä½œç”¨äº†ã€‚å®ƒæ˜¯ä» react-dom ä¸­å¼•å…¥çš„ï¼Œè€Œä¸æ˜¯ä» react å¼•å…¥ã€‚import ReactDOM from 'react-dom'// ReactDOMé‡Œæœ‰ä¸€ä¸ªrenderæ–¹æ³•ï¼ŒåŠŸèƒ½å°±æ˜¯æŠŠç»„ä»¶æ¸²æŸ“å¹¶ä¸”æ„é€  DOM æ ‘ï¼Œç„¶åæ’å…¥åˆ°é¡µé¢ä¸ŠæŸä¸ªç‰¹å®šçš„å…ƒç´ ä¸ŠReactDOM.render(// è¿™é‡Œå°±æ¯”è¾ƒå¥‡æ€ªäº†ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œçœ‹èµ·æ¥åƒæ˜¯çº¯ HTML ä»£ç å†™åœ¨ JavaScript ä»£ç é‡Œé¢ã€‚è¯­æ³•é”™è¯¯å—ï¼Ÿè¿™å¹¶ä¸æ˜¯åˆæ³•çš„ JavaScript ä»£ç , â€œåœ¨ JavaScript å†™çš„æ ‡ç­¾çš„â€è¯­æ³•å« JSX- JavaScript XMLã€‚ &lt;h1&gt;æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ&lt;/h1&gt;,// æ¸²æŸ“åˆ°å“ªé‡Œ document.getElementById('root')) å…ƒç´ ä¸ç»„ä»¶å¦‚æœä»£ç å¤šäº†ä¹‹åï¼Œä¸å¯èƒ½ä¸€ç›´åœ¨renderæ–¹æ³•é‡Œå†™ï¼Œæ‰€ä»¥å°±éœ€è¦æŠŠé‡Œé¢çš„ä»£ç æå‡ºæ¥ï¼Œå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œåƒè¿™æ ·ï¼š 12345678import React from 'react'import ReactDOM from 'react-dom'// è¿™é‡Œæ„Ÿè§‰åˆä¸ä¹ æƒ¯äº†ï¼Ÿè¿™æ˜¯åœ¨ç”¨JSXå®šä¹‰ä¸€ä¸‹reactå…ƒç´ const app = '&lt;h1&gt;æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ&lt;/h1&gt;'ReactDOM.render( app, document.getElementById('root')) å‡½æ•°å¼ç»„ä»¶ï¼ˆ æ— çŠ¶æ€ç»„ä»¶ PureComponentï¼‰ç”±äºå…ƒç´ æ²¡æœ‰åŠæ³•ä¼ é€’å‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦æŠŠä¹‹å‰å®šä¹‰çš„å˜é‡æ”¹ä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œè®©è¿™ä¸ªæ–¹æ³•å»returnä¸€ä¸ªå…ƒç´ : 123456789101112import React from 'react'import ReactDOM from 'react-dom'// ç‰¹åˆ«æ³¨æ„è¿™é‡Œçš„å†™æ³•ï¼Œå¦‚æœè¦åœ¨JSXé‡Œå†™jsè¡¨è¾¾å¼(åªèƒ½æ˜¯è¡¨è¾¾å¼ï¼Œä¸èƒ½æµç¨‹æ§åˆ¶)ï¼Œå°±éœ€è¦åŠ  &#123;&#125;ï¼ŒåŒ…æ‹¬æ³¨é‡Šä¹Ÿæ˜¯ä¸€æ ·ï¼Œå¹¶ä¸”å¯ä»¥å¤šå±‚åµŒå¥—const app = (props) =&gt; &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;props.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt;ReactDOM.render( app(&#123; name: 'react' &#125;), document.getElementById('root')) è¿™é‡Œæˆ‘ä»¬å®šä¹‰çš„æ–¹æ³•å®é™…ä¸Šä¹Ÿæ˜¯reactå®šä¹‰ç»„ä»¶çš„ç¬¬ä¸€ç§æ–¹å¼-å®šä¹‰å‡½æ•°å¼ç»„ä»¶ï¼Œè¿™ä¹Ÿæ˜¯æ— çŠ¶æ€ç»„ä»¶ã€‚ä½†æ˜¯è¿™ç§å†™æ³•ä¸ç¬¦åˆreactçš„jsxçš„é£æ ¼ï¼Œæ›´å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨ä»¥ä¸‹æ–¹å¼è¿›è¡Œæ”¹é€  12345678910import React from 'react'import ReactDOM from 'react-dom'const App = (props) =&gt; &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;props.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt;ReactDOM.render( // Reactç»„ä»¶çš„è°ƒç”¨æ–¹å¼ &lt;App name="react" /&gt;, document.getElementById('root')) è¿™æ ·ä¸€ä¸ªå®Œæ•´çš„å‡½æ•°å¼ç»„ä»¶å°±å®šä¹‰å¥½äº†ã€‚ä½†è¦æ³¨æ„ï¼æ³¨æ„ï¼æ³¨æ„ï¼ç»„ä»¶åå¿…é¡»å¤§å†™ï¼Œå¦åˆ™æŠ¥é”™ã€‚ classç»„ä»¶ES6çš„åŠ å…¥è®©JavaScriptç›´æ¥æ”¯æŒä½¿ç”¨classæ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œreactçš„ç¬¬äºŒç§åˆ›å»ºç»„ä»¶çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨çš„ç±»çš„ç»§æ‰¿ï¼ŒES6 classæ˜¯ç›®å‰å®˜æ–¹æ¨èçš„ä½¿ç”¨æ–¹å¼ï¼Œå®ƒä½¿ç”¨äº†ES6æ ‡å‡†è¯­æ³•æ¥æ„å»ºï¼Œçœ‹ä»¥ä¸‹ä»£ç ï¼š 123456789101112131415import React from 'react'import ReactDOM from 'react-dom'class App extends React.Component &#123; render () &#123; return ( // æ³¨æ„è¿™é‡Œå¾—ç”¨this.props.name, å¿…é¡»ç”¨this.props &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;this.props.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt; ) &#125;&#125;ReactDOM.render( &lt;App name="react" /&gt;, document.getElementById('root')) è¿è¡Œç»“æœå’Œä¹‹å‰å®Œå…¨ä¸€æ ·ï¼Œå› ä¸ºJSé‡Œæ²¡æœ‰çœŸæ­£çš„classï¼Œè¿™ä¸ªclassåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–, ä½†äºŒè€…çš„è¿è¡Œæœºåˆ¶åº•å±‚è¿è¡Œæœºåˆ¶ä¸ä¸€æ ·ã€‚ å‡½æ•°å¼ç»„ä»¶æ˜¯ç›´æ¥è°ƒç”¨, åœ¨å‰é¢çš„ä»£ç é‡Œå·²ç»æœ‰çœ‹åˆ° class```ç»„ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªæ„é€ å™¨,æ¯æ¬¡ä½¿ç”¨ç»„ä»¶éƒ½ç›¸å½“äºåœ¨å®ä¾‹åŒ–ç»„ä»¶ï¼Œåƒè¿™æ ·ï¼š123456789101112131415161718192021```jsximport React from &apos;react&apos;import ReactDOM from &apos;react-dom&apos;class App extends React.Component &#123; render () &#123; return ( &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;this.props.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt; ) &#125;&#125;const app = new App(&#123; name: &apos;react&apos;&#125;).render()ReactDOM.render( app, document.getElementById(&apos;root&apos;)) æ›´è€çš„ä¸€ç§æ–¹æ³•åœ¨16ä»¥å‰çš„ç‰ˆæœ¬è¿˜æ”¯æŒè¿™æ ·åˆ›å»ºç»„ä»¶, ä½†ç°åœ¨çš„é¡¹ç›®åŸºæœ¬ä¸Šä¸ç”¨ 1234567React.createClass(&#123; render () &#123; return ( &lt;div&gt;&#123;this.props.xxx&#125;&lt;/div&gt; ) &#125;&#125;) ç»„ä»¶çš„ç»„åˆã€åµŒå¥—å°†ä¸€ä¸ªç»„ä»¶æ¸²æŸ“åˆ°æŸä¸€ä¸ªèŠ‚ç‚¹é‡Œçš„æ—¶å€™ï¼Œä¼šå°†è¿™ä¸ªèŠ‚ç‚¹é‡ŒåŸæœ‰å†…å®¹è¦†ç›– ç»„ä»¶åµŒå¥—çš„æ–¹å¼å°±æ˜¯å°†å­ç»„ä»¶å†™å…¥åˆ°çˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­å»ï¼Œä¸”reactæ²¡æœ‰Vueä¸­çš„å†…å®¹åˆ†å‘æœºåˆ¶ï¼ˆslotï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä¸€ä¸ªç»„ä»¶çš„æ¨¡æ¿ä¸­åªèƒ½çœ‹åˆ°çˆ¶å­å…³ç³» 12345678910111213141516171819202122232425262728293031323334353637383940414243444546// ä» react çš„åŒ…å½“ä¸­å¼•å…¥äº† React å’Œ React.js çš„ç»„ä»¶çˆ¶ç±» Component// è¿˜å¼•å…¥äº†ä¸€ä¸ªReact.jsé‡Œçš„ä¸€ç§ç‰¹æ®Šçš„ç»„ä»¶ Fragmentimport React, &#123; Component, Fragment &#125; from 'react'import ReactDOM from 'react-dom'class Title extends Component &#123; render () &#123; return ( &lt;h1&gt;æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ&lt;/h1&gt; ) &#125;&#125;class Content extends Component &#123; render () &#123; return ( &lt;p&gt;React.jsæ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/p&gt; ) &#125;&#125;/** ç”±äºæ¯ä¸ªReactç»„ä»¶åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¦æ¸²æŸ“å¤šä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œéœ€è¦åœ¨æœ€å¤–å±‚åŒ…ä¸€ä¸ªå®¹å™¨ï¼Œå¦‚æœä½¿ç”¨div, ä¼šç”Ÿæˆå¤šä½™çš„ä¸€å±‚domclass App extends Component &#123; render () &#123; return ( &lt;div&gt; &lt;Title /&gt; &lt;Content /&gt; &lt;/div&gt; ) &#125;&#125;**/// å¦‚æœä¸æƒ³ç”Ÿæˆå¤šä½™çš„ä¸€å±‚domå¯ä»¥ä½¿ç”¨Reactæä¾›çš„Fragmentç»„ä»¶åœ¨æœ€å¤–å±‚è¿›è¡ŒåŒ…è£¹class App extends Component &#123; render () &#123; return ( &lt;Fragment&gt; &lt;Title /&gt; &lt;Content /&gt; &lt;/Fragment&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) #JSX åŸç† è¦æ˜ç™½JSXçš„åŸç†ï¼Œéœ€è¦å…ˆæ˜ç™½å¦‚ä½•ç”¨ JavaScript å¯¹è±¡æ¥è¡¨ç°ä¸€ä¸ª DOM å…ƒç´ çš„ç»“æ„? çœ‹ä¸‹é¢çš„DOMç»“æ„ 123456&lt;div class='app' id='appRoot'&gt; &lt;h1 class='title'&gt;æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ&lt;/h1&gt; &lt;p&gt; React.js æ˜¯ä¸€ä¸ªå¸®åŠ©ä½ æ„å»ºé¡µé¢ UI çš„åº“ &lt;/p&gt;&lt;/div&gt; ä¸Šé¢è¿™ä¸ª HTML æ‰€æœ‰çš„ä¿¡æ¯æˆ‘ä»¬éƒ½å¯ä»¥ç”¨ JavaScript å¯¹è±¡æ¥è¡¨ç¤ºï¼š 12345678910111213141516&#123; tag: 'div', attrs: &#123; className: 'app', id: 'appRoot'&#125;, children: [ &#123; tag: 'h1', attrs: &#123; className: 'title' &#125;, children: ['æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ'] &#125;, &#123; tag: 'p', attrs: null, children: ['React.js æ˜¯ä¸€ä¸ªæ„å»ºé¡µé¢ UI çš„åº“'] &#125; ]&#125; ä½†æ˜¯ç”¨ JavaScript å†™èµ·æ¥å¤ªé•¿äº†ï¼Œç»“æ„çœ‹èµ·æ¥åˆä¸æ¸…æ™°ï¼Œç”¨ HTML çš„æ–¹å¼å†™èµ·æ¥å°±æ–¹ä¾¿å¾ˆå¤šäº†ã€‚ äºæ˜¯ React.js å°±æŠŠ JavaScript çš„è¯­æ³•æ‰©å±•äº†ä¸€ä¸‹ï¼Œè®© JavaScript è¯­è¨€èƒ½å¤Ÿæ”¯æŒè¿™ç§ç›´æ¥åœ¨ JavaScript ä»£ç é‡Œé¢ç¼–å†™ç±»ä¼¼ HTML æ ‡ç­¾ç»“æ„çš„è¯­æ³•ï¼Œè¿™æ ·å†™èµ·æ¥å°±æ–¹ä¾¿å¾ˆå¤šäº†ã€‚ç¼–è¯‘çš„è¿‡ç¨‹ä¼šæŠŠç±»ä¼¼ HTML çš„ JSX ç»“æ„è½¬æ¢æˆ JavaScript çš„å¯¹è±¡ç»“æ„ã€‚ ä¸‹é¢ä»£ç : 1234567891011121314151617181920import React from 'react'import ReactDOM from 'react-dom'class App extends React.Component &#123; render () &#123; return ( &lt;div className='app' id='appRoot'&gt; &lt;h1 className='title'&gt;æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ&lt;/h1&gt; &lt;p&gt; React.js æ˜¯ä¸€ä¸ªæ„å»ºé¡µé¢ UI çš„åº“ &lt;/p&gt; &lt;/div&gt; ) &#125;&#125;ReactDOM.render( &lt;App /&gt;, document.getElementById('root')) ç¼–è¯‘ä¹‹åå°†å¾—åˆ°è¿™æ ·çš„ä»£ç : 12345678910111213141516171819202122232425262728293031import React from 'react'import ReactDOM from 'react-dom'class App extends React.Component &#123; render () &#123; return ( React.createElement( "div", &#123; className: 'app', id: 'appRoot' &#125;, React.createElement( "h1", &#123; className: 'title' &#125;, "æ¬¢è¿è¿›å…¥Reactçš„ä¸–ç•Œ" ), React.createElement( "p", null, "React.js æ˜¯ä¸€ä¸ªæ„å»ºé¡µé¢ UI çš„åº“" ) ) ) &#125;&#125;ReactDOM.render( React.createElement(App), document.getElementById('root')) React.createElement ä¼šæ„å»ºä¸€ä¸ª JavaScript å¯¹è±¡æ¥æè¿°ä½  HTML ç»“æ„çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ ‡ç­¾åã€å±æ€§ã€è¿˜æœ‰å­å…ƒç´ ç­‰, è¯­æ³•ä¸º 12345React.createElement( type, [props], [...children]) æ‰€è°“çš„ JSX å…¶å®å°±æ˜¯ JavaScript å¯¹è±¡ï¼Œæ‰€ä»¥ä½¿ç”¨ React å’Œ JSX çš„æ—¶å€™ä¸€å®šè¦ç»è¿‡ç¼–è¯‘çš„è¿‡ç¨‹: JSX â€”ä½¿ç”¨reactæ„é€ ç»„ä»¶ï¼Œbableè¿›è¡Œç¼–è¯‘â€”&gt; JavaScriptå¯¹è±¡ â€” ReactDOM.render()â€”&gt;DOMå…ƒç´  â€”&gt;æ’å…¥é¡µé¢ #ç»„ä»¶ä¸­DOMæ ·å¼ ä¸€å…±æœ‰å››ç§ è¡Œå†…æ ·å¼ æƒ³ç»™è™šæ‹Ÿdomæ·»åŠ è¡Œå†…æ ·å¼ï¼Œéœ€è¦ä½¿ç”¨è¡¨è¾¾å¼ä¼ å…¥æ ·å¼å¯¹è±¡çš„æ–¹å¼æ¥å®ç°ï¼š 12// æ³¨æ„è¿™é‡Œçš„ä¸¤ä¸ªæ‹¬å·ï¼Œç¬¬ä¸€ä¸ªè¡¨ç¤ºæˆ‘ä»¬åœ¨è¦JSXé‡Œæ’å…¥JSäº†ï¼Œç¬¬äºŒä¸ªæ˜¯å¯¹è±¡çš„æ‹¬å· &lt;p style=&#123;&#123;color:'red', fontSize:'14px'&#125;&#125;&gt;Hello world&lt;/p&gt; è¡Œå†…æ ·å¼éœ€è¦å†™å…¥ä¸€ä¸ªæ ·å¼å¯¹è±¡ï¼Œè€Œè¿™ä¸ªæ ·å¼å¯¹è±¡çš„ä½ç½®å¯ä»¥æ”¾åœ¨å¾ˆå¤šåœ°æ–¹ï¼Œä¾‹å¦‚renderå‡½æ•°é‡Œã€ç»„ä»¶åŸå‹ä¸Šã€å¤–é“¾jsæ–‡ä»¶ä¸­ ä½¿ç”¨class Reactæ¨èæˆ‘ä»¬ä½¿ç”¨è¡Œå†…æ ·å¼ï¼Œå› ä¸ºReactè§‰å¾—æ¯ä¸€ä¸ªç»„ä»¶éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ•´ä½“ å…¶å®æˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä¸‹è¿˜æ˜¯å¤§é‡çš„åœ¨ä¸ºå…ƒç´ æ·»åŠ ç±»åï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œclasséœ€è¦å†™æˆclassNameï¼ˆå› ä¸ºæ¯•ç«Ÿæ˜¯åœ¨å†™ç±»jsä»£ç ï¼Œä¼šæ”¶åˆ°jsè§„åˆ™çš„é™åˆ¶ï¼Œè€Œclassæ˜¯å…³é”®å­—ï¼‰ 1&lt;p className="hello" style = &#123;this.style&#125;&gt;Hello world&lt;/p&gt; ä¸åŒçš„æ¡ä»¶æ·»åŠ ä¸åŒçš„æ ·å¼ æœ‰æ—¶å€™éœ€è¦æ ¹æ®ä¸åŒçš„æ¡ä»¶æ·»åŠ ä¸åŒçš„æ ·å¼ï¼Œæ¯”å¦‚ï¼šå®ŒæˆçŠ¶æ€ï¼Œå®Œæˆæ˜¯ç»¿è‰²ï¼Œæœªå®Œæˆæ˜¯çº¢è‰²ã€‚é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨classname/classnamesè¿™ä¸ªåŒ…ï¼š css-in-js ï¼ˆ åœ¨jsä¸­å†™css ï¼‰ styled-componentsæ˜¯é’ˆå¯¹Reactå†™çš„ä¸€å¥—css-in-jsæ¡†æ¶ï¼Œç®€å•æ¥è®²å°±æ˜¯åœ¨jsä¸­å†™cssã€‚npmé“¾æ¥ styled-componentsæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…ï¼Œè¦å®‰è£… #TodoList ç»„ä»¶åŒ–å¼€å‘React todolistï¼Œ é¡¹ç›®å¼€å‘ä¸­çš„ç»„ä»¶çš„åŸºæœ¬ç›®å½•ç»“æ„åŸºæœ¬ä¸Šæ˜¯è¿™æ ·çš„ï¼š /your-project src â€¦ components YourComponentOne index.js/YourComponentOne.js YourComponentTwo index.js/YourComponentTwo.js index.js ç”¨äºå¯¼å‡ºç»„ä»¶ æ³¨æ„ï¼šä¸€ä¸ªç»„ä»¶åªå¹²ä¸€ä»¶äº‹æƒ… ï¼Œæ‰€ä»¥TodoListå’ŒTodoItemè¦åšæˆä¸¤ä¸ªç»„ä»¶ï¼Œè¿™æ ·ä¹Ÿæ–¹ä¾¿äºåæœŸç†è§£shouldComponentUpdate ç»„ä»¶çš„æ•°æ®æŒ‚è½½æ–¹å¼Reactä¸­æ•°æ®åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ† 1. å±æ€§ 2. çŠ¶æ€ç»éªŒï¼š é¢‘ç¹å˜åŒ–çš„å°±å†™æˆçŠ¶æ€ å±æ€§(props)propsæ˜¯æ­£å¸¸ä»å¤–éƒ¨ä¼ å…¥çš„ï¼Œç»„ä»¶å†…éƒ¨ä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›æ–¹å¼æ¥åˆå§‹åŒ–çš„è®¾ç½®ï¼Œå±æ€§ä¸èƒ½è¢«ç»„ä»¶è‡ªå·±æ›´æ”¹ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡çˆ¶ç»„ä»¶ä¸»åŠ¨é‡æ–°æ¸²æŸ“çš„æ–¹å¼æ¥ä¼ å…¥æ–°çš„ props å±æ€§æ˜¯æè¿°æ€§è´¨ã€ç‰¹ç‚¹çš„ï¼Œç»„ä»¶è‡ªå·±ä¸èƒ½éšæ„æ›´æ”¹ã€‚ ä¹‹å‰çš„ç»„ä»¶ä»£ç é‡Œé¢æœ‰propsçš„ç®€å•ä½¿ç”¨ï¼Œæ€»çš„æ¥è¯´ï¼Œåœ¨ä½¿ç”¨ä¸€ä¸ªç»„ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå‚æ•°æ”¾åœ¨æ ‡ç­¾çš„å±æ€§å½“ä¸­ï¼Œæ‰€æœ‰çš„å±æ€§éƒ½ä¼šä½œä¸ºç»„ä»¶ props å¯¹è±¡çš„é”®å€¼ã€‚é€šè¿‡ç®­å¤´å‡½æ•°åˆ›å»ºçš„ç»„ä»¶ï¼Œéœ€è¦é€šè¿‡å‡½æ•°çš„å‚æ•°æ¥æ¥æ”¶props: 1234567891011121314151617181920212223242526272829303132import React, &#123; Component, Fragment &#125; from 'react'import ReactDOM from 'react-dom'class Title extends Component &#123; render () &#123; return ( &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;this.props.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt; ) &#125;&#125;const Content = (props) =&gt; &#123; return ( &lt;p&gt;&#123;props.name&#125;æ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/p&gt; )&#125;class App extends Component &#123; render () &#123; return ( &lt;Fragment&gt; &lt;Title name="React" /&gt; &lt;Content name="React.js" /&gt; &lt;/Fragment&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) ###è®¾ç½®ç»„ä»¶çš„é»˜è®¤props 123456789101112131415161718192021222324252627282930313233343536373839404142import React, &#123; Component, Fragment &#125; from 'react'import ReactDOM from 'react-dom'class Title extends Component &#123; // ä½¿ç”¨ç±»åˆ›å»ºçš„ç»„ä»¶ï¼Œç›´æ¥åœ¨è¿™é‡Œå†™staticæ–¹æ³•ï¼Œåˆ›å»ºdefaultProps static defaultProps = &#123; name: 'React' &#125; render () &#123; return ( &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;this.props.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt; ) &#125;&#125;const Content = (props) =&gt; &#123; return ( &lt;p&gt;&#123;props.name&#125;æ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/p&gt; )&#125;// ä½¿ç”¨ç®­å¤´å‡½æ•°åˆ›å»ºçš„ç»„ä»¶ï¼Œéœ€è¦åœ¨è¿™ä¸ªç»„ä»¶ä¸Šç›´æ¥å†™defaultPropså±æ€§Content.defaultProps = &#123; name: 'React.js'&#125;class App extends Component &#123; render () &#123; return ( &lt;Fragment&gt; &#123;/* ç”±äºè®¾ç½®äº†defaultPropsï¼Œ ä¸ä¼ propsä¹Ÿèƒ½æ­£å¸¸è¿è¡Œï¼Œå¦‚æœä¼ é€’äº†å°±ä¼šè¦†ç›–defaultPropsçš„å€¼ */&#125; &lt;Title /&gt; &lt;Content /&gt; &lt;/Fragment&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) props.childrenæˆ‘ä»¬çŸ¥é“ä½¿ç”¨ç»„ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥åµŒå¥—ã€‚è¦åœ¨è‡ªå®šä¹‰ç»„ä»¶çš„ä½¿ç”¨åµŒå¥—ç»“æ„ï¼Œå°±éœ€è¦ä½¿ç”¨ props.children ã€‚åœ¨å®é™…çš„å·¥ä½œå½“ä¸­ï¼Œæˆ‘ä»¬å‡ ä¹æ¯å¤©éƒ½éœ€è¦ç”¨è¿™ç§æ–¹å¼æ¥ç¼–å†™ç»„ä»¶ã€‚ 1234567891011121314151617181920212223242526272829303132import React, &#123; Component, Fragment &#125; from 'react'import ReactDOM from 'react-dom'class Title extends Component &#123; render () &#123; return ( &lt;h1&gt;æ¬¢è¿è¿›å…¥&#123;this.props.children&#125;çš„ä¸–ç•Œ&lt;/h1&gt; ) &#125;&#125;const Content = (props) =&gt; &#123; return ( &lt;p&gt;&#123;props.children&#125;&lt;/p&gt; )&#125;class App extends Component &#123; render () &#123; return ( &lt;Fragment&gt; &lt;Title&gt;React&lt;/Title&gt; &lt;Content&gt;&lt;i&gt;React.js&lt;/i&gt;æ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/Content&gt; &lt;/Fragment&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) ä½¿ç”¨prop-typesæ£€æŸ¥propsReactå…¶å®æ˜¯ä¸ºäº†æ„å»ºå¤§å‹åº”ç”¨ç¨‹åºè€Œç”Ÿ, åœ¨ä¸€ä¸ªå¤§å‹åº”ç”¨ä¸­ï¼Œæ ¹æœ¬ä¸çŸ¥é“åˆ«äººä½¿ç”¨ä½ å†™çš„ç»„ä»¶çš„æ—¶å€™ä¼šä¼ å…¥ä»€ä¹ˆæ ·çš„å‚æ•°ï¼Œæœ‰å¯èƒ½ä¼šé€ æˆåº”ç”¨ç¨‹åºè¿è¡Œä¸äº†ï¼Œä½†æ˜¯ä¸æŠ¥é”™ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒReactæä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œè®©å†™ç»„ä»¶çš„äººå¯ä»¥ç»™ç»„ä»¶çš„123```sh $ npm i prop-types -S ##çŠ¶æ€(state) çŠ¶æ€å°±æ˜¯ç»„ä»¶æè¿°æŸç§æ˜¾ç¤ºæƒ…å†µçš„æ•°æ®ï¼Œç”±ç»„ä»¶è‡ªå·±è®¾ç½®å’Œæ›´æ”¹ï¼Œä¹Ÿå°±æ˜¯è¯´ç”±ç»„ä»¶è‡ªå·±ç»´æŠ¤ï¼Œä½¿ç”¨çŠ¶æ€çš„ç›®çš„å°±æ˜¯ä¸ºäº†åœ¨ä¸åŒçš„çŠ¶æ€ä¸‹ä½¿ç»„ä»¶çš„æ˜¾ç¤ºä¸åŒ(è‡ªå·±ç®¡ç†) ç»éªŒï¼š ç»„ä»¶è‡ªå·±çš„çŠ¶æ€åªèƒ½è‡ªå·±æ›´æ”¹ ###å®šä¹‰state ç¬¬ä¸€ç§æ–¹å¼ 12345678910111213141516171819202122232425import React, &#123; Component &#125; from 'react'import ReactDOM from 'react-dom'class App extends Component &#123; state = &#123; name: 'React', isLiked: false &#125; render () &#123; return ( &lt;div&gt; &lt;h1&gt;æ¬¢è¿æ¥åˆ°&#123;this.state.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt; &lt;button&gt; &#123; this.state.isLiked ? 'â¤ï¸å–æ¶ˆ' : 'ğŸ–¤æ”¶è—' &#125; &lt;/button&gt; &lt;/div&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) å¦ä¸€ç§æ–¹å¼(æ¨è) 12345678910111213141516171819202122232425262728import React, &#123; Component &#125; from 'react'import ReactDOM from 'react-dom'class App extends Component &#123; constructor() &#123; super() this.state = &#123; name: 'React', isLiked: false &#125; &#125; render () &#123; return ( &lt;div&gt; &lt;h1&gt;æ¬¢è¿æ¥åˆ°&#123;this.state.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt; &lt;button&gt; &#123; this.state.isLiked ? 'â¤ï¸å–æ¶ˆ' : 'ğŸ–¤æ”¶è—' &#125; &lt;/button&gt; &lt;/div&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) this.propså’Œthis.stateæ˜¯çº¯jså¯¹è±¡,åœ¨vueä¸­ï¼Œdataå±æ€§æ˜¯åˆ©ç”¨Object.definePropertyå¤„ç†è¿‡çš„ï¼Œæ›´æ”¹â€‹dataçš„æ•°æ®çš„æ—¶å€™ä¼šè§¦å‘æ•°æ®çš„getterå’Œsetterï¼Œä½†æ˜¯Reactä¸­æ²¡æœ‰åšè¿™æ ·çš„å¤„ç†ï¼Œå¦‚æœç›´æ¥æ›´æ”¹çš„è¯ï¼Œreactæ˜¯æ— æ³•å¾—çŸ¥çš„ï¼Œæ‰€ä»¥ï¼Œéœ€è¦ä½¿ç”¨ç‰¹æ®Šçš„æ›´æ”¹çŠ¶æ€çš„æ–¹æ³•setStateã€‚ ###setState isLiked å­˜æ”¾åœ¨å®ä¾‹çš„ state å¯¹è±¡å½“ä¸­ï¼Œç»„ä»¶çš„ render å‡½æ•°å†…ï¼Œä¼šæ ¹æ®ç»„ä»¶çš„ state çš„ä¸­çš„isLikedä¸åŒæ˜¾ç¤ºâ€œå–æ¶ˆâ€æˆ–â€œæ”¶è—â€å†…å®¹ã€‚ä¸‹é¢ç»™ button åŠ ä¸Šäº†ç‚¹å‡»çš„äº‹ä»¶ç›‘å¬ã€‚ 123456789101112131415161718192021222324252627282930313233import React, &#123; Component &#125; from 'react'import ReactDOM from 'react-dom'class App extends Component &#123; constructor() &#123; super() this.state = &#123; name: 'React', isLiked: false &#125; &#125; handleBtnClick = () =&gt; &#123; this.setState(&#123; isLiked: !this.state.isLiked &#125;) &#125; render () &#123; return ( &lt;div&gt; &lt;h1&gt;æ¬¢è¿æ¥åˆ°&#123;this.state.name&#125;çš„ä¸–ç•Œ&lt;/h1&gt; &lt;button onClick=&#123;this.handleBtnClick&#125;&gt; &#123; this.state.isLiked ? 'â¤ï¸å–æ¶ˆ' : 'ğŸ–¤æ”¶è—' &#125; &lt;/button&gt; &lt;/div&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) setStateæœ‰ä¸¤ä¸ªå‚æ•°ï¼ˆ é¢è¯•é¢˜ ç‹è€…ï¼‰ ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯æ–¹æ³• ã€returnä¸€ä¸ªå¯¹è±¡ã€‘ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªå‚æ•°å«åšupdater å‚æ•°æ˜¯å¯¹è±¡ 123this.setState(&#123; isLiked: !this.state.isLiked&#125;) å‚æ•°æ˜¯æ–¹æ³• 12345this.setState((prevState, props) =&gt; &#123; return &#123; isLiked: !prevState.isLiked &#125;&#125;) æ³¨æ„çš„æ˜¯è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯ä¸Šä¸€æ¬¡çš„state, ç¬¬äºŒä¸ªæ˜¯props setStateæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥æƒ³è¦è·å–åˆ°æœ€æ–°çš„stateï¼Œæ²¡æœ‰åŠæ³•è·å–ï¼Œå°±æœ‰äº†ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯é€‰çš„å›è°ƒå‡½æ•° 12345678this.setState((prevState, props) =&gt; &#123; return &#123; isLiked: !prevState.isLiked &#125;&#125;, () =&gt; &#123; console.log('å›è°ƒé‡Œçš„',this.state.isLiked)&#125;)console.log('setStateå¤–éƒ¨çš„',this.state.isLiked) å±æ€§vsçŠ¶æ€ç›¸ä¼¼ç‚¹ï¼šéƒ½æ˜¯çº¯jså¯¹è±¡ï¼Œéƒ½ä¼šè§¦å‘renderæ›´æ–°ï¼Œéƒ½å…·æœ‰ç¡®å®šæ€§ï¼ˆçŠ¶æ€/å±æ€§ç›¸åŒï¼Œç»“æœç›¸åŒï¼‰ ä¸åŒç‚¹ï¼š å±æ€§èƒ½ä»çˆ¶ç»„ä»¶è·å–ï¼ŒçŠ¶æ€ä¸èƒ½ å±æ€§å¯ä»¥ç”±çˆ¶ç»„ä»¶ä¿®æ”¹ï¼ŒçŠ¶æ€ä¸èƒ½ å±æ€§èƒ½åœ¨å†…éƒ¨è®¾ç½®é»˜è®¤å€¼ï¼ŒçŠ¶æ€ä¹Ÿå¯ä»¥ å±æ€§ä¸åœ¨ç»„ä»¶å†…éƒ¨ä¿®æ”¹ï¼ŒçŠ¶æ€è¦æ”¹ å±æ€§èƒ½è®¾ç½®å­ç»„ä»¶åˆå§‹å€¼ï¼ŒçŠ¶æ€ä¸å¯ä»¥ å±æ€§å¯ä»¥ä¿®æ”¹å­ç»„ä»¶çš„å€¼ï¼ŒçŠ¶æ€ä¸å¯ä»¥ state çš„ä¸»è¦ä½œç”¨æ˜¯ç”¨äºç»„ä»¶ä¿å­˜ã€æ§åˆ¶ã€ä¿®æ”¹è‡ªå·±çš„å¯å˜çŠ¶æ€ã€‚state åœ¨ç»„ä»¶å†…éƒ¨åˆå§‹åŒ–ï¼Œå¯ä»¥è¢«ç»„ä»¶è‡ªèº«ä¿®æ”¹ï¼Œè€Œå¤–éƒ¨ä¸èƒ½è®¿é—®ä¹Ÿä¸èƒ½ä¿®æ”¹ã€‚ä½ å¯ä»¥è®¤ä¸º state æ˜¯ä¸€ä¸ªå±€éƒ¨çš„ã€åªèƒ½è¢«ç»„ä»¶è‡ªèº«æ§åˆ¶çš„æ•°æ®æºã€‚state ä¸­çŠ¶æ€å¯ä»¥é€šè¿‡ this.setStateæ–¹æ³•è¿›è¡Œæ›´æ–°ï¼ŒsetState ä¼šå¯¼è‡´ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ã€‚ props çš„ä¸»è¦ä½œç”¨æ˜¯è®©ä½¿ç”¨è¯¥ç»„ä»¶çš„çˆ¶ç»„ä»¶å¯ä»¥ä¼ å…¥å‚æ•°æ¥é…ç½®è¯¥ç»„ä»¶ã€‚å®ƒæ˜¯å¤–éƒ¨ä¼ è¿›æ¥çš„é…ç½®å‚æ•°ï¼Œç»„ä»¶å†…éƒ¨æ— æ³•æ§åˆ¶ä¹Ÿæ— æ³•ä¿®æ”¹ã€‚é™¤éå¤–éƒ¨ç»„ä»¶ä¸»åŠ¨ä¼ å…¥æ–°çš„ propsï¼Œå¦åˆ™ç»„ä»¶çš„ props æ°¸è¿œä¿æŒä¸å˜ã€‚ å¦‚æœæä¸æ¸… state å’Œ props çš„ä½¿ç”¨åœºæ™¯ï¼Œè®°ä½ä¸€ä¸ªç®€å•çš„è§„åˆ™ï¼šå°½é‡å°‘åœ°ç”¨ stateï¼Œå¤šç”¨ propsã€‚ æ²¡æœ‰ state çš„ç»„ä»¶å«æ— çŠ¶æ€ç»„ä»¶ï¼ˆstateless componentï¼‰ï¼Œè®¾ç½®äº† state çš„å«åšæœ‰çŠ¶æ€ç»„ä»¶ï¼ˆstateful componentï¼‰ã€‚å› ä¸ºçŠ¶æ€ä¼šå¸¦æ¥ç®¡ç†çš„å¤æ‚æ€§ï¼Œæˆ‘ä»¬å°½é‡å¤šåœ°å†™æ— çŠ¶æ€ç»„ä»¶ï¼Œå°½é‡å°‘åœ°å†™æœ‰çŠ¶æ€çš„ç»„ä»¶ã€‚è¿™æ ·ä¼šé™ä½ä»£ç ç»´æŠ¤çš„éš¾åº¦ï¼Œä¹Ÿä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢å¼ºç»„ä»¶çš„å¯å¤ç”¨æ€§ã€‚ reactæ€§èƒ½ä¼˜åŒ–ä¸€ä¸ªæ–¹æ¡ˆï¼š å°±æ˜¯å¤šä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼ˆ å‡½æ•°å¼ç»„ä»¶ ï¼‰ ##çŠ¶æ€æå‡ å¦‚æœæœ‰å¤šä¸ªç»„ä»¶å…±äº«ä¸€ä¸ªæ•°æ®ï¼ŒæŠŠè¿™ä¸ªæ•°æ®æ”¾åˆ°å…±åŒçš„çˆ¶çº§ç»„ä»¶ä¸­æ¥ç®¡ç† å—æ§ç»„ä»¶ä¸éå—æ§ç»„ä»¶Reactç»„ä»¶çš„æ•°æ®æ¸²æŸ“æ˜¯å¦è¢«è°ƒç”¨ æ˜¯é€šè¿‡ ä¼ é€’è¿‡æ¥çš„propså®Œå…¨æ§åˆ¶ï¼Œæ§åˆ¶åˆ™ä¸ºå—æ§ç»„ä»¶ï¼Œå¦åˆ™éå—æ§ç»„ä»¶ã€‚ æ¸²æŸ“æ•°æ® æ¡ä»¶æ¸²æŸ“ 12345&#123; condition ? 'â¤ï¸å–æ¶ˆ' : 'ğŸ–¤æ”¶è—'&#125;&#123; condition &amp;&amp; 'å–æ¶ˆ'||'æ”¶è—' &#125; åˆ—è¡¨æ¸²æŸ“ 123456789101112131415161718192021// æ•°æ®const people = [&#123; id: 1, name: 'Leo', age: 35&#125;, &#123; id: 2, name: 'XiaoMing', age: 16&#125;]// æ¸²æŸ“åˆ—è¡¨&#123; people.map(person =&gt; &#123; return ( &lt;dl key=&#123;person.id&#125;&gt; &lt;dt&gt;&#123;person.name&#125;&lt;/dt&gt; &lt;dd&gt;age: &#123;person.age&#125;&lt;/dd&gt; &lt;/dl&gt; ) &#125;)&#125; Reactçš„é«˜æ•ˆä¾èµ–äºæ‰€è°“çš„ Virtual-DOMï¼Œå°½é‡ä¸ç¢° DOMã€‚å¯¹äºåˆ—è¡¨å…ƒç´ æ¥è¯´ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼šå…ƒç´ å¯èƒ½ä¼šåœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­æ”¹å˜ä½ç½®ã€‚è¦å®ç°è¿™ä¸ªæ“ä½œï¼Œåªéœ€è¦äº¤æ¢ä¸€ä¸‹ DOM ä½ç½®å°±è¡Œäº†ï¼Œä½†æ˜¯Reactå¹¶ä¸çŸ¥é“å…¶å®æˆ‘ä»¬åªæ˜¯æ”¹å˜äº†å…ƒç´ çš„ä½ç½®ï¼Œæ‰€ä»¥å®ƒä¼šé‡æ–°æ¸²æŸ“åé¢ä¸¤ä¸ªå…ƒç´ ï¼ˆå†æ‰§è¡Œ Virtual-DOM ï¼‰ï¼Œè¿™æ ·ä¼šå¤§å¤§å¢åŠ  DOM æ“ä½œã€‚ä½†å¦‚æœç»™æ¯ä¸ªå…ƒç´ åŠ ä¸Šå”¯ä¸€çš„æ ‡è¯†ï¼ŒReact å°±å¯ä»¥çŸ¥é“è¿™ä¸¤ä¸ªå…ƒç´ åªæ˜¯äº¤æ¢äº†ä½ç½®ï¼Œè¿™ä¸ªæ ‡è¯†å°±æ˜¯`key` å¿…é¡»æ˜¯æ¯ä¸ªå…ƒç´ å”¯ä¸€çš„æ ‡è¯†1234567- dangerouslySetHTMLå¯¹äºå¯Œæ–‡æœ¬åˆ›å»ºçš„å†…å®¹ï¼Œåå°æ‹¿åˆ°çš„æ•°æ®æ˜¯è¿™æ ·çš„ï¼š```jscontent = &quot;&lt;p&gt;React.jsæ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/p&gt;&quot; å¤„äºå®‰å…¨çš„åŸå› ï¼ŒReactå½“ä¸­æ‰€æœ‰è¡¨è¾¾å¼çš„å†…å®¹ä¼šè¢«è½¬ä¹‰ï¼Œå¦‚æœç›´æ¥è¾“å…¥ï¼Œæ ‡ç­¾ä¼šè¢«å½“æˆæ–‡æœ¬ã€‚è¿™æ—¶å€™å°±éœ€è¦ä½¿ç”¨dangerouslySetHTMLå±æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬åŠ¨æ€è®¾ç½®innerHTML 1234567891011121314151617181920212223import React, &#123; Component &#125; from 'react'import ReactDOM from 'react-dom'class App extends Component &#123; constructor() &#123; super() this.state = &#123; content : "&lt;p&gt;React.jsæ˜¯ä¸€ä¸ªæ„å»ºUIçš„åº“&lt;/p&gt;" &#125; &#125; render () &#123; return ( &lt;div // æ³¨æ„è¿™é‡Œæ˜¯ä¸¤ä¸ªä¸‹ä¸‹åˆ’çº¿ __html dangerouslySetInnerHTML=&#123;&#123;__html: this.state.content&#125;&#125; /&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) äº‹ä»¶å¤„ç†ç»‘å®šäº‹ä»¶é‡‡ç”¨on+äº‹ä»¶åçš„æ–¹å¼æ¥ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œæ³¨æ„ï¼Œè¿™é‡Œå’ŒåŸç”Ÿçš„äº‹ä»¶æ˜¯æœ‰åŒºåˆ«çš„ï¼ŒåŸç”Ÿçš„äº‹ä»¶å…¨æ˜¯å°å†™onclick, Reacté‡Œçš„äº‹ä»¶æ˜¯é©¼å³°onClickï¼ŒReactçš„äº‹ä»¶å¹¶ä¸æ˜¯åŸç”Ÿäº‹ä»¶ï¼Œè€Œæ˜¯åˆæˆäº‹ä»¶ã€‚ äº‹ä»¶handlerçš„å†™æ³• ã€ ç‹ç‰Œ || ç‹è€…ã€‘ ç›´æ¥åœ¨renderé‡Œå†™è¡Œå†…çš„ç®­å¤´å‡½æ•°(ä¸æ¨è) åœ¨ç»„ä»¶å†…ä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰ä¸€ä¸ªæ–¹æ³•(æ¨è) ç›´æ¥åœ¨ç»„ä»¶å†…å®šä¹‰ä¸€ä¸ªéç®­å¤´å‡½æ•°çš„æ–¹æ³•ï¼Œç„¶ååœ¨renderé‡Œç›´æ¥ä½¿ç”¨onClick={this.handleClick.bind(this)}(ä¸æ¨è) ç›´æ¥åœ¨ç»„ä»¶å†…å®šä¹‰ä¸€ä¸ªéç®­å¤´å‡½æ•°çš„æ–¹æ³•ï¼Œç„¶ååœ¨constructoré‡Œbind(this)(æ¨è) Event å¯¹è±¡å’Œæ™®é€šæµè§ˆå™¨ä¸€æ ·ï¼Œäº‹ä»¶handlerä¼šè¢«è‡ªåŠ¨ä¼ å…¥ä¸€ä¸ª event å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å’Œæ™®é€šçš„æµè§ˆå™¨ event å¯¹è±¡æ‰€åŒ…å«çš„æ–¹æ³•å’Œå±æ€§éƒ½åŸºæœ¬ä¸€è‡´ã€‚ä¸åŒçš„æ˜¯ Reactä¸­çš„ event å¯¹è±¡å¹¶ä¸æ˜¯æµè§ˆå™¨æä¾›çš„ï¼Œè€Œæ˜¯å®ƒè‡ªå·±å†…éƒ¨æ‰€æ„å»ºçš„ã€‚å®ƒåŒæ ·å…·æœ‰event.stopPropagationã€event.preventDefault è¿™ç§å¸¸ç”¨çš„æ–¹æ³• â€‹ äº‹ä»¶å¯¹è±¡ä¸­çš„å€¼å¾ˆå¤šéƒ½æ˜¯null,ä½†æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨ äº‹ä»¶çš„å‚æ•°ä¼ é€’ åœ¨renderé‡Œè°ƒç”¨æ–¹æ³•çš„åœ°æ–¹å¤–é¢åŒ…ä¸€å±‚ç®­å¤´å‡½æ•° åœ¨renderé‡Œé€šè¿‡this.handleEvent.bind(this, å‚æ•°)è¿™æ ·çš„æ–¹å¼æ¥ä¼ é€’ é€šè¿‡eventä¼ é€’ æ¯”è¾ƒæ¨èçš„æ˜¯åšä¸€ä¸ªå­ç»„ä»¶, åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰æ–¹æ³•ï¼Œé€šè¿‡propsä¼ é€’åˆ°å­ç»„ä»¶ä¸­ï¼Œç„¶ååœ¨å­ç»„ä»¶ä»¶é€šè¿‡this.props.methodæ¥è°ƒç”¨ ##å¤„ç†ç”¨æˆ·è¾“å…¥ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950import React, &#123; Component &#125; from 'react'import ReactDOM from 'react-dom'class App extends Component &#123; constructor() &#123; super() this.state = &#123; xing: '', ming: '' &#125; &#125; handleInputChange = (e) =&gt; &#123; this.setState(&#123; [e.target.name]: e.target.value &#125;) &#125; render () &#123; const &#123; xing, ming &#125; = this.state return ( &lt;div&gt; &lt;label&gt; &lt;span&gt;å§“:&lt;/span&gt; &lt;input type="text" name="xing" value=&#123;xing&#125; onChange=&#123;this.handleInputChange&#125; /&gt; &lt;/label&gt; &lt;label&gt; &lt;span&gt;å:&lt;/span&gt; &lt;input type="text" name="ming" value=&#123;ming&#125; onChange=&#123;this.handleInputChange&#125; /&gt; &lt;/label&gt; &lt;p&gt;æ¬¢è¿æ‚¨: &#123;xing&#125;&#123;ming&#125;&lt;/p&gt; &lt;/div&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸReactä¸­ç»„ä»¶æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯è¯´ä¹Ÿæœ‰å¾ˆå¤šé’©å­å‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨, ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬ä¼šåˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼Œåˆå§‹åŒ–ã€è¿è¡Œä¸­ã€é”€æ¯ã€é”™è¯¯å¤„ç†(16.3ä¹‹å) â€‹ ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¸€å®šä¸è¦å†™æˆç®­å¤´å‡½æ•° åˆå§‹åŒ–åœ¨ç»„ä»¶åˆå§‹åŒ–é˜¶æ®µä¼šæ‰§è¡Œ constructor static getDerivedStateFromProps() â€”- å°†æ¥ä¼šä½¿ç”¨, componentWillMount() / UNSAFE_componentWillMount() å¸¦æœ‰UNSAFEå±äºè¿‡æ—¶çš„é’©å­å‡½æ•° componentWillMountä¼šåœ¨17ç‰ˆæœ¬ä¹‹åå¼ƒç”¨ï¼ˆ ä½¿ç”¨static getDerivedStateFromPropsï¼‰ render() componentDidMount() ##æ›´æ–°é˜¶æ®µ propsæˆ–stateçš„æ”¹å˜å¯èƒ½ä¼šå¼•èµ·ç»„ä»¶çš„æ›´æ–°ï¼Œç»„ä»¶é‡æ–°æ¸²æŸ“çš„è¿‡ç¨‹ä¸­ä¼šè°ƒç”¨ä»¥ä¸‹æ–¹æ³•ï¼š componentWillReceiveProps() / UNSAFE_componentWillReceiveProps() static getDerivedStateFromProps() shouldComponentUpdate() // reactæ€§èƒ½ä¼˜åŒ–ç¬¬äºŒæ–¹æ¡ˆ componentWillUpdate() / UNSAFE_componentWillUpdate() render() getSnapshotBeforeUpdate() â€”- å°†æ¥ä¼šä½¿ç”¨ componentDidUpdate() ##å¸è½½é˜¶æ®µ componentWillUnmount() ##é”™è¯¯å¤„ç† componentDidCatch() â€” 16.3ç‰ˆæœ¬ä¹‹åæ‰æœ‰çš„ ##å„ç”Ÿå‘½å‘¨æœŸè¯¦è§£ #####1.constructor(props) Reactç»„ä»¶çš„æ„é€ å‡½æ•°åœ¨æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚åœ¨å®ç°React.Componentæ„é€ å‡½æ•°æ—¶ï¼Œéœ€è¦å…ˆåœ¨æ·»åŠ å…¶ä»–å†…å®¹å‰ï¼Œè°ƒç”¨super(props)ï¼Œç”¨æ¥å°†çˆ¶ç»„ä»¶ä¼ æ¥çš„propsç»‘å®šåˆ°è¿™ä¸ªç±»ä¸­ï¼Œä½¿ç”¨this.propså°†ä¼šå¾—åˆ°ã€‚ å®˜æ–¹å»ºè®®ä¸è¦åœ¨constructorå¼•å…¥ä»»ä½•å…·æœ‰å‰¯ä½œç”¨å’Œè®¢é˜…åŠŸèƒ½çš„ä»£ç ï¼Œè¿™äº›åº”å½“ä½¿ç”¨componentDidMount()ã€‚ constructorä¸­åº”å½“åšäº›åˆå§‹åŒ–çš„åŠ¨ä½œï¼Œå¦‚ï¼šåˆå§‹åŒ–stateï¼Œå°†äº‹ä»¶å¤„ç†å‡½æ•°ç»‘å®šåˆ°ç±»å®ä¾‹ä¸Šï¼Œä½†ä¹Ÿä¸è¦ä½¿ç”¨setState()ã€‚å¦‚æœæ²¡æœ‰å¿…è¦åˆå§‹åŒ–stateæˆ–ç»‘å®šæ–¹æ³•ï¼Œåˆ™ä¸éœ€è¦æ„é€ constructorï¼Œæˆ–è€…æŠŠè¿™ä¸ªç»„ä»¶æ¢æˆçº¯å‡½æ•°å†™æ³•ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥åˆ©ç”¨propsåˆå§‹åŒ–stateï¼Œåœ¨ä¹‹åä¿®æ”¹stateä¸ä¼šå¯¹propsé€ æˆä»»ä½•ä¿®æ”¹ï¼Œä½†ä»ç„¶å»ºè®®å¤§å®¶æå‡çŠ¶æ€åˆ°çˆ¶ç»„ä»¶ä¸­ï¼Œæˆ–ä½¿ç”¨reduxç»Ÿä¸€è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚ 123456constructor(props) &#123; super(props); this.state = &#123; isLiked: props.isLiked &#125;;&#125; #####2.static getDerivedStateFromProps(nextProps, prevState) getDerivedStateFromProps æ˜¯react16.3ä¹‹åæ–°å¢ï¼Œåœ¨ç»„ä»¶å®ä¾‹åŒ–åï¼Œå’Œæ¥å—æ–°çš„propsåè¢«è°ƒç”¨ã€‚ä»–å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡æ¥æ›´æ–°çŠ¶æ€ï¼Œæˆ–è€…è¿”å›nullè¡¨ç¤ºæ–°çš„propsä¸éœ€è¦ä»»ä½•stateçš„æ›´æ–°ã€‚ å¦‚æœæ˜¯ç”±äºçˆ¶ç»„ä»¶çš„propsæ›´æ”¹ï¼Œæ‰€å¸¦æ¥çš„é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿä¼šè§¦å‘æ­¤æ–¹æ³•ã€‚ è°ƒç”¨steState()ä¸ä¼šè§¦å‘getDerivedStateFromProps()ã€‚ ä¹‹å‰è¿™é‡Œéƒ½æ˜¯ä½¿ç”¨constructor+componentWillRecievePropså®Œæˆç›¸åŒçš„åŠŸèƒ½çš„ #####3. componentWillMount() / UNSAFE_componentWillMount() componentWillMount()å°†åœ¨Reactæœªæ¥ç‰ˆæœ¬(å®˜æ–¹è¯´æ³• 17.0)ä¸­è¢«å¼ƒç”¨ã€‚UNSAFE_componentWillMount()åœ¨ç»„ä»¶æŒ‚è½½å‰è¢«è°ƒç”¨ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­è°ƒç”¨setState()ä¸ä¼šèµ·ä½œç”¨ï¼Œæ˜¯ç”±äºä»–åœ¨render()å‰è¢«è°ƒç”¨ã€‚ ä¸ºäº†é¿å…å‰¯ä½œç”¨å’Œå…¶ä»–çš„è®¢é˜…ï¼Œå®˜æ–¹éƒ½å»ºè®®ä½¿ç”¨componentDidMount()ä»£æ›¿ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ç”¨äºåœ¨æœåŠ¡å™¨æ¸²æŸ“ä¸Šçš„å”¯ä¸€æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å› ä¸ºæ˜¯åœ¨æ¸²æŸ“ä¹‹å‰è¢«è°ƒç”¨ï¼Œä¹Ÿæ˜¯æƒŸä¸€ä¸€ä¸ªå¯ä»¥ç›´æ¥åŒæ­¥ä¿®æ”¹stateçš„åœ°æ–¹ã€‚ #####4.render() render()æ–¹æ³•æ˜¯å¿…éœ€çš„ã€‚å½“ä»–è¢«è°ƒç”¨æ—¶ï¼Œä»–å°†è®¡ç®—this.propså’Œthis.stateï¼Œå¹¶è¿”å›ä»¥ä¸‹ä¸€ç§ç±»å‹ï¼š Reactå…ƒç´ ã€‚é€šè¿‡jsxåˆ›å»ºï¼Œæ—¢å¯ä»¥æ˜¯domå…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ç»„ä»¶ã€‚ å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚ä»–ä»¬å°†ä¼šä»¥æ–‡æœ¬èŠ‚ç‚¹å½¢å¼æ¸²æŸ“åˆ°domä¸­ã€‚ Portalsã€â€™portlã€‘ã€‚react 16ç‰ˆæœ¬ä¸­æå‡ºçš„æ–°çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥ä½¿ç»„ä»¶è„±ç¦»çˆ¶ç»„ä»¶å±‚çº§ç›´æ¥æŒ‚è½½åœ¨DOMæ ‘çš„ä»»ä½•ä½ç½®ã€‚ nullï¼Œä»€ä¹ˆä¹Ÿä¸æ¸²æŸ“ å¸ƒå°”å€¼ã€‚ä¹Ÿæ˜¯ä»€ä¹ˆéƒ½ä¸æ¸²æŸ“ã€‚ å½“è¿”å›null,false,ReactDOM.findDOMNode(this)å°†ä¼šè¿”å›nullï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ¸²æŸ“ã€‚ render()æ–¹æ³•å¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä»–ä¸åº”è¯¥æ”¹å˜stateï¼Œä¹Ÿä¸èƒ½ç›´æ¥å’Œæµè§ˆå™¨è¿›è¡Œäº¤äº’ï¼Œåº”è¯¥å°†äº‹ä»¶æ”¾åœ¨å…¶ä»–ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ã€‚å¦‚æœshouldComponentUpdate()è¿”å›falseï¼Œrender()ä¸ä¼šè¢«è°ƒç”¨ã€‚ #####5. componentDidMount componentDidMountåœ¨ç»„ä»¶è¢«è£…é…åç«‹å³è°ƒç”¨ã€‚åˆå§‹åŒ–ä½¿å¾—DOMèŠ‚ç‚¹åº”è¯¥è¿›è¡Œåˆ°è¿™é‡Œã€‚ é€šå¸¸åœ¨è¿™é‡Œè¿›è¡Œajaxè¯·æ±‚ å¦‚æœè¦åˆå§‹åŒ–ç¬¬ä¸‰æ–¹çš„domåº“ï¼Œä¹Ÿåœ¨è¿™é‡Œè¿›è¡Œåˆå§‹åŒ–ã€‚åªæœ‰åˆ°è¿™é‡Œæ‰èƒ½è·å–åˆ°çœŸå®çš„dom. #####6.componentWillReceiveProps()/UNSAFE_componentWillReceiveProps(nextProps) å®˜æ–¹å»ºè®®ä½¿ç”¨getDerivedStateFromPropså‡½æ•°ä»£æ›¿componentWillReceivePropsã€‚å½“ç»„ä»¶æŒ‚è½½åï¼Œæ¥æ”¶åˆ°æ–°çš„propsåä¼šè¢«è°ƒç”¨ã€‚å¦‚æœéœ€è¦æ›´æ–°stateæ¥å“åº”propsçš„æ›´æ”¹ï¼Œåˆ™å¯ä»¥è¿›è¡Œthis.propså’ŒnextPropsçš„æ¯”è¾ƒï¼Œå¹¶åœ¨æ­¤æ–¹æ³•ä¸­ä½¿ç”¨this.setState()ã€‚ å¦‚æœçˆ¶ç»„ä»¶ä¼šè®©è¿™ä¸ªç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå³ä½¿propsæ²¡æœ‰æ”¹å˜ï¼Œä¹Ÿä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚ Reactä¸ä¼šåœ¨ç»„ä»¶åˆå§‹åŒ–propsæ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚è°ƒç”¨this.setStateä¹Ÿä¸ä¼šè§¦å‘ã€‚ #####7.shouldComponentUpdate(nextProps, nextState) è°ƒç”¨shouldComponentUpdateä½¿ReactçŸ¥é“ï¼Œç»„ä»¶çš„è¾“å‡ºæ˜¯å¦å—stateå’Œpropsçš„å½±å“ã€‚é»˜è®¤æ¯ä¸ªçŠ¶æ€çš„æ›´æ”¹éƒ½ä¼šé‡æ–°æ¸²æŸ“ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹åº”è¯¥ä¿æŒè¿™ä¸ªé»˜è®¤è¡Œä¸ºã€‚ åœ¨æ¸²æŸ“æ–°çš„propsæˆ–stateå‰ï¼ŒshouldComponentUpdateä¼šè¢«è°ƒç”¨ã€‚é»˜è®¤ä¸ºtrueã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šåœ¨åˆå§‹åŒ–æ—¶è¢«è°ƒç”¨ï¼Œä¹Ÿä¸ä¼šåœ¨forceUpdate()æ—¶è¢«è°ƒç”¨ã€‚è¿”å›falseä¸ä¼šé˜»æ­¢å­ç»„ä»¶åœ¨stateæ›´æ”¹æ—¶é‡æ–°æ¸²æŸ“ã€‚ å¦‚æœshouldComponentUpdate()è¿”å›falseï¼ŒcomponentWillUpdate,renderå’ŒcomponentDidUpdateä¸ä¼šè¢«è°ƒç”¨ã€‚ å®˜æ–¹å¹¶ä¸å»ºè®®åœ¨shouldComponentUpdate()ä¸­è¿›è¡Œæ·±åº¦æŸ¥è¯¢æˆ–ä½¿ç”¨JSON.stringify()ï¼Œä»–æ•ˆç‡éå¸¸ä½ï¼Œå¹¶ä¸”æŸä¼¤æ€§èƒ½ã€‚ #####8.componentWillUpdate/UNSAFE_componentWillUpdate(nextProps, nextState) åœ¨æ¸²æŸ“æ–°çš„stateæˆ–propsæ—¶ï¼ŒUNSAFE_componentWillUpdateä¼šè¢«è°ƒç”¨ï¼Œå°†æ­¤ä½œä¸ºåœ¨æ›´æ–°å‘ç”Ÿä¹‹å‰è¿›è¡Œå‡†å¤‡çš„æœºä¼šã€‚è¿™ä¸ªæ–¹æ³•ä¸ä¼šåœ¨åˆå§‹åŒ–æ—¶è¢«è°ƒç”¨ã€‚ ä¸èƒ½åœ¨è¿™é‡Œä½¿ç”¨this.setState()ï¼Œä¹Ÿä¸èƒ½åšä¼šè§¦å‘è§†å›¾æ›´æ–°çš„æ“ä½œã€‚å¦‚æœéœ€è¦æ›´æ–°stateæˆ–propsï¼Œè°ƒç”¨getDerivedStateFromPropsã€‚ #####9.getSnapshotBeforeUpdate() åœ¨react render()åçš„è¾“å‡ºè¢«æ¸²æŸ“åˆ°DOMä¹‹å‰è¢«è°ƒç”¨ã€‚å®ƒä½¿æ‚¨çš„ç»„ä»¶èƒ½å¤Ÿåœ¨å®ƒä»¬è¢«æ½œåœ¨æ›´æ”¹ä¹‹å‰æ•è·å½“å‰å€¼ï¼ˆå¦‚æ»šåŠ¨ä½ç½®ï¼‰ã€‚è¿™ä¸ªç”Ÿå‘½å‘¨æœŸè¿”å›çš„ä»»ä½•å€¼éƒ½å°†ä½œä¸ºå‚æ•°ä¼ é€’ç»™componentDidUpdateï¼ˆï¼‰ã€‚ #####10.componentDidUpdate(prevProps, prevState, snapshot) åœ¨æ›´æ–°å‘ç”Ÿåç«‹å³è°ƒç”¨componentDidUpdate()ã€‚æ­¤æ–¹æ³•ä¸ç”¨äºåˆå§‹æ¸²æŸ“ã€‚å½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œå°†æ­¤ä½œä¸ºä¸€ä¸ªæœºä¼šæ¥æ“ä½œDOMã€‚åªè¦æ‚¨å°†å½“å‰çš„propsä¸ä»¥å‰çš„propsè¿›è¡Œæ¯”è¾ƒï¼ˆä¾‹å¦‚ï¼Œå¦‚æœpropsæ²¡æœ‰æ”¹å˜ï¼Œåˆ™å¯èƒ½ä¸éœ€è¦ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯åšç½‘ç»œè¯·æ±‚çš„å¥½åœ°æ–¹ã€‚ å¦‚æœç»„ä»¶å®ç°getSnapshotBeforeUpdate()ç”Ÿå‘½å‘¨æœŸï¼Œåˆ™å®ƒè¿”å›çš„å€¼å°†ä½œä¸ºç¬¬ä¸‰ä¸ªâ€œå¿«ç…§â€å‚æ•°ä¼ é€’ç»™componentDidUpdate()ã€‚å¦åˆ™ï¼Œè¿™ä¸ªå‚æ•°æ˜¯undefinedã€‚ #####11.componentWillUnmount() åœ¨ç»„ä»¶è¢«å¸è½½å¹¶é”€æ¯ä¹‹å‰ç«‹å³è¢«è°ƒç”¨ã€‚åœ¨æ­¤æ–¹æ³•ä¸­æ‰§è¡Œä»»ä½•å¿…è¦çš„æ¸…ç†ï¼Œä¾‹å¦‚ä½¿å®šæ—¶å™¨æ— æ•ˆï¼Œå–æ¶ˆç½‘ç»œè¯·æ±‚æˆ–æ¸…ç†åœ¨componentDidMountä¸­åˆ›å»ºçš„ä»»ä½•ç›‘å¬ã€‚ #####12.componentDidCatch(error, info) é”™è¯¯è¾¹ç•Œæ˜¯Reactç»„ä»¶ï¼Œå¯ä»¥åœ¨å…¶å­ç»„ä»¶æ ‘ä¸­çš„ä»»ä½•ä½ç½®æ•è·JavaScripté”™è¯¯ï¼Œè®°å½•è¿™äº›é”™è¯¯å¹¶æ˜¾ç¤ºå›é€€UIï¼Œè€Œä¸æ˜¯å´©æºƒçš„ç»„ä»¶æ ‘ã€‚é”™è¯¯è¾¹ç•Œåœ¨æ¸²æŸ“æœŸé—´ï¼Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä»¥åŠæ•´ä¸ªæ ‘ä¸‹çš„æ„é€ å‡½æ•°ä¸­æ•è·é”™è¯¯ã€‚ å¦‚æœç±»ç»„ä»¶å®šä¹‰äº†æ­¤ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œåˆ™å®ƒå°†æˆé”™è¯¯è¾¹ç•Œã€‚åœ¨å®ƒä¸­è°ƒç”¨setState()å¯ä»¥è®©ä½ åœ¨ä¸‹é¢çš„æ ‘ä¸­æ•è·æœªå¤„ç†çš„JavaScripté”™è¯¯ï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªåå¤‡UIã€‚åªèƒ½ä½¿ç”¨é”™è¯¯è¾¹ç•Œä»æ„å¤–å¼‚å¸¸ä¸­æ¢å¤; ä¸è¦è¯•å›¾å°†å®ƒä»¬ç”¨äºæ§åˆ¶æµç¨‹ã€‚ é”™è¯¯è¾¹ç•Œåªä¼šæ•è·æ ‘ä¸­ä¸‹é¢ç»„ä»¶ä¸­çš„é”™è¯¯ã€‚é”™è¯¯è¾¹ç•Œæœ¬èº«ä¸èƒ½æ•è·é”™è¯¯ã€‚ ##PureComponent PureComponneté‡Œå¦‚æœæ¥æ”¶åˆ°çš„æ–°å±æ€§æˆ–è€…æ˜¯æ›´æ”¹åçš„çŠ¶æ€å’ŒåŸå±æ€§ã€åŸçŠ¶æ€ç›¸åŒçš„è¯ï¼Œå°±ä¸ä¼šå»é‡æ–°renderäº†åœ¨é‡Œé¢ä¹Ÿå¯ä»¥ä½¿ç”¨shouldComponentUpdateï¼Œè€Œä¸”ã€‚æ˜¯å¦é‡æ–°æ¸²æŸ“ä»¥shouldComponentUpdateçš„è¿”å›å€¼ä¸ºæœ€ç»ˆçš„å†³å®šå› ç´ ã€‚ 12345import React, &#123; PureComponent &#125; from 'react'class YourComponent extends PureComponent &#123; â€¦â€¦&#125; ##ref Reactæä¾›çš„è¿™ä¸ªrefå±æ€§ï¼Œè¡¨ç¤ºä¸ºå¯¹ç»„ä»¶çœŸæ­£å®ä¾‹çš„å¼•ç”¨ï¼Œå…¶å®å°±æ˜¯ReactDOM.render()è¿”å›çš„ç»„ä»¶å®ä¾‹,refå¯ä»¥æŒ‚è½½åˆ°ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥æ˜¯domå…ƒç´ ä¸Šã€‚ æŒ‚åˆ°ç»„ä»¶(classå£°æ˜çš„ç»„ä»¶)ä¸Šçš„refè¡¨ç¤ºå¯¹ç»„ä»¶å®ä¾‹çš„å¼•ç”¨ã€‚ä¸èƒ½åœ¨å‡½æ•°å¼ç»„ä»¶ä¸Šä½¿ç”¨ ref å±æ€§ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å®ä¾‹ï¼š æŒ‚è½½åˆ°domå…ƒç´ ä¸Šæ—¶è¡¨ç¤ºå…·ä½“çš„domå…ƒç´ èŠ‚ç‚¹ã€‚ åœ¨React æœ€æ–°çš„ç‰ˆæœ¬ä¸­ï¼Œè¦ä½¿ç”¨ref, éœ€è¦ä½¿ç”¨React.createRefæ–¹æ³•å…ˆç”Ÿæˆä¸€ä¸ªrefã€‚ 12345678910111213141516171819202122232425import React, &#123; Component, createRef &#125; from 'react'import ReactDOM from 'react-dom'class App extends Component &#123; constructor() &#123; super() // åˆ›å»ºinputRef this.inputRef=createRef() &#125; componentDidMount () &#123; console.log(this.inputRef.current) // &lt;input type="text"&gt; &#125; render () &#123; return ( &lt;div&gt; &#123;/* å…³è”refå’Œdom */&#125; &lt;input type="text" ref=&#123;this.inputRef&#125; /&gt; &lt;/div&gt; ) &#125;&#125;ReactDOM.render( &lt;App/&gt;, document.getElementById('root')) React HooksReact Hooks æ˜¯ React 16.7.0-alpha ç‰ˆæœ¬æ¨å‡ºçš„æ–°ç‰¹æ€§, æœ‰äº†React Hooksï¼Œåœ¨ react å‡½æ•°ç»„ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ç»„ä»¶ï¼ˆclasses componentsï¼‰çš„ state å’Œ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸã€‚é€šè¿‡ä¸‹é¢å‡ ä¸ªä¾‹å­æ¥å­¦ä¹ React Hooksã€‚ State Hook 123456789101112131415161718// useStateæ˜¯reactåŒ…æä¾›çš„ä¸€ä¸ªæ–¹æ³•import React, &#123; useState &#125; from "react";import ReactDOM from "react-dom";const Counter = () =&gt; &#123; // useState è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¸ºæˆ‘ä»¬çš„å‡½æ•°ç»„ä»¶æ‹¥æœ‰è‡ªå·±çš„stateï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªç”¨äºåˆå§‹ state çš„å€¼ï¼Œè¿”å›ä¸€å¯¹å˜é‡ã€‚è¿™é‡Œæˆ‘ä»¬æŠŠè®¡æ•°å™¨çš„åˆå§‹å€¼è®¾ç½®ä¸º0, æ–¹æ³•éƒ½æ˜¯ä»¥setå¼€å§‹ const [count, setCount] = useState(0); return ( &lt;div&gt; &lt;p&gt;ä½ ç‚¹å‡»äº†&#123;count&#125;æ¬¡&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;ç‚¹å‡»&lt;/button&gt; &lt;/div&gt; );&#125;;const rootElement = document.getElementById("root");ReactDOM.render(&lt;Counter /&gt;, rootElement); Effect Hook 1234567891011121314151617181920212223// useStateæ˜¯reactåŒ…æä¾›çš„ä¸€ä¸ªæ–¹æ³•import React, &#123; useState, useEffect &#125; from "react";import ReactDOM from "react-dom";const Counter = () =&gt; &#123; // useState è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¸ºæˆ‘ä»¬çš„å‡½æ•°ç»„ä»¶æ‹¥æœ‰è‡ªå·±çš„stateï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªç”¨äºåˆå§‹ state çš„å€¼ï¼Œè¿”å›ä¸€å¯¹å˜é‡ã€‚è¿™é‡Œæˆ‘ä»¬æŠŠè®¡æ•°å™¨çš„åˆå§‹å€¼è®¾ç½®ä¸º0, æ–¹æ³•éƒ½æ˜¯ä»¥setå¼€å§‹ const [count, setCount] = useState(0); // ç±»ä¼¼äºcomponentDidMountæˆ–è€…componentDidUpdate: useEffect(() =&gt; &#123; // æ›´æ”¹ç½‘é¡µçš„æ ‡é¢˜ï¼Œè¿˜å¯ä»¥åšå…¶å®ƒçš„ç›‘å¬ document.title = `ä½ ç‚¹å‡»äº†$&#123;count&#125;æ¬¡`; &#125;); return ( &lt;div&gt; &lt;p&gt;ä½ ç‚¹å‡»äº†&#123;count&#125;æ¬¡&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;ç‚¹å‡»&lt;/button&gt; &lt;/div&gt; );&#125;;const rootElement = document.getElementById("root");ReactDOM.render(&lt;Counter /&gt;, rootElement); React Hooks çš„è§„åˆ™ åªèƒ½åœ¨é¡¶å±‚è°ƒç”¨Hooksã€‚ä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨Hookã€‚ ä¸è¦ä»å¸¸è§„JavaScriptå‡½æ•°ä¸­è°ƒç”¨Hookã€‚åªåœ¨Reactå‡½æ•°å¼ç»„ä»¶è°ƒç”¨Hooksã€‚ è‡ªå®šä¹‰hookså¯ä»¥é€‰æ‹©è®²è§£ react å†…ç½®hooks api Basic Hooks useState useEffect useContext Additional Hooks useReducer useCallback useMemo useRef useImperativeHandle useLayoutEffect useDebugValue ç»„ä»¶é€šä¿¡åˆ†ç±»ï¼š â€‹ çˆ¶å­ç»„ä»¶é€šä¿¡ â€‹ æ— è®ºçˆ¶ç»„ä»¶ä¼ é€’æ˜¯propsè¿˜æ˜¯state,å­ç»„ä»¶éƒ½æ˜¯é€šè¿‡propsæ¥æ”¶ â€‹ å­çˆ¶ç»„ä»¶é€šä¿¡ â€‹ çˆ¶ç»„ä»¶ä¼ é€’æ–¹æ³•ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ–¹æ³• â€‹ æ³¨æ„ï¼š è‡ªå·±çš„çŠ¶æ€è‡ªå·±æ›´æ”¹ â€‹ éçˆ¶å­ç»„ä»¶é€šä¿¡ â€‹ refé“¾ â€‹ 1. ref = â€˜xxxâ€™ this.refs.xxx â€‹ 2. ref = { el =&gt; this.xxx = el } this.xxx ã€ æ¨è ã€‘ â€‹ è·¨ç»„ä»¶é€šä¿¡ â€‹ context â€‹ ä½¿ç”¨æµç¨‹ â€‹ - åˆ›å»ºä¸Šä¸‹æ–‡ React.createContext() â€‹ - ä½¿ç”¨ä¸Šä¸‹æ–‡åŒ…è£¹ç›®æ ‡ç»„ä»¶çš„çˆ¶ç»„ä»¶ 123&lt;MoneyContext.Provider value = &#123; money &#125;&gt; &lt;Father&gt;&lt;/Father&gt;&lt;/MoneyContext.Provider&gt; â€‹ - åœ¨ç›®æ ‡ç»„ä»¶ä¸­å…ˆå®šä¹‰ä¸€ä¸ªé™æ€å±æ€§ static contextType = MoneyContext â€‹ - é€šè¿‡ this.contextæ¥ä½¿ç”¨æ•°æ® å¤šç»„ä»¶çŠ¶æ€å…±äº« â€‹ Flux â€‹ redux â€‹ mobx ( é˜¿é‡Œ ) çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶é€šä¿¡ çˆ¶ç»„ä»¶å°†è‡ªå·±çš„çŠ¶æ€ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å½“åšå±æ€§æ¥æ¥æ”¶ï¼Œå½“çˆ¶ç»„ä»¶æ›´æ”¹è‡ªå·±çŠ¶æ€çš„æ—¶å€™ï¼Œå­ç»„ä»¶æ¥æ”¶åˆ°çš„å±æ€§å°±ä¼šå‘ç”Ÿæ”¹å˜ çˆ¶ç»„ä»¶åˆ©ç”¨refå¯¹å­ç»„ä»¶åšæ ‡è®°ï¼Œé€šè¿‡è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•ä»¥æ›´æ”¹å­ç»„ä»¶çš„çŠ¶æ€,ä¹Ÿå¯ä»¥è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•.. å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶é€šä¿¡ çˆ¶ç»„ä»¶å°†è‡ªå·±çš„æŸä¸ªæ–¹æ³•ä¼ é€’ç»™å­ç»„ä»¶ï¼Œåœ¨æ–¹æ³•é‡Œå¯ä»¥åšä»»æ„æ“ä½œï¼Œæ¯”å¦‚å¯ä»¥æ›´æ”¹çŠ¶æ€ï¼Œå­ç»„ä»¶é€šè¿‡this.propsæ¥æ”¶åˆ°çˆ¶ç»„ä»¶çš„æ–¹æ³•åè°ƒç”¨ã€‚ è·¨ç»„ä»¶é€šä¿¡ åœ¨reactæ²¡æœ‰ç±»ä¼¼vueä¸­çš„äº‹ä»¶æ€»çº¿æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åªèƒ½å€ŸåŠ©å®ƒä»¬å…±åŒçš„çˆ¶çº§ç»„ä»¶æ¥å®ç°ï¼Œå°†éçˆ¶å­å…³ç³»è£…æ¢æˆå¤šç»´åº¦çš„çˆ¶å­å…³ç³»ã€‚reactæä¾›äº†context apiæ¥å®ç°è·¨ç»„ä»¶é€šä¿¡, React 16.3ä¹‹åçš„contextapiè¾ƒä¹‹å‰çš„å¥½ç”¨ã€‚ å®ä¾‹ï¼Œä½¿ç”¨context å®ç°è´­ç‰©è½¦ä¸­çš„åŠ å‡åŠŸèƒ½ 12345678910111213141516171819202122232425262728293031323334353637383940414243// counterContext.jsimport React, &#123; Component, createContext &#125; from 'react'const &#123; Provider, Consumer: CountConsumer&#125; = createContext()class CountProvider extends Component &#123; constructor () &#123; super() this.state = &#123; count: 1 &#125; &#125; increaseCount = () =&gt; &#123; this.setState(&#123; count: this.state.count + 1 &#125;) &#125; decreaseCount = () =&gt; &#123; this.setState(&#123; count: this.state.count - 1 &#125;) &#125; render() &#123; return ( &lt;Provider value=&#123;&#123; count: this.state.count, increaseCount: this.increaseCount, decreaseCount: this.decreaseCount &#125;&#125; &gt; &#123;this.props.children&#125; &lt;/Provider&gt; ) &#125;&#125;export &#123; CountProvider, CountConsumer&#125; 12345678910111213141516// å®šä¹‰CountButtonç»„ä»¶const CountButton = (props) =&gt; &#123; return ( &lt;CountConsumer&gt; // consumerçš„childrenå¿…é¡»æ˜¯ä¸€ä¸ªæ–¹æ³• &#123; (&#123; increaseCount, decreaseCount &#125;) =&gt; &#123; const &#123; type &#125; = props const handleClick = type === 'increase' ? increaseCount : decreaseCount const btnText = type === 'increase' ? '+' : '-' return &lt;button onClick=&#123;handleClick&#125;&gt;&#123;btnText&#125;&lt;/button&gt; &#125; &#125; &lt;/CountConsumer&gt; )&#125; 123456789101112// å®šä¹‰countç»„ä»¶ï¼Œç”¨äºæ˜¾ç¤ºæ•°é‡const Count = (prop) =&gt; &#123; return ( &lt;CountConsumer&gt; &#123; (&#123; count &#125;) =&gt; &#123; return &lt;span&gt;&#123;count&#125;&lt;/span&gt; &#125; &#125; &lt;/CountConsumer&gt; )&#125; 123456789101112// ç»„åˆclass App extends Component &#123; render () &#123; return ( &lt;CountProvider&gt; &lt;CountButton type='decrease' /&gt; &lt;Count /&gt; &lt;CountButton type='increase' /&gt; &lt;/CountProvider&gt; ) &#125;&#125; å¤æ‚çš„éçˆ¶å­ç»„ä»¶é€šä¿¡åœ¨reactä¸­å¾ˆéš¾å¤„ç†ï¼Œå¤šç»„ä»¶é—´çš„æ•°æ®å…±äº«ä¹Ÿä¸å¥½å¤„ç†ï¼Œåœ¨å®é™…çš„å·¥ä½œä¸­æˆ‘ä»¬ä¼šä½¿ç”¨fluxã€reduxã€mobxæ¥å®ç° HOC(é«˜é˜¶ç»„ä»¶)Higher-Order Componentså°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼ ç»™å®ƒä¸€ä¸ªç»„ä»¶ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚ åŠŸèƒ½ï¼š â€‹ 1. è¿›è¡ŒæŸäº›æ–¹æ³•æˆ–æ˜¯å±æ€§çš„å¤ç”¨ â€‹ 2. è®©å¤–å±‚çš„ç»„ä»¶æ›¿æˆ‘ä»¬å®Œæˆä»»åŠ¡ï¼Œé‚£ä¹ˆé‡Œå±‚ç»„ä»¶ç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº† 1const NewComponent = higherOrderComponent(YourComponent) æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦æˆ‘ä»¬çš„ç»„ä»¶é€šè¿‡è‡ªåŠ¨æ³¨å…¥ä¸€ä¸ªç‰ˆæƒä¿¡æ¯ã€‚ 12345678910111213141516// withCopyright.js å®šä¹‰ä¸€ä¸ªé«˜é˜¶ç»„ä»¶import React, &#123; Component, Fragment &#125; from 'react'const withCopyright = (WrappedComponent) =&gt; &#123; return class NewComponent extends Component &#123; render() &#123; return ( &lt;Fragment&gt; &lt;WrappedComponent /&gt; &lt;div&gt;&amp;copy;ç‰ˆæƒæ‰€æœ‰ åƒé”‹æ•™è‚² 2019 &lt;/div&gt; &lt;/Fragment&gt; ) &#125; &#125;&#125;export default withCopyright 1234567891011121314// ä½¿ç”¨æ–¹å¼import withCopyright from './withCopyright'class App extends Component &#123; render () &#123; return ( &lt;div&gt; &lt;h1&gt;Awesome React&lt;/h1&gt; &lt;p&gt;React.jsæ˜¯ä¸€ä¸ªæ„å»ºç”¨æˆ·ç•Œé¢çš„åº“&lt;/p&gt; &lt;/div&gt; ) &#125;&#125;const CopyrightApp = withCopyright(App) è¿™æ ·åªè¦æˆ‘ä»¬æœ‰éœ€è¦ç”¨åˆ°ç‰ˆæƒä¿¡æ¯çš„ç»„ä»¶ï¼Œéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨withCopyrightè¿™ä¸ªé«˜é˜¶ç»„ä»¶åŒ…è£¹å³å¯ã€‚ åœ¨è¿™é‡Œè¦è®²è§£åœ¨CRA ä¸­é…ç½®è£…é¥°å™¨æ¨¡å¼çš„æ”¯æŒã€‚ #çŠ¶æ€ç®¡ç† ##ä¼ ç»ŸMVCæ¡†æ¶çš„ç¼ºé™· ä»€ä¹ˆæ˜¯MVCï¼Ÿ MVCçš„å…¨åæ˜¯Model View Controllerï¼Œæ˜¯æ¨¡å‹(model)ï¼è§†å›¾(view)ï¼æ§åˆ¶å™¨(controller)çš„ç¼©å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡å…¸èŒƒã€‚ Vå³Viewè§†å›¾æ˜¯æŒ‡ç”¨æˆ·çœ‹åˆ°å¹¶ä¸ä¹‹äº¤äº’çš„ç•Œé¢ã€‚ Må³Modelæ¨¡å‹æ˜¯ç®¡ç†æ•°æ® ï¼Œå¾ˆå¤šä¸šåŠ¡é€»è¾‘éƒ½åœ¨æ¨¡å‹ä¸­å®Œæˆã€‚åœ¨MVCçš„ä¸‰ä¸ªéƒ¨ä»¶ä¸­ï¼Œæ¨¡å‹æ‹¥æœ‰æœ€å¤šçš„å¤„ç†ä»»åŠ¡ã€‚ Cå³Controlleræ§åˆ¶å™¨æ˜¯æŒ‡æ§åˆ¶å™¨æ¥å—ç”¨æˆ·çš„è¾“å…¥å¹¶è°ƒç”¨æ¨¡å‹å’Œè§†å›¾å»å®Œæˆç”¨æˆ·çš„éœ€æ±‚ï¼Œæ§åˆ¶å™¨æœ¬èº«ä¸è¾“å‡ºä»»ä½•ä¸œè¥¿å’Œåšä»»ä½•å¤„ç†ã€‚å®ƒåªæ˜¯æ¥æ”¶è¯·æ±‚å¹¶å†³å®šè°ƒç”¨å“ªä¸ªæ¨¡å‹æ„ä»¶å»å¤„ç†è¯·æ±‚ï¼Œç„¶åå†ç¡®å®šç”¨å“ªä¸ªè§†å›¾æ¥æ˜¾ç¤ºè¿”å›çš„æ•°æ®ã€‚ MVCåªæ˜¯çœ‹èµ·æ¥å¾ˆç¾ MVCæ¡†æ¶çš„æ•°æ®æµå¾ˆç†æƒ³ï¼Œè¯·æ±‚å…ˆåˆ°Controller, ç”±Controllerè°ƒç”¨Modelä¸­çš„æ•°æ®äº¤ç»™Viewè¿›è¡Œæ¸²æŸ“ï¼Œä½†æ˜¯åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œåˆæ˜¯å…è®¸Modelå’ŒViewç›´æ¥é€šä¿¡çš„ã€‚ç„¶åå°±å‡ºç°äº†è¿™æ ·çš„ç»“æœï¼š å‰ç«¯å‡ ä¸ªæ ¸å¿ƒæ¡†æ¶å‡ºç°çš„æ—¶é—´ 1. Backbone.js MVP 2010.10 2. Angular.js ( 1.0 ç‰ˆæœ¬) MVC -&gt;MVVM 2010.10 3. React å¯ä»¥è®¤ä¸ºæ˜¯MVCä¸­çš„V 2013 4. Vue 1.0 MVVM 2014 5. Vue 2.0 MVVM 2016/9 6. Angular.ts( 2.0 ç‰ˆæœ¬) 2016å¹´â€‹ Flux Redux éƒ½æ˜¯å’ŒMVC MVP MVVM ä¸€æ ·æ˜¯æ¶æ„å±‚çº§ Flux Redux éƒ½æ˜¯çŠ¶æ€ç®¡ç†å·¥å…· 1. æ•°æ®çš„é›†ä¸­å­˜å‚¨è€…ï¼ˆ é›†ä¸­å­˜å‚¨æ•°æ®çš„ä¸€ä¸ªä»“åº“ ï¼‰ 2. æ•°æ®çš„ç®¡ç†è€…##Flux åœ¨2013å¹´ï¼ŒFacebookè®©Reactäº®ç›¸çš„åŒæ—¶æ¨å‡ºäº†Fluxæ¡†æ¶ï¼ŒReactçš„åˆè¡·å®é™…ä¸Šæ˜¯ç”¨æ¥æ›¿ä»£jQueryçš„ï¼ŒFluxå®é™…ä¸Šå°±å¯ä»¥ç”¨æ¥æ›¿ä»£Backbone.jsï¼ŒEmber.jsç­‰ä¸€ç³»åˆ—MVCæ¶æ„çš„å‰ç«¯JSæ¡†æ¶ã€‚ å…¶å®Fluxåœ¨Reacté‡Œçš„åº”ç”¨å°±ç±»ä¼¼äºVueä¸­çš„Vuexçš„ä½œç”¨ï¼Œä½†æ˜¯åœ¨Vueä¸­ï¼ŒVueæ˜¯å®Œæ•´çš„mvvmæ¡†æ¶ï¼Œè€ŒVuexåªæ˜¯ä¸€ä¸ªå…¨å±€çš„æ’ä»¶ã€‚ Reactåªæ˜¯ä¸€ä¸ªMVCä¸­çš„V(è§†å›¾å±‚)ï¼Œåªç®¡é¡µé¢ä¸­çš„æ¸²æŸ“ï¼Œä¸€æ—¦æœ‰æ•°æ®ç®¡ç†çš„æ—¶å€™ï¼ŒReactæœ¬èº«çš„èƒ½åŠ›å°±ä¸è¶³ä»¥æ”¯æ’‘å¤æ‚ç»„ä»¶ç»“æ„çš„é¡¹ç›®ï¼Œåœ¨ä¼ ç»Ÿçš„MVCä¸­ï¼Œå°±éœ€è¦ç”¨åˆ°Modelå’ŒControllerã€‚Facebookå¯¹äºå½“æ—¶ä¸–é¢ä¸Šçš„MVCæ¡†æ¶å¹¶ä¸æ»¡æ„ï¼Œäºæ˜¯å°±æœ‰äº†Flux, ä½†Fluxå¹¶ä¸æ˜¯ä¸€ä¸ªMVCæ¡†æ¶ï¼Œä»–æ˜¯ä¸€ç§æ–°çš„æ€æƒ³ï¼ˆ æ–°çš„æ¶æ„æ€æƒ³ ï¼‰ã€‚ Flux ç»„æˆéƒ¨åˆ† Viewï¼š è§†å›¾å±‚ ï¼ˆ ç”¨Reactçš„ç»„ä»¶æ¥ä»£æ›¿ ï¼‰ ActionCreatorsï¼ˆåŠ¨ä½œåˆ›é€ è€…ï¼‰ï¼šè§†å›¾å±‚å‘å‡ºçš„æ¶ˆæ¯ï¼ˆæ¯”å¦‚mouseClickï¼‰ Dispatcherï¼ˆæ´¾å‘å™¨ï¼‰ï¼šç”¨æ¥æ¥æ”¶Actionsã€æ‰§è¡Œå›è°ƒå‡½æ•° Storeï¼ˆæ•°æ®å±‚ï¼‰ï¼šç”¨æ¥å­˜æ”¾åº”ç”¨çš„çŠ¶æ€ï¼Œä¸€æ—¦å‘ç”Ÿå˜åŠ¨ï¼Œå°±æé†’Viewsè¦æ›´æ–°é¡µé¢ Fluxçš„æµç¨‹ï¼š ç»„ä»¶è·å–åˆ°storeä¸­ä¿å­˜çš„æ•°æ®æŒ‚è½½åœ¨è‡ªå·±çš„çŠ¶æ€ä¸Š ç”¨æˆ·äº§ç”Ÿäº†æ“ä½œï¼Œè°ƒç”¨actionsçš„æ–¹æ³• actionsæ¥æ”¶åˆ°äº†ç”¨æˆ·çš„æ“ä½œï¼Œè¿›è¡Œä¸€ç³»åˆ—çš„é€»è¾‘ä»£ç ã€å¼‚æ­¥æ“ä½œ ç„¶åactionsä¼šåˆ›å»ºå‡ºå¯¹åº”çš„actionï¼Œactionå¸¦æœ‰æ ‡è¯†æ€§çš„å±æ€§ actionsè°ƒç”¨dispatcherçš„dispatchæ–¹æ³•å°†actionä¼ é€’ç»™dispatcher dispatcheræ¥æ”¶åˆ°actionå¹¶æ ¹æ®æ ‡è¯†ä¿¡æ¯åˆ¤æ–­ä¹‹åï¼Œè°ƒç”¨storeçš„æ›´æ”¹æ•°æ®çš„æ–¹æ³• storeçš„æ–¹æ³•è¢«è°ƒç”¨åï¼Œæ›´æ”¹çŠ¶æ€ï¼Œå¹¶è§¦å‘è‡ªå·±çš„æŸä¸€ä¸ªäº‹ä»¶ storeæ›´æ”¹çŠ¶æ€åäº‹ä»¶è¢«è§¦å‘ï¼Œè¯¥äº‹ä»¶çš„å¤„ç†ç¨‹åºä¼šé€šçŸ¥viewå»è·å–æœ€æ–°çš„æ•°æ® ##Redux Store æ•°æ®çš„ç®¡ç†è€…å’Œæ•°æ®çš„å­˜å‚¨è€… actionCreators åŠ¨ä½œçš„åˆ›å»ºè€…ï¼Œå‘é€åŠ¨ä½œç»™ reducers react Components ç»„ä»¶ï¼ˆ ç”¨æ¥å……å½“è§†å›¾å±‚ ï¼‰ reducers æ•°æ®çš„ä¿®æ”¹è€…ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ newstate ç»™store React åªæ˜¯ DOM çš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå¹¶ä¸æ˜¯ Web åº”ç”¨çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå®ƒæ²¡æ¶‰åŠã€‚ ä»£ç ç»“æ„ ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ 2013å¹´ Facebook æå‡ºäº† Flux æ¶æ„çš„æ€æƒ³ï¼Œå¼•å‘äº†å¾ˆå¤šçš„å®ç°ã€‚2015å¹´ï¼ŒRedux å‡ºç°ï¼Œå°† Flux ä¸å‡½æ•°å¼ç¼–ç¨‹ç»“åˆä¸€èµ·ï¼Œå¾ˆçŸ­æ—¶é—´å†…å°±æˆä¸ºäº†æœ€çƒ­é—¨çš„å‰ç«¯æ¶æ„ã€‚ å¦‚æœä½ ä¸çŸ¥é“æ˜¯å¦éœ€è¦ Reduxï¼Œé‚£å°±æ˜¯ä¸éœ€è¦å®ƒ åªæœ‰é‡åˆ° React å®åœ¨è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œä½ æ‰éœ€è¦ Redux ç®€å•è¯´ï¼Œå¦‚æœä½ çš„UIå±‚éå¸¸ç®€å•ï¼Œæ²¡æœ‰å¾ˆå¤šäº’åŠ¨ï¼ŒRedux å°±æ˜¯ä¸å¿…è¦çš„ï¼Œç”¨äº†åè€Œå¢åŠ å¤æ‚æ€§ã€‚ ç”¨æˆ·çš„ä½¿ç”¨æ–¹å¼éå¸¸ç®€å• ç”¨æˆ·ä¹‹é—´æ²¡æœ‰åä½œ ä¸éœ€è¦ä¸æœåŠ¡å™¨å¤§é‡äº¤äº’ï¼Œä¹Ÿæ²¡æœ‰ä½¿ç”¨ WebSocket è§†å›¾å±‚ï¼ˆViewï¼‰åªä»å•ä¸€æ¥æºè·å–æ•°æ® éœ€è¦ä½¿ç”¨Reduxçš„é¡¹ç›®: ç”¨æˆ·çš„ä½¿ç”¨æ–¹å¼å¤æ‚ ä¸åŒèº«ä»½çš„ç”¨æˆ·æœ‰ä¸åŒçš„ä½¿ç”¨æ–¹å¼ï¼ˆæ¯”å¦‚æ™®é€šç”¨æˆ·å’Œç®¡ç†å‘˜ï¼‰ å¤šä¸ªç”¨æˆ·ä¹‹é—´å¯ä»¥åä½œ ä¸æœåŠ¡å™¨å¤§é‡äº¤äº’ï¼Œæˆ–è€…ä½¿ç”¨äº†WebSocket Viewè¦ä»å¤šä¸ªæ¥æºè·å–æ•°æ® ä»ç»„ä»¶å±‚é¢è€ƒè™‘ï¼Œä»€ä¹ˆæ ·å­çš„éœ€è¦Reduxï¼š æŸä¸ªç»„ä»¶çš„çŠ¶æ€ï¼Œéœ€è¦å…±äº« æŸä¸ªçŠ¶æ€éœ€è¦åœ¨ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥æ‹¿åˆ° ä¸€ä¸ªç»„ä»¶éœ€è¦æ”¹å˜å…¨å±€çŠ¶æ€ ä¸€ä¸ªç»„ä»¶éœ€è¦æ”¹å˜å¦ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€ Reduxçš„è®¾è®¡æ€æƒ³ï¼š Web åº”ç”¨æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼Œè§†å›¾ä¸çŠ¶æ€æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ æ‰€æœ‰çš„çŠ¶æ€ï¼Œä¿å­˜åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢ï¼ˆå”¯ä¸€æ•°æ®æºï¼‰ã€‚ æ³¨æ„ï¼šfluxã€reduxéƒ½ä¸æ˜¯å¿…é¡»å’Œreactæ­é…ä½¿ç”¨çš„ï¼Œå› ä¸ºfluxå’Œreduxæ˜¯å®Œæ•´çš„æ¶æ„ï¼Œåœ¨å­¦ä¹ reactçš„æ—¶å€™ï¼Œåªæ˜¯å°†reactçš„ç»„ä»¶ä½œä¸ºreduxä¸­çš„è§†å›¾å±‚å»ä½¿ç”¨äº†ã€‚ Reduxçš„ä½¿ç”¨çš„ä¸‰å¤§åŸåˆ™ï¼š Single Source of Truth(å”¯ä¸€çš„æ•°æ®æº) State is read-only(çŠ¶æ€æ˜¯åªè¯»çš„) Changes are made with pure function(æ•°æ®çš„æ”¹å˜å¿…é¡»é€šè¿‡çº¯å‡½æ•°å®Œæˆ) è‡ªå·±å®ç°Reduxè¿™ä¸ªéƒ¨åˆ†ï¼Œå¯ä»¥æ ¹æ®ç­çº§æƒ…å†µçœ‹æ˜¯å¦è®²è§£ã€‚å¯¹äºå­¦ç”Ÿä½¿ç”¨reduxæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ä¸ä½¿ç”¨reactï¼Œç›´æ¥ä½¿ç”¨åŸç”Ÿçš„html/jsæ¥å†™ä¸€ä¸ªç®€æ˜“çš„çš„redux åŸºæœ¬çš„çŠ¶æ€ç®¡ç†åŠæ•°æ®æ¸²æŸ“ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Redux principle 01&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;redux principle&lt;/h1&gt; &lt;div class="counter"&gt; &lt;span class="btn" onclick="dispatch(&#123;type: 'COUNT_DECREMENT', number: 10&#125;)"&gt;-&lt;/span&gt; &lt;span class="count" id="count"&gt;&lt;/span&gt; &lt;span class="btn" id="add" onclick="dispatch(&#123;type: 'COUNT_INCREMENT', number: 10&#125;)"&gt;+&lt;/span&gt; &lt;/div&gt; &lt;script&gt; // å®šä¹‰ä¸€ä¸ªè®¡æ•°å™¨çš„çŠ¶æ€ const countState = &#123; count: 10 &#125; // å®šä¸€ä¸ªæ–¹æ³•å«changeStateï¼Œç”¨äºå¤„ç†stateçš„æ•°æ®ï¼Œæ¯æ¬¡éƒ½è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ const changeState = (action) =&gt; &#123; switch(action.type) &#123; // å¤„ç†å‡ case 'COUNT_DECREMENT': countState.count -= action.number break; // å¤„ç†åŠ  case 'COUNT_INCREMENT': countState.count += action.number break; default: break; &#125; &#125; // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ç”¨äºæ¸²æŸ“è®¡æ•°å™¨çš„dom const renderCount = (state) =&gt; &#123; const countDom = document.querySelector('#count') countDom.innerHTML = state.count &#125; // é¦–æ¬¡æ¸²æŸ“æ•°æ® renderCount(countState) // å®šä¹‰ä¸€ä¸ªdispatchçš„æ–¹æ³•ï¼Œæ¥æ”¶åˆ°åŠ¨ä½œä¹‹åï¼Œè‡ªåŠ¨è°ƒç”¨ const dispatch = (action) =&gt; &#123; changeState(action) renderCount(countState) &#125; &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; åˆ›å»ºcreateStoreæ–¹æ³• 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Redux principle 02&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;redux principle&lt;/h1&gt; &lt;div class="counter"&gt; &lt;span class="btn" onclick="store.dispatch(&#123;type: 'COUNT_DECREMENT', number: 10&#125;)"&gt;-&lt;/span&gt; &lt;span class="count" id="count"&gt;&lt;/span&gt; &lt;span class="btn" id="add" onclick="store.dispatch(&#123;type: 'COUNT_INCREMENT', number: 10&#125;)"&gt;+&lt;/span&gt; &lt;/div&gt; &lt;script&gt; // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºé›†ä¸­ç®¡ç†stateå’Œdispatch const createStore = (state, changeState) =&gt; &#123; // getStateç”¨äºè·å–çŠ¶æ€ const getState = () =&gt; state // å®šä¹‰ä¸€ä¸ªç›‘å¬å™¨ï¼Œç”¨äºç®¡ç†ä¸€äº›æ–¹æ³• const listeners = [] const subscribe = (listener) =&gt; listeners.push(listener) // å®šä¹‰ä¸€ä¸ªdispatchæ–¹æ³•ï¼Œè®©æ¯æ¬¡æœ‰actionä¼ å…¥çš„æ—¶å€™è¿”å›renderæ‰§è¡Œä¹‹åçš„ç»“æœ const dispatch = (action) =&gt; &#123; // è°ƒç”¨changeStateæ¥å¤„ç†æ•°æ® changeState(state, action) // è®©ç›‘å¬å™¨é‡Œçš„æ‰€ä»¥æ–¹æ³•è¿è¡Œ listeners.forEach(listener =&gt; listener()) &#125; return &#123; getState, dispatch, subscribe &#125; &#125; // å®šä¹‰ä¸€ä¸ªè®¡æ•°å™¨çš„çŠ¶æ€ const countState = &#123; count: 10 &#125; // å®šä¸€ä¸ªæ–¹æ³•å«changeStateï¼Œç”¨äºå¤„ç†stateçš„æ•°æ®ï¼Œæ¯æ¬¡éƒ½è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ const changeState = (state, action) =&gt; &#123; switch(action.type) &#123; // å¤„ç†å‡ case 'COUNT_DECREMENT': state.count -= action.number break; // å¤„ç†åŠ  case 'COUNT_INCREMENT': state.count += action.number break; default: break; &#125; &#125; // åˆ›å»ºä¸€ä¸ªstore const store = createStore(countState, changeState) // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ç”¨äºæ¸²æŸ“è®¡æ•°å™¨çš„dom const renderCount = () =&gt; &#123; const countDom = document.querySelector('#count') countDom.innerHTML = store.getState().count &#125; // åˆæ¬¡æ¸²æŸ“æ•°æ® renderCount() // ç›‘å¬ï¼Œåªè¦æœ‰dispatchï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè‡ªåŠ¨è¿è¡Œ store.subscribe(renderCount) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; è®©changeStateæ–¹æ³•å˜ä¸ºä¸€ä¸ªçº¯å‡½æ•° 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Redux principle 03&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;redux principle&lt;/h1&gt; &lt;div class="counter"&gt; &lt;span class="btn" onclick="store.dispatch(&#123;type: 'COUNT_DECREMENT', number: 10&#125;)"&gt;-&lt;/span&gt; &lt;span class="count" id="count"&gt;&lt;/span&gt; &lt;span class="btn" id="add" onclick="store.dispatch(&#123;type: 'COUNT_INCREMENT', number: 10&#125;)"&gt;+&lt;/span&gt; &lt;/div&gt; &lt;script&gt; // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºé›†ä¸­ç®¡ç†stateå’Œdispatch const createStore = (state, changeState) =&gt; &#123; // getStateç”¨äºè·å–çŠ¶æ€ const getState = () =&gt; state // å®šä¹‰ä¸€ä¸ªç›‘å¬å™¨ï¼Œç”¨äºç®¡ç†ä¸€äº›æ–¹æ³• const listeners = [] const subscribe = (listener) =&gt; listeners.push(listener) // å®šä¹‰ä¸€ä¸ªdispatchæ–¹æ³•ï¼Œè®©æ¯æ¬¡æœ‰actionä¼ å…¥çš„æ—¶å€™è¿”å›renderæ‰§è¡Œä¹‹åçš„ç»“æœ const dispatch = (action) =&gt; &#123; // è°ƒç”¨changeStateæ¥å¤„ç†æ•°æ® state = changeState(state, action) // è®©ç›‘å¬å™¨é‡Œçš„æ‰€æœ‰æ–¹æ³•è¿è¡Œ listeners.forEach(listener =&gt; listener()) &#125; return &#123; getState, dispatch, subscribe &#125; &#125; // å®šä¹‰ä¸€ä¸ªè®¡æ•°å™¨çš„çŠ¶æ€ const countState = &#123; count: 10 &#125; // å®šä¸€ä¸ªæ–¹æ³•å«changeStateï¼Œç”¨äºå¤„ç†stateçš„æ•°æ®ï¼Œæ¯æ¬¡éƒ½è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ const changeState = (state, action) =&gt; &#123; switch(action.type) &#123; // å¤„ç†å‡ case 'COUNT_DECREMENT': return &#123; ...state, count: state.count - action.number &#125; // å¤„ç†åŠ  case 'COUNT_INCREMENT': return &#123; ...state, count: state.count + action.number &#125; default: return state &#125; &#125; // åˆ›å»ºä¸€ä¸ªstore const store = createStore(countState, changeState) // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ç”¨äºæ¸²æŸ“è®¡æ•°å™¨çš„dom const renderCount = () =&gt; &#123; const countDom = document.querySelector('#count') countDom.innerHTML = store.getState().count &#125; // åˆæ¬¡æ¸²æŸ“æ•°æ® renderCount() // ç›‘å¬ï¼Œåªè¦æœ‰dispatchï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¼šè‡ªåŠ¨è¿è¡Œ store.subscribe(renderCount) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; åˆå¹¶stateå’ŒchangeState(æœ€ç»ˆç‰ˆ) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;Redux principle 04&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;redux principle&lt;/h1&gt; &lt;div class="counter"&gt; &lt;span class="btn" onclick="store.dispatch(&#123;type: 'COUNT_DECREMENT', number: 10&#125;)"&gt;-&lt;/span&gt; &lt;span class="count" id="count"&gt;&lt;/span&gt; &lt;span class="btn" id="add" onclick="store.dispatch(&#123;type: 'COUNT_INCREMENT', number: 10&#125;)"&gt;+&lt;/span&gt; &lt;/div&gt; &lt;script&gt; // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºé›†ä¸­ç®¡ç†stateå’Œdispatch, changeStateæ”¹åäº†ï¼Œä¸“ä¸šçš„å«æ³•æ˜¯reducer const createStore = (reducer) =&gt; &#123; // å®šä¹‰ä¸€ä¸ªåˆå§‹çš„state let state = null // getStateç”¨äºè·å–çŠ¶æ€ const getState = () =&gt; state // å®šä¹‰ä¸€ä¸ªç›‘å¬å™¨ï¼Œç”¨äºç®¡ç†ä¸€äº›æ–¹æ³• const listeners = [] const subscribe = (listener) =&gt; listeners.push(listener) // å®šä¹‰ä¸€ä¸ªdispatchæ–¹æ³•ï¼Œè®©æ¯æ¬¡æœ‰actionä¼ å…¥çš„æ—¶å€™è¿”å›reduceræ‰§è¡Œä¹‹åçš„ç»“æœ const dispatch = (action) =&gt; &#123; // è°ƒç”¨reduceræ¥å¤„ç†æ•°æ® state = reducer(state, action) // è®©ç›‘å¬å™¨é‡Œçš„æ‰€æœ‰æ–¹æ³•è¿è¡Œ listeners.forEach(listener =&gt; listener()) &#125; // åˆå§‹åŒ–state dispatch(&#123;&#125;) return &#123; getState, dispatch, subscribe &#125; &#125; // å®šä¹‰ä¸€ä¸ªè®¡æ•°å™¨çš„çŠ¶æ€ const countState = &#123; count: 10 &#125; // å®šä¸€ä¸ªæ–¹æ³•å«changeStateï¼Œç”¨äºå¤„ç†stateçš„æ•°æ®ï¼Œæ¯æ¬¡éƒ½è¿”å›ä¸€ä¸ªæ–°çš„çŠ¶æ€ const changeState = (state, action) =&gt; &#123; // å¦‚æœstateæ˜¯null, å°±è¿”å›countState if (!state) return countState switch(action.type) &#123; // å¤„ç†å‡ case 'COUNT_DECREMENT': return &#123; ...state, count: state.count - action.number &#125; // å¤„ç†åŠ  case 'COUNT_INCREMENT': return &#123; ...state, count: state.count + action.number &#125; default: return state &#125; &#125; // åˆ›å»ºä¸€ä¸ªstore const store = createStore(changeState) // å®šä¹‰ä¸€ä¸ªæ–¹æ³•ç”¨äºæ¸²æŸ“è®¡æ•°å™¨çš„dom const renderCount = () =&gt; &#123; const countDom = document.querySelector('#count') countDom.innerHTML = store.getState().count &#125; // åˆæ¬¡æ¸²æŸ“æ•°æ® renderCount() // ç›‘å¬ï¼Œåªè¦æœ‰dispatchï¼ŒrenderCountå°±ä¼šè‡ªåŠ¨è¿è¡Œ store.subscribe(renderCount) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ###ä½¿ç”¨Reduxæ¡†æ¶ Reduxçš„æµç¨‹ï¼š 1.storeé€šè¿‡reduceråˆ›å»ºäº†åˆå§‹çŠ¶æ€ 2.viewé€šè¿‡store.getState()è·å–åˆ°äº†storeä¸­ä¿å­˜çš„stateæŒ‚è½½åœ¨äº†è‡ªå·±çš„çŠ¶æ€ä¸Š 3.ç”¨æˆ·äº§ç”Ÿäº†æ“ä½œï¼Œè°ƒç”¨äº†actions çš„æ–¹æ³• 4.actionsçš„æ–¹æ³•è¢«è°ƒç”¨ï¼Œåˆ›å»ºäº†å¸¦æœ‰æ ‡ç¤ºæ€§ä¿¡æ¯çš„action 5.actionså°†actioné€šè¿‡è°ƒç”¨store.dispatchæ–¹æ³•å‘é€åˆ°äº†reducerä¸­ 6.reduceræ¥æ”¶åˆ°actionå¹¶æ ¹æ®æ ‡è¯†ä¿¡æ¯åˆ¤æ–­ä¹‹åè¿”å›äº†æ–°çš„state 7.storeçš„stateè¢«reduceræ›´æ”¹ä¸ºæ–°stateçš„æ—¶å€™ï¼Œstore.subscribeæ–¹æ³•é‡Œçš„å›è°ƒå‡½æ•°ä¼šæ‰§è¡Œï¼Œæ­¤æ—¶å°±å¯ä»¥é€šçŸ¥viewå»é‡æ–°è·å–state Reducerå¿…é¡»æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼š Reducer å‡½æ•°æœ€é‡è¦çš„ç‰¹å¾æ˜¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦æ˜¯åŒæ ·çš„è¾“å…¥ï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„è¾“å‡ºã€‚Reducerä¸æ˜¯åªæœ‰Reduxé‡Œæ‰æœ‰ï¼Œä¹‹å‰å­¦çš„æ•°ç»„æ–¹æ³•reduce, å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªreducer çº¯å‡½æ•°æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µï¼Œå¿…é¡»éµå®ˆä»¥ä¸‹ä¸€äº›çº¦æŸã€‚ ä¸å¾—æ”¹å†™å‚æ•° ä¸èƒ½è°ƒç”¨ç³»ç»Ÿ I/O çš„API ä¸èƒ½è°ƒç”¨Date.now()æˆ–è€…Math.random()ç­‰ä¸çº¯çš„æ–¹æ³•ï¼Œå› ä¸ºæ¯æ¬¡ä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç»“æœ ç”±äº Reducer æ˜¯çº¯å‡½æ•°ï¼Œå°±å¯ä»¥ä¿è¯åŒæ ·çš„Stateï¼Œå¿…å®šå¾—åˆ°åŒæ ·çš„ Viewã€‚ä½†ä¹Ÿæ­£å› ä¸ºè¿™ä¸€ç‚¹ï¼ŒReducer å‡½æ•°é‡Œé¢ä¸èƒ½æ”¹å˜ Stateï¼Œå¿…é¡»è¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œè¯·å‚è€ƒä¸‹é¢çš„å†™æ³•ã€‚ 1234567891011// State æ˜¯ä¸€ä¸ªå¯¹è±¡function reducer(state = defaultState, action) &#123; return Object.assign(&#123;&#125;, state, &#123; thingToChange &#125;); // æˆ–è€… return &#123; ...state, ...newState &#125;;&#125;// State æ˜¯ä¸€ä¸ªæ•°ç»„function reducer(state = defaultState, action) &#123; return [...state, newItem];&#125; æœ€å¥½æŠŠ State å¯¹è±¡è®¾æˆåªè¯»ã€‚è¦å¾—åˆ°æ–°çš„ Stateï¼Œå”¯ä¸€åŠæ³•å°±æ˜¯ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œä»»ä½•æ—¶å€™ï¼Œä¸æŸä¸ª View å¯¹åº”çš„ State æ€»æ˜¯ä¸€ä¸ªä¸å˜(immutable)çš„å¯¹è±¡ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨createStoreä¸­ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°æ¥è®¾ç½®é»˜è®¤çš„stateï¼Œä½†æ˜¯è¿™ç§å½¢å¼åªé€‚åˆäºåªæœ‰ä¸€ä¸ªreducerçš„æ—¶å€™ã€‚ åˆ’åˆ†reducer: å› ä¸ºä¸€ä¸ªåº”ç”¨ä¸­åªèƒ½æœ‰ä¸€ä¸ªå¤§çš„stateï¼Œè¿™æ ·çš„è¯reducerä¸­çš„ä»£ç å°†ä¼šç‰¹åˆ«ç‰¹åˆ«çš„å¤šï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨combineReducersæ–¹æ³•å°†å·²ç»åˆ†å¼€çš„reduceråˆå¹¶åˆ°ä¸€èµ· æ³¨æ„ï¼š åˆ†ç¦»reducerçš„æ—¶å€™ï¼Œæ¯ä¸€ä¸ªreducerç»´æŠ¤çš„çŠ¶æ€éƒ½åº”è¯¥ä¸åŒ é€šè¿‡store.getStateè·å–åˆ°çš„æ•°æ®ä¹Ÿæ˜¯ä¼šæŒ‰ç…§reducerså»åˆ’åˆ†çš„ åˆ’åˆ†å¤šä¸ªreducerçš„æ—¶å€™ï¼Œé»˜è®¤çŠ¶æ€åªèƒ½åˆ›å»ºåœ¨reducerä¸­ï¼Œå› ä¸ºåˆ’åˆ†reducerçš„ç›®çš„ï¼Œå°±æ˜¯ä¸ºäº†è®©æ¯ä¸€ä¸ªreduceréƒ½å»ç‹¬ç«‹ç®¡ç†ä¸€éƒ¨åˆ†çŠ¶æ€ æœ€å¼€å§‹ä¸€èˆ¬åŸºäºè®¡æ•°å™¨çš„ä¾‹å­è®²è§£reduxçš„åŸºæœ¬ä½¿ç”¨å³å¯ã€‚ å…³äºaction/reducer/storeçš„æ›´å¤šæ¦‚å¿µï¼Œè¯·æŸ¥çœ‹å®˜ç½‘ Reduxå¼‚æ­¥ é€šå¸¸æƒ…å†µä¸‹ï¼Œactionåªæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½åŒ…å«å¼‚æ­¥æ“ä½œï¼Œè¿™å¯¼è‡´äº†å¾ˆå¤šåˆ›å»ºactionçš„é€»è¾‘åªèƒ½å†™åœ¨ç»„ä»¶ä¸­ï¼Œä»£ç é‡è¾ƒå¤šä¹Ÿä¸ä¾¿äºå¤ç”¨ï¼ŒåŒæ—¶å¯¹è¯¥éƒ¨åˆ†ä»£ç æµ‹è¯•çš„æ—¶å€™ä¹Ÿæ¯”è¾ƒå›°éš¾ï¼Œç»„ä»¶çš„ä¸šåŠ¡é€»è¾‘ä¹Ÿä¸æ¸…æ™°ï¼Œä½¿ç”¨ä¸­é—´ä»¶äº†ä¹‹åï¼Œå¯ä»¥é€šè¿‡actionCreatorå¼‚æ­¥ç¼–å†™actionï¼Œè¿™æ ·ä»£ç å°±ä¼šæ‹†åˆ†åˆ°actionCreatorä¸­ï¼Œå¯ç»´æŠ¤æ€§å¤§å¤§æé«˜ï¼Œå¯ä»¥æ–¹ä¾¿äºæµ‹è¯•ã€å¤ç”¨ï¼ŒåŒæ—¶actionCreatorè¿˜é›†æˆäº†å¼‚æ­¥æ“ä½œä¸­ä¸åŒçš„actionæ´¾å‘æœºåˆ¶ï¼Œå‡å°‘ç¼–ç è¿‡ç¨‹ä¸­çš„ä»£ç é‡ å¸¸è§çš„å¼‚æ­¥åº“ï¼š Redux-thunk(å°±è®²è¿™ä¸ª) Redux-saga Redux-effects Redux-side-effects Redux-loop Redux-observable â€¦ åŸºäºPromiseçš„å¼‚æ­¥åº“ï¼š Redux-promise Redux-promises Redux-simple-promise Redux-promise-middleware â€¦ ###å®¹å™¨ç»„ä»¶ï¼ˆSmart/Container Componentsï¼‰å’Œå±•ç¤ºç»„ä»¶ï¼ˆDumb/Presentational Componentsï¼‰ å±•ç¤ºç»„ä»¶ å®¹å™¨ç»„ä»¶ ä½œç”¨ æè¿°å¦‚ä½•å±•ç°ï¼ˆéª¨æ¶ã€æ ·å¼ï¼‰ æè¿°å¦‚ä½•è¿è¡Œï¼ˆæ•°æ®è·å–ã€çŠ¶æ€æ›´æ–°ï¼‰ ç›´æ¥ä½¿ç”¨ Redux å¦ æ˜¯ æ•°æ®æ¥æº props ç›‘å¬ Redux state æ•°æ®ä¿®æ”¹ ä» props è°ƒç”¨å›è°ƒå‡½æ•° å‘ Redux æ´¾å‘ actions è°ƒç”¨æ–¹å¼ æ‰‹åŠ¨ é€šå¸¸ç”± React Redux ç”Ÿæˆ ä½¿ç”¨react-reduxå¯ä»¥å…ˆç»“åˆcontextæ¥æ‰‹åŠ¨è¿æ¥reactå’Œreduxã€‚ react-reduxæä¾›ä¸¤ä¸ªæ ¸å¿ƒçš„apiï¼š Provider: æä¾›store connect: ç”¨äºè¿æ¥å®¹å™¨ç»„ä»¶å’Œå±•ç¤ºç»„ä»¶ Provider æ ¹æ®å•ä¸€storeåŸåˆ™ ï¼Œä¸€èˆ¬åªä¼šå‡ºç°åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„æœ€é¡¶å±‚ã€‚ connect è¯­æ³•æ ¼å¼ä¸º connect(mapStateToProps?, mapDispatchToProps?, mergeProps?, options?)(component) ä¸€èˆ¬æ¥è¯´åªä¼šç”¨åˆ°å‰é¢ä¸¤ä¸ªï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼š æŠŠstore.getState()çš„çŠ¶æ€è½¬åŒ–ä¸ºå±•ç¤ºç»„ä»¶çš„props æŠŠactionCreatorsè½¬åŒ–ä¸ºå±•ç¤ºç»„ä»¶propsä¸Šçš„æ–¹æ³• ç‰¹åˆ«å¼ºè°ƒï¼š å®˜ç½‘ä¸Šçš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºmapDispatchToProps, å®é™…ä¸Šå°±æ˜¯actionCreators åªè¦ä¸Šå±‚ä¸­æœ‰Providerç»„ä»¶å¹¶ä¸”æä¾›äº†store, é‚£ä¹ˆï¼Œå­å­™çº§åˆ«çš„ä»»ä½•ç»„ä»¶ï¼Œè¦æƒ³ä½¿ç”¨storeé‡Œçš„çŠ¶æ€ï¼Œéƒ½å¯ä»¥é€šè¿‡connectæ–¹æ³•è¿›è¡Œè¿æ¥ã€‚å¦‚æœåªæ˜¯æƒ³è¿æ¥actionCreatorsï¼Œå¯ä»¥ç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ä¸ºnull MobxMobxæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ï¼Œä¸Šæ‰‹éå¸¸å®¹æ˜“çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚reduxçš„ä½œè€…ä¹Ÿæ›¾ç»å‘å¤§å®¶æ¨èè¿‡å®ƒï¼Œåœ¨ä¸å°‘æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨Mobxæ¥æ›¿ä»£æ‰reduxã€‚ è¿™å¼ å›¾æ¥è‡ªäºå®˜ç½‘ï¼ŒæŠŠè¿™å¼ å›¾ç†è§£æ¸…æ¥šäº†ã€‚åŸºæœ¬ä¸Šå¯¹äºmobxçš„ç†è§£å°±ç®—å…¥é—¨äº†ã€‚ å®˜ç½‘æœ‰æ˜ç¡®çš„æ ¸å¿ƒæ¦‚å¿µä½¿ç”¨æ–¹æ³•ï¼Œå¹¶é…æœ‰eggheadçš„è§†é¢‘æ•™ç¨‹ã€‚è¿™é‡Œå°±ä¸ä¸€ä¸€èµ˜è¿°äº†ã€‚ è¦ç‰¹åˆ«æ³¨æ„å½“ä½¿ç”¨ mobx-react æ—¶å¯ä»¥å®šä¹‰ä¸€ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° componentWillReactã€‚å½“ç»„ä»¶å› ä¸ºå®ƒè§‚å¯Ÿçš„æ•°æ®å‘ç”Ÿäº†æ”¹å˜ï¼Œå®ƒä¼šå®‰æ’é‡æ–°æ¸²æŸ“ï¼Œè¿™ä¸ªæ—¶å€™ componentWillReact ä¼šè¢«è§¦å‘ã€‚è¿™ä½¿å¾—å®ƒå¾ˆå®¹æ˜“è¿½æº¯æ¸²æŸ“å¹¶æ‰¾åˆ°å¯¼è‡´æ¸²æŸ“çš„æ“ä½œ(action)ã€‚ componentWillReact ä¸æ¥æ”¶å‚æ•° componentWillReact åˆå§‹åŒ–æ¸²æŸ“å‰ä¸ä¼šè§¦å‘ (ä½¿ç”¨ componentWillMount æ›¿ä»£) componentWillReact å¯¹äº mobx-react@4+, å½“æ¥æ”¶æ–°çš„ props æ—¶å¹¶åœ¨ setState è°ƒç”¨åä¼šè§¦å‘æ­¤é’©å­ è¦è§¦å‘componentWillReactå¿…é¡»åœ¨renderé‡Œé¢ç”¨åˆ°è¢«è§‚å¯Ÿçš„å˜é‡ ä½¿ç”¨Mobxä¹‹åä¸ä¼šè§¦å‘componentWillReceiveProps reactè„šæ‰‹æ¶ - Mobxé…ç½® ï¼ˆ è£…é¥°å™¨ ï¼‰ åˆ›å»ºé¡¹ç›®create-react-app app è¿›å…¥é¡¹ç›®cd app è¿›è¡Œé…ç½®æ–‡ä»¶æŠ½ç¦»yarn eject å®‰è£…mobx mobx-react mobx æ˜¯çŠ¶æ€ç®¡ç†å·¥å…· mobx-react æ˜¯åšæ•°æ®åˆ†ç‰‡å’Œæ•°æ®è·å– $ $yarn add mobx mobx-reactæ³¨æ„ï¼š å¦‚æœgitå†²çª è§£å†³ï¼š æˆ‘ä»¬è¦åŸæ–‡ä»¶å…ˆæ”¾åˆ°æœ¬åœ°æš‚å­˜ç›˜ git add . git commit -m &apos;â€‹ ç„¶å ï¼š å®‰è£…mobx mobx-reactâ€™â€‹ æ³¨æ„ä¸è¦git push é…ç½®è£…é¥°å™¨ï¼ˆ ä¿®é¥°å™¨ es6 ï¼‰ babelyarn add babel-plugin-transform-decorators-legacy -Dyarn add @babel/preset-env -Dyarn add babel-plugin-transform-class-properties -Dyarn add @babel/plugin-proposal-decorators -D é…ç½®package.jsonâ€œbabelâ€: { â€œpluginsâ€: [ [ &quot;@babel/plugin-proposal-decorators&quot;, { &quot;legacy&quot;: true } ], â€œtransform-class-propertiesâ€ ], â€œpresetsâ€: [ â€œreact-appâ€, â€œ@babel/preset-envâ€ ] }, æ³¨æ„ï¼š ä»¥ä¸‹ä¸¤ä¸ªé…ç½®é¡ºåºä¸å¯æ›´æ”¹ [ &quot;@babel/plugin-proposal-decorators&quot;, { &quot;legacy&quot;: true } ], â€œtransform-class-propertiesâ€ é¡¹ç›®ä¸­ mobxåº”è¯¥æ€ä¹ˆç”¨ï¼Ÿ æ–°å»ºstoreç›®å½•src store home index.js car index.js index.js åœ¨å…¥å£æ–‡ä»¶ä¸­ ä½¿ç”¨ Provider import store from â€˜./storeâ€™import { Provider } from â€˜mobx-reactâ€™ ReactDOM.render( , document.getElementById('root')); å“ªä¸ªç»„ä»¶ä½¿ç”¨ ï¼Œ å°±åœ¨å“ªä¸ªç»„ä»¶ä¸­ â€œæ³¨å…¥â€ inject import {inject} from â€˜mobx-reactâ€™ @inject(â€˜storeâ€™) æ‰“é€ mobx æ•°æ®åŒ… import { observable, computed,action} from â€˜mobxâ€™class Home { @observable //ç›‘å¬ age age = 18 @computed //å½“ageå‘ç”Ÿæ”¹å˜æ—¶ï¼Œ è‡ªåŠ¨è§¦å‘ get doubleAge(){ return this.age *= 2 } @action // ç”¨æˆ·æ“ä½œ äº‹ä»¶è°ƒç”¨ increment(){ this.props.store.home.age ++ console.log( this.props.store.home.age ) 123456789101112 //æ•°æ®è¯·æ±‚ fetch(&apos;/data/data.json&apos;) .then(res =&gt; res.json()) .then( result =&gt; console.log( result )) .catch( error =&gt; console.log( error )) &#125;&#125;const home = new Home()export default home æ‰“é€ storestore/index.js import home from â€˜./homeâ€™const store = { //å®ä¾‹ home} export default store ç»„ä»¶å†…ä½¿ç”¨æ•°æ® this.props.store.xxx å¯ä»¥æ‹¿åˆ°æ•°æ® æ³¨æ„ï¼š this.porpsé‡Œé¢æ²¡æœ‰æ‰¾åˆ° @action è£…é¥°å™¨å®šä¹‰çš„æ–¹æ³•ï¼Œ ä½†æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ thisä¼šä¸¢å¤± this.props.store.home.increment.bind(this) React RouterReact Routerç°åœ¨çš„ç‰ˆæœ¬æ˜¯5, äº2019å¹´3æœˆ21æ—¥æç¬‘çš„å‘å¸ƒï¼Œæç¬‘çš„å®˜ç½‘é“¾æ¥ï¼Œ æœ¬æ¥æ˜¯è¦å‘å¸ƒ4.4çš„ç‰ˆæœ¬çš„ï¼Œç»“æœæˆäº†5ã€‚ä»4å¼€å§‹ï¼Œä½¿ç”¨æ–¹å¼ç›¸å¯¹äºä¹‹å‰ç‰ˆæœ¬çš„æ€æƒ³æœ‰æ‰€ä¸åŒã€‚ä¹‹å‰ç‰ˆæœ¬çš„æ€æƒ³æ˜¯ä¼ ç»Ÿçš„æ€æƒ³ï¼šè·¯ç”±åº”è¯¥ç»Ÿä¸€åœ¨ä¸€å¤„æ¸²æŸ“ï¼Œ Router 4ä¹‹åæ˜¯è¿™æ ·çš„æ€æƒ³ï¼šä¸€åˆ‡çš†ç»„ä»¶ React RouteråŒ…å«äº†å››ä¸ªåŒ…: åŒ…å Description react-router React Routeræ ¸å¿ƒapi react-router-dom React Routerçš„DOMç»‘å®šï¼Œåœ¨æµè§ˆå™¨ä¸­è¿è¡Œä¸éœ€è¦é¢å¤–å®‰è£…react-router react-router-native React Native ä¸­ä½¿ç”¨ï¼Œè€Œå®é™…çš„åº”ç”¨ä¸­ï¼Œå…¶å®ä¸ä¼šä½¿ç”¨è¿™ä¸ªã€‚ react-router-config é™æ€è·¯ç”±çš„é…ç½® ä¸»è¦ä½¿ç”¨react-router-dom ä½¿ç”¨æ–¹å¼æ­£å¸¸æƒ…å†µä¸‹ï¼Œç›´æ¥æŒ‰ç…§å®˜ç½‘çš„demoå°±ç†è§£ è·¯ç”±çš„ä½¿ç”¨æ–¹å¼ï¼Œæœ‰å‡ ä¸ªç‚¹éœ€è¦ç‰¹åˆ«çš„å¼ºè°ƒï¼š Routeç»„ä»¶çš„exactå±æ€§ exactå±æ€§æ ‡è¯†æ˜¯å¦ä¸ºä¸¥æ ¼åŒ¹é…ï¼Œ ä¸ºtrueæ˜¯è¡¨ç¤ºä¸¥æ ¼åŒ¹é…ï¼Œä¸ºfalseæ—¶ä¸ºæ­£å¸¸åŒ¹é…ã€‚ Routeç»„ä»¶çš„renderå±æ€§è€Œä¸æ˜¯componentå±æ€§ æ€ä¹ˆåœ¨æ¸²æŸ“ç»„ä»¶çš„æ—¶å€™ï¼Œå¯¹ç»„ä»¶ä¼ é€’å±æ€§å‘¢ï¼Ÿä½¿ç”¨componentçš„æ–¹å¼æ˜¯ä¸èƒ½ç›´æ¥åœ¨ç»„ä»¶ä¸Šæ·»åŠ å±æ€§çš„ã€‚æ‰€ä»¥ï¼ŒReact Routerçš„Routeç»„ä»¶æä¾›äº†å¦ä¸€ç§æ¸²æŸ“ç»„ä»¶çš„æ–¹å¼ render, è¿™ä¸ªå¸¸ç”¨äºé¡µé¢ç»„ä»¶çº§åˆ«çš„æƒé™ç®¡ç†ã€‚ è·¯ç”±çš„å‚æ•°ä¼ é€’ä¸è·å– Switchç»„ä»¶ æ€»æ˜¯æ¸²æŸ“ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„ç»„ä»¶ å¤„ç†404ä¸é»˜è®¤é¡µ withRouteé«˜é˜¶ç»„ä»¶çš„ä½¿ç”¨ ç®¡ç†ä¸€ä¸ªé¡¹ç›®è·¯ç”±çš„æ–¹æ³• code spliting HashRouterå’ŒBrowserRouterçš„åŒºåˆ«ï¼Œå‰ç«¯è·¯ç”±å’Œåç«¯è·¯ç”±çš„åŒºåˆ«ã€‚è¿™ä¸ªåœ¨Vueé‡Œåº”è¯¥æœ‰è®²è¿‡äº†ã€‚ React RouteråŸºæœ¬åŸç†React Routerç”šè‡³å¤§éƒ¨åˆ†çš„å‰ç«¯è·¯ç”±éƒ½æ˜¯ä¾èµ–äºhistory.jsçš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¬¬ä¸‰æ–¹jsåº“ã€‚å¯ä»¥ç”¨æ¥å…¼å®¹åœ¨ä¸åŒæµè§ˆå™¨ã€ä¸åŒç¯å¢ƒä¸‹å¯¹å†å²è®°å½•çš„ç®¡ç†ï¼Œæ‹¥æœ‰ç»Ÿä¸€çš„APIã€‚ è€æµè§ˆå™¨çš„history: é€šè¿‡hashæ¥å­˜å‚¨åœ¨ä¸åŒçŠ¶æ€ä¸‹çš„historyä¿¡æ¯ï¼Œå¯¹åº”createHashHistoryï¼Œé€šè¿‡æ£€æµ‹location.hashçš„å€¼çš„å˜åŒ–ï¼Œä½¿ç”¨location.replaceæ–¹æ³•æ¥å®ç°urlè·³è½¬ã€‚é€šè¿‡æ³¨å†Œç›‘å¬windowå¯¹è±¡ä¸Šçš„hashChangeäº‹ä»¶æ¥ç›‘å¬è·¯ç”±çš„å˜åŒ–ï¼Œå®ç°å†å²è®°å½•çš„å›é€€ã€‚ é«˜ç‰ˆæœ¬æµè§ˆå™¨: åˆ©ç”¨HTML5é‡Œé¢çš„historyï¼Œå¯¹åº”createBrowserHistory, ä½¿ç”¨åŒ…æ‹¬pushStateï¼Œ replaceStateæ–¹æ³•æ¥è¿›è¡Œè·³è½¬ã€‚é€šè¿‡æ³¨å†Œç›‘å¬windowå¯¹è±¡ä¸Šçš„popstateäº‹ä»¶æ¥ç›‘å¬è·¯ç”±çš„å˜åŒ–ï¼Œå®ç°å†å²è®°å½•çš„å›é€€ã€‚ nodeç¯å¢ƒä¸‹: åœ¨å†…å­˜ä¸­è¿›è¡Œå†å²è®°å½•çš„å­˜å‚¨ï¼Œå¯¹åº”createMemoryHistoryã€‚ç›´æ¥åœ¨å†…å­˜é‡Œpushå’ŒpopçŠ¶æ€ã€‚ Immutable.jsJavaScriptæ•°æ®ä¿®æ”¹çš„é—®é¢˜çœ‹ä¸€æ®µå¤§å®¶ç†Ÿæ‚‰çš„ä»£ç  12345678910const state = &#123; str: 'åƒé”‹æ•™è‚²', obj: &#123; y: 1 &#125;, arr: [1, 2, 3]&#125;const newState = stateconsole.log(newState === state) // true ç”±äºjsçš„å¯¹è±¡å’Œæ•°ç»„éƒ½æ˜¯å¼•ç”¨ç±»å‹ã€‚æ‰€ä»¥newStateçš„stateå®é™…ä¸Šæ˜¯æŒ‡å‘äºåŒä¸€å—å†…å­˜åœ°å€çš„, æ‰€ä»¥ç»“æœæ˜¯newStateå’Œstateæ˜¯ç›¸ç­‰çš„ã€‚ å°è¯•ä¿®æ”¹ä¸€ä¸‹æ•°æ® 123456789101112const state = &#123; str: 'åƒé”‹æ•™è‚²', obj: &#123; y: 1 &#125;, arr: [1, 2, 3]&#125;const newState = statenewState.str = 'åƒé”‹æ•™è‚²H5å­¦é™¢'console.log(state.str, newState.str) å¯ä»¥çœ‹åˆ°ï¼ŒnewStateçš„ä¿®æ”¹ä¹Ÿä¼šå¼•èµ·stateçš„ä¿®æ”¹ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œjsä¸­æä¾›äº†å¦ä¸€ç§ä¿®æ”¹æ•°æ®çš„æ–¹å¼ï¼Œè¦ä¿®æ”¹ä¸€ä¸ªæ•°æ®ä¹‹å‰å…ˆåˆ¶ä½œä¸€ä»½æ•°æ®çš„æ‹·è´ï¼Œåƒè¿™æ · 123456789101112const state = &#123; str: 'åƒé”‹æ•™è‚²', obj: &#123; y: 1 &#125;, arr: [1, 2, 3]&#125;const newState = Object.assign(&#123;&#125;, state)newState.str = 'åƒé”‹æ•™è‚²H5å­¦é™¢'console.log(state.str, newState.str) æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¾ˆå¤šæ–¹å¼åœ¨jsä¸­å¤åˆ¶æ•°æ®ï¼Œæ¯”å¦‚â€¦, Object.assign, Object.freeze, slice, concat, map, filter, reduceç­‰æ–¹å¼è¿›è¡Œå¤åˆ¶ï¼Œä½†è¿™äº›éƒ½æ˜¯æµ…æ‹·è´ï¼Œå°±æ˜¯åªæ‹·è´ç¬¬ä¸€å±‚æ•°æ®ï¼Œæ›´æ·±å±‚çš„æ•°æ®è¿˜æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼Œæ¯”å¦‚ï¼š 12345678910111213const state = &#123; str: 'åƒé”‹æ•™è‚²', obj: &#123; y: 1 &#125;, arr: [1, 2, 3]&#125;const newState = Object.assign(&#123;&#125;, state)newState.obj.y = 2newState.arr.push(4)console.log(state, newState) å¯ä»¥çœ‹åˆ°ï¼Œå½“åœ¨æ›´æ”¹newStateæ›´æ·±å±‚æ¬¡çš„æ•°æ®çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šå½±å“åˆ°stateçš„å€¼ã€‚å¦‚æœè¦æ·±å±‚å¤åˆ¶ï¼Œå°±å¾—ä¸€å±‚ä¸€å±‚çš„åšé€’å½’æ‹·è´ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„é—®é¢˜ã€‚è™½ç„¶æœ‰äº›ç¬¬ä¸‰æ–¹çš„åº“å·²ç»å¸®æˆ‘ä»¬åšå¥½äº†ï¼Œæ¯”å¦‚lodashçš„cloneDeepæ–¹æ³•ã€‚æ·±æ‹·è´æ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ã€‚ 123456789101112131415import &#123; cloneDeep &#125; from 'lodash'const state = &#123; str: 'åƒé”‹æ•™è‚²', obj: &#123; y: 1 &#125;, arr: [1, 2, 3]&#125;const newState = cloneDeep(state)newState.obj.y = 2newState.arr.push(4)console.log(state, newState) ä»€ä¹ˆæ˜¯ä¸å¯å˜æ•°æ®ä¸å¯å˜æ•°æ® (Immutable Data )å°±æ˜¯ä¸€æ—¦åˆ›å»ºï¼Œå°±ä¸èƒ½å†è¢«æ›´æ”¹çš„æ•°æ®ã€‚å¯¹ Immutable å¯¹è±¡çš„ä»»ä½•ä¿®æ”¹æˆ–æ·»åŠ åˆ é™¤æ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Immutable å¯¹è±¡ã€‚Immutable å®ç°çš„åŸç†æ˜¯æŒä¹…åŒ–æ•°æ®ç»“æ„ï¼ˆ Persistent Data Structureï¼‰ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨æ—§æ•°æ®åˆ›å»ºæ–°æ•°æ®æ—¶ï¼Œè¦ä¿è¯æ—§æ•°æ®åŒæ—¶å¯ç”¨ä¸”ä¸å˜ã€‚åŒæ—¶ä¸ºäº†é¿å… deepCopy æŠŠæ‰€æœ‰èŠ‚ç‚¹éƒ½å¤åˆ¶ä¸€éå¸¦æ¥çš„sæ€§èƒ½æŸè€—ï¼ŒImmutable ä½¿ç”¨äº† ç»“æ„å…±äº«ï¼ˆStructural Sharingï¼‰ï¼Œå³å¦‚æœå¯¹è±¡æ ‘ä¸­ä¸€ä¸ªèŠ‚ç‚¹å‘ç”Ÿå˜åŒ–ï¼Œåªä¿®æ”¹è¿™ä¸ªèŠ‚ç‚¹å’Œå—å®ƒå½±å“çš„çˆ¶èŠ‚ç‚¹ï¼Œå…¶å®ƒèŠ‚ç‚¹åˆ™è¿›è¡Œå…±äº«ã€‚ immutable.jsçš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š é™ä½immutableå¸¦æ¥çš„å¤æ‚åº¦ èŠ‚çœå†…å­˜ å†å²è¿½æº¯æ€§ï¼ˆæ—¶é—´æ—…è¡Œï¼‰ï¼šæ—¶é—´æ—…è¡ŒæŒ‡çš„æ˜¯ï¼Œæ¯æ—¶æ¯åˆ»çš„å€¼éƒ½è¢«ä¿ç•™äº†ï¼Œæƒ³å›é€€åˆ°å“ªä¸€æ­¥åªè¦ç®€å•çš„å°†æ•°æ®å–å‡ºå°±è¡Œï¼Œæƒ³ä¸€ä¸‹å¦‚æœç°åœ¨é¡µé¢æœ‰ä¸ªæ’¤é”€çš„æ“ä½œï¼Œæ’¤é”€å‰çš„æ•°æ®è¢«ä¿ç•™äº†ï¼Œåªéœ€è¦å–å‡ºå°±è¡Œï¼Œè¿™ä¸ªç‰¹æ€§åœ¨reduxæˆ–è€…fluxä¸­ç‰¹åˆ«æœ‰ç”¨ æ‹¥æŠ±å‡½æ•°å¼ç¼–ç¨‹ï¼šimmutableæœ¬æ¥å°±æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µï¼Œçº¯å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹å°±æ˜¯ï¼Œåªè¦è¾“å…¥ä¸€è‡´ï¼Œè¾“å‡ºå¿…ç„¶ä¸€è‡´ï¼Œç›¸æ¯”äºé¢å‘å¯¹è±¡ï¼Œè¿™æ ·å¼€å‘ç»„ä»¶å’Œè°ƒè¯•æ›´æ–¹ä¾¿ã€‚æ¨èä¸€æœ¬å‡½æ•°å¼ç¼–ç¨‹çš„åœ¨çº¿å…è´¹ä¹¦ã€ŠJS å‡½æ•°å¼ç¼–ç¨‹æŒ‡å—ã€‹, æ­¤ä¹¦å¯ä»¥æ¨èç»™å­¦ç”Ÿåšä¸ºè¯¾å¤–è¡¥å……é˜…è¯»ã€‚ ç¼ºç‚¹ï¼š éœ€è¦é‡æ–°å­¦ä¹ api èµ„æºåŒ…å¤§å°å¢åŠ ï¼ˆæºç 5000è¡Œå·¦å³ï¼‰ å®¹æ˜“ä¸åŸç”Ÿå¯¹è±¡æ··æ·†ï¼šç”±äºapiä¸åŸç”Ÿä¸åŒï¼Œæ··ç”¨çš„è¯å®¹æ˜“å‡ºé”™ã€‚ ä½¿ç”¨Immutable.jså‚è€ƒå®˜ç½‘é‡ç‚¹è®²è§£æ•°æ®ä¸å¯å˜æ•°æ®çš„åˆ›å»ºã€æ›´æ–°åŠæ¯”è¾ƒæ–¹å¼ ã€‚å¯¹äºå°±ä¸šç­æ¥è¯´ï¼ŒæŒæ¡ä»¥ä¸‹çŸ¥è¯†ç‚¹å³å¯ã€‚ Map123456789101112131415161718192021import &#123; Map &#125; from 'immutable'const map = Map(&#123; a: 1, b: 2, c: 3&#125;)const newMap = map.set('b', 20) // immutableæ•°æ®æ¯æ¬¡éƒ½æ˜¯ç”Ÿæˆæ–°çš„å†é‡æ–°è°ƒç”¨setè¿›è¡Œä¿®æ”¹ï¼Œæ‰€ä»¥éœ€è¦ é‡æ–°èµ‹å€¼ç»™ä¸€ä¸ªæ–°çš„å˜é‡console.log(map, newMap) // immutable.Mapä¸æ˜¯åŸç”Ÿçš„å¯¹è±¡console.log(map.b, newMap.b) // immutable.Mapä¸æ˜¯åŸç”Ÿçš„å¯¹è±¡, æ‰€ä»¥æ˜¯undefinedconsole.log(map.get('b'), newMap.get('b')) // è¦å–å€¼ï¼Œéœ€è¦è°ƒç”¨get(key)æ–¹æ³•ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªå€¼ä¸ä¸€æ ·const obj = &#123; a: 1, b: 2, c: 3&#125;console.log(Map.isMap(map), Map.isMap(obj)) // true false, ä½¿ç”¨Map.isMapæ¥åˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªimmutable.Mapç±»å‹ List123456789101112import &#123; List &#125; from 'immutable'const list = List([1, 2, 3, 4])const newList = list.push(5)console.log(list, newList)console.log(list[4], newList[4]) // undefined undefinedconsole.log(list.get(4), newList.get(4)) // undefined 5console.log(list.size, newList.size) // 4 5const arr = [1, 2, 3, 4]console.log(List.isList(list), List.isList(arr)) // true false equals &amp; is123456789101112131415161718import &#123; Map, is &#125; from 'immutable'const map = Map(&#123; a: 1, b: 2, c: 3&#125;)const anotherMap = Map(&#123; a: 1, b: 2, c: 3&#125;)console.log(map == anotherMap) // falseconsole.log(map === anotherMap) // falseconsole.log(map.equals(anotherMap)) // ä½¿ç”¨equalsè¿›è¡Œæ¯”è¾ƒ trueconsole.log(is(map, anotherMap)) // ä½¿ç”¨isè¿›è¡Œæ¯”è¾ƒ true Listå¸¸ç”¨api123456789import &#123; List &#125; from 'immutable'const list = List([1, 2, 3, 4])const list1 = list.push(5)const list2 = list1.unshift(0)const list3 = list.concat(list1, list2)const list4 = list.map(v =&gt; v * 2)console.log(list.size, list1.size, list2.size, list3.size, list4.toJS()) // 4 5 6 15, [2, 4, 6, 8] Mapå¸¸ç”¨api12345678910111213141516171819202122232425262728import &#123; Map &#125; from 'immutable'const alpha = Map(&#123; a: 1, b: 2, c: 3&#125;)const objKeys = alpha.map((v, k) =&gt; k)console.log(objKeys.join()) // a, b, cconst map1 = Map(&#123; a: 1, b: 2&#125;)const map2 = Map(&#123; c: 3, d: 4&#125;)const obj = &#123; d: 400, e: 50&#125;const mergedMap = map1.merge(map2, obj)console.log(mergedMap.toObject())console.log(mergedMap.toJS()) åµŒå¥—æ•°æ®ç»“æ„1234567891011121314const &#123; fromJS &#125; = require('immutable');const nested = fromJS(&#123; a: &#123; b: &#123; c: [ 3, 4, 5 ] &#125; &#125; &#125;);const nested2 = nested.mergeDeep(&#123; a: &#123; b: &#123; d: 6 &#125; &#125; &#125;);// Map &#123; a: Map &#123; b: Map &#123; c: List [ 3, 4, 5 ], d: 6 &#125; &#125; &#125;console.log(nested2.getIn([ 'a', 'b', 'd' ])); // 6const nested3 = nested2.updateIn([ 'a', 'b', 'd' ], value =&gt; value + 1);console.log(nested3);// Map &#123; a: Map &#123; b: Map &#123; c: List [ 3, 4, 5 ], d: 7 &#125; &#125; &#125;const nested4 = nested3.updateIn([ 'a', 'b', 'c' ], list =&gt; list.push(6));// Map &#123; a: Map &#123; b: Map &#123; c: List [ 3, 4, 5, 6 ], d: 7 &#125; &#125; &#125; ##åœ¨reduxä¸­ä½¿ç”¨immutable.js reduxå®˜ç½‘æ¨èä½¿ç”¨redux-immutableè¿›è¡Œreduxå’Œimmutableçš„é›†æˆã€‚å‡ ä¸ªæ³¨æ„ç‚¹ï¼š reduxä¸­ï¼Œåˆ©ç”¨combineReducersæ¥åˆå¹¶å¤šä¸ªreduce, reduxè‡ªå¸¦çš„combineReducersåªæ”¯æŒåŸç”Ÿjså½¢å¼çš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨redux-immutableæä¾›çš„combineReducersæ¥ä»£æ›¿ 1234567891011// ä½¿ç”¨redux-immutableæä¾›çš„combineReducersæ–¹æ³•æ›¿æ¢reduxé‡Œçš„combineReducersimport &#123;combineReducers&#125; from 'redux-immutable'import reducerOne from './reducerOne'import reducerTwo from './reducerTwo' const rootReducer = combineReducers(&#123; reducerOne, reducerTwo&#125;); export default rootReducer; reducerä¸­çš„initialStateä¹Ÿéœ€è¦åˆå§‹åŒ–æˆimmutableç±»å‹, æ¯”å¦‚ä¸€ä¸ªcounterçš„reducer 123456789101112131415161718import &#123; Map &#125; from 'immutable'import ActionTypes from '../actions'const initialState = Map(&#123; count: 0&#125;)export default (state = initialState, action) =&gt; &#123; switch (action.type) &#123; case ActionTypes.INCREAMENT: return state.set('count', state.get('count') + 1) // ä½¿ç”¨setæˆ–setInæ¥æ›´æ”¹å€¼, getæˆ–è€…getInæ¥å–å€¼ case ActionTypes.DECREAMENT: return state.set('count', state.get('count') - 1) default: return state &#125;&#125; stateæˆä¸ºäº†immutableç±»å‹ï¼Œconnectçš„mapStateToPropä¹Ÿéœ€è¦ç›¸åº”çš„æ”¹å˜ 123const mapStateToProps = state =&gt; (&#123; count: state.getIn(['counter', 'count']) // æ°¸è¿œä¸è¦åœ¨mapStateToPropsé‡Œä½¿ç”¨`toJS`æ–¹æ³•ï¼Œå› ä¸ºå®ƒæ°¸è¿œè¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡&#125;) åœ¨shouldComponentUpdateé‡Œå°±å¯ä»¥ä½¿ç”¨immutable.isæˆ–è€…instance.equalsæ¥è¿›è¡Œæ•°æ®çš„å¯¹æ¯”äº†ã€‚]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F08%2F08%2Freact%E9%9D%A2%E8%AF%95%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Reacté¢è¯•é¢˜å¼‚æ­¥å‡ ç§æ–¹å¼ï¼Œå®ç°çš„åŸç† Promiseï¼š å¸¸ç”¨çš„æ–¹æ³•allã€ones ä»–è°ƒç”¨äº†å‡½æ•°resolve()å’Œreject()ã€‚resolve()å‡½æ•°å‘Šè¯‰promiseç”¨æˆ·promiseå·²è§£å†³ï¼›reject()å‡½æ•°å‘Šè¯‰promiseç”¨æˆ·promiseæœªèƒ½é¡ºåˆ©å®Œæˆã€‚ ä¼˜ç‚¹ï¼šå›è°ƒå‡½æ•°å†™æˆäº†é“¾å¼å†™æ³•ï¼Œç¨‹åºçš„æµç¨‹å¯ä»¥çœ‹å¾—å¾ˆæ¸…æ¥š promiseï¼ˆï¼‰ä¸­æœ‰å“ªå‡ ç§çŠ¶æ€ Pending(è¿›è¡Œä¸­) Fulfilled(å·²æˆåŠŸ) Rejected(å·²å¤±è´¥) 1ã€ç­‰å¾…ï¼ˆpendingï¼‰ï¼›2ã€å®Œæˆï¼ˆsettledï¼‰ã€‚ å®ŒæˆçŠ¶æ€åˆ†æˆä¸¤ç±»ï¼š resolve : å°†Promiseå¯¹è±¡çš„çŠ¶æ€ä» Pending(è¿›è¡Œä¸­) å˜ä¸ºFulfilled(å·²æˆåŠŸ) reject : å°†Promiseå¯¹è±¡çš„çŠ¶æ€ä» Pending(è¿›è¡Œä¸­) å˜ä¸º Rejected(å·²å¤±è´¥) async/awaitï¼š asyncå‡½æ•°å°±æ˜¯generatorå‡½æ•°çš„è¯­æ³•ç³–ã€‚ asyncå‡½æ•°ï¼Œå°±æ˜¯å°†generatorå‡½æ•°çš„*æ¢æˆasyncï¼Œå°†yieldæ›¿æ¢æˆawaitã€‚ asyncå‡½æ•°å¯¹generatorçš„æ”¹è¿› å†…ç½®æ‰§è¡Œå™¨ï¼Œä¸éœ€è¦ä½¿ç”¨next()æ‰‹åŠ¨æ‰§è¡Œã€‚ awaitå‘½ä»¤åé¢å¯ä»¥æ˜¯Promiseå¯¹è±¡æˆ–åŸå§‹ç±»å‹çš„å€¼ï¼Œyieldå‘½ä»¤åé¢åªèƒ½æ˜¯Thunkå‡½æ•°æˆ–Promiseå¯¹è±¡ã€‚ è¿”å›å€¼æ˜¯Promiseã€‚è¿”å›éPromiseæ—¶ï¼Œasyncå‡½æ•°ä¼šæŠŠå®ƒåŒ…è£…æˆPromiseè¿”å›ã€‚(Promise.resolve(value)) ä½œç”¨ï¼šå¼‚æ­¥ç¼–ç¨‹çš„ç»ˆæè§£å†³æ–¹æ¡ˆã€‚ é€šä¿—ç†è§£ï¼ˆä¸ªäººç†è§£ï¼‰ async/awaitï¼Œå°±æ˜¯å¼‚æ­¥ç¼–ç¨‹å›è°ƒå‡½æ•°å†™æ³•çš„æ›¿ä»£æ–¹æ³•ã€‚ï¼ˆä½¿ä»£ç ä»¥åŒæ­¥æ–¹å¼çš„å†™æ³•å®Œæˆå¼‚æ­¥æ“ä½œï¼‰ Reactçš„ä¼˜ç‚¹ï¼š å£°æ˜å¼è®¾è®¡ é«˜æ•ˆï¼šæœ‰è™šæ‹ŸDOMçš„æ¦‚å¿µï¼Œæœ€å¤§é™åº¦çš„å‡å°‘ä¸DOMçš„äº¤äº’ã€‚ çµæ´»ï¼šå¯ä»¥ä¸å·²çŸ¥çš„æ¡†æ¶æˆ–åº“å¾ˆå¥½çš„é…åˆã€‚ JSXï¼šæ˜¯jsè¯­æ³•çš„æ‰©å±•ï¼Œä¸ä¸€å®šä½¿ç”¨ï¼Œä½†å»ºè®®ç”¨ã€‚ ç»„ä»¶ï¼šæ„å»ºç»„ä»¶ï¼Œä½¿ä»£ç æ›´å®¹æ˜“å¾—åˆ°å¤ç”¨ï¼Œèƒ½å¤Ÿå¾ˆå¥½åœ°åº”ç”¨åœ¨å¤§é¡¹ç›®çš„å¼€å‘ä¸­ã€‚ å•å‘å“åº”çš„æ•°æ®æµï¼šReactå®ç°äº†å•å‘å“åº”çš„æ•°æ®æµï¼Œä»è€Œå‡å°‘äº†é‡å¤ä»£ç ï¼Œè¿™ä¹Ÿæ˜¯è§£é‡Šäº†å®ƒä¸ºä»€ä¹ˆæ¯”ä¼ ç»Ÿæ•°æ®ç»‘å®šæ›´ç®€å•ã€‚ Reactæ ¸å¿ƒçŠ¶æ€ï¼ˆstateï¼‰ã€å±æ€§ï¼ˆpropsï¼‰ã€ç»„ä»¶APIã€ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ å½“reactçš„çŠ¶æ€æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œthis.render()æ–¹æ³•æ›´æ–°ç»„ä»¶ã€‚ES6å†™Reactçš„æ—¶å€™ï¼Œäº‹ä»¶é‡Œä¸ä¼šè‡ªåŠ¨ç»‘å®šthisï¼Œéœ€è¦è‡ªå·±ç»‘å®šï¼Œæˆ–è€…ç›´æ¥åœ¨constructoré‡Œå†™æ–¹æ³• å±æ€§ï¼š åˆå§‹åŒ–stateï¼š æ”¾åœ¨æ„é€ å‡½æ•°constructoré‡Œ ä¿®æ”¹stateï¼šæ”¾åœ¨renderå‡½æ•°é‡Œ ç”¨setStateï¼ˆï¼‰ Reactæ•°æ®æµï¼š åœ¨Reactä¸­ï¼Œæ•°æ®æ˜¯è‡ªé¡¶å‘ä¸‹å•å‘æµåŠ¨çš„ï¼Œå³ä»çˆ¶ç»„ä»¶åˆ°å­ç»„ä»¶ã€‚è¿™æ¡åŸåˆ™è®©ç»„ä»¶ä¹‹é—´çš„å…³ç³»å˜å¾—ç®€å•ä¸”å¯é¢„æµ‹ã€‚ stateä¸propsæ˜¯Reactç»„ä»¶ä¸­æœ€é‡è¦çš„æ¦‚å¿µï¼Œå¦‚æœé¡¶å±‚ç»„ä»¶åˆå§‹åŒ–propsï¼Œé‚£ä¹ˆReactä¼šå‘ä¸‹éå†æ•´æ£µç»„ä»¶æ ‘ï¼Œé‡æ–°å°è¯•æ¸²æŸ“æ‰€æœ‰ç›¸å…³çš„å­ç»„ä»¶ã€‚è€Œstateåªå…³å¿ƒæ¯ä¸ªç»„ä»¶è‡ªå·±å†…éƒ¨çš„çŠ¶æ€ï¼Œè¿™äº›çŠ¶æ€åªèƒ½åœ¨ç»„ä»¶å†…æ”¹å˜ã€‚æŠŠç»„ä»¶çœ‹æˆä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå®ƒæ¥å—äº†propsä½œä¸ºå‚æ•°ï¼Œå†…éƒ¨ç”±stateä½œä¸ºå‡½æ•°çš„å†…éƒ¨å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªvirtual DOMå®ç°ã€‚ å…¶ä¸­reactæœ‰ä¸‰ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼šstateã€propsä¸contextã€‚stateå…¶å®åº”è¯¥è¢«ç§°ä¸ºå†…éƒ¨çŠ¶æ€æˆ–æ˜¯å±€éƒ¨çŠ¶æ€ã€‚â€œå†…éƒ¨â€è¡¨ç¤ºå®ƒå¾ˆå°‘â€è·‘å‡ºâ€ç»„ä»¶ï¼ŒçŠ¶æ€æ„å‘³ç€å®ƒç»å¸¸å‘ç”Ÿæ”¹å˜ã€‚Propsä¸contextç”¨äºåœ¨ç»„ä»¶ä¸­ä¼ é€’æ•°æ®ï¼Œpropsä»…ä»…æ”¯æŒé€å±‚ä¼ é€’æ•°æ®ï¼Œä½†æ˜¯contextåˆ™æ”¯æŒè·¨çº§ä¼ é€’ã€‚Stateã€propsä¸contextéƒ½æ˜¯reactä¸­çš„æ•°æ®è½½ä½“ï¼Œä»–ä»¬éƒ½æ˜¯å„å¸å…¶èŒï¼Œè®©æ•°æ®åœ¨ç»„ä»¶ä¸­ä¼˜é›…çš„å˜åŒ–å’ŒæµåŠ¨ã€‚ stateï¼š åœ¨ä½¿ç”¨Reactä¹‹å‰ï¼Œå¸¸è§çš„MVCæ¡†æ¶ä¹Ÿéå¸¸å®¹æ˜“å®ç°äº¤äº’ç•Œé¢çš„çŠ¶æ€ç®¡ç†ã€‚åœ¨MVCæ¡†æ¶å°†Viewä¸­ä¸ç•Œé¢äº¤äº’çš„çŠ¶æ€è§£è€¦ï¼Œä¸€èˆ¬å°†çŠ¶æ€æ”¾åœ¨Modelä¸­ç®¡ç†ã€‚ä½†æ˜¯Reactæ²¡æœ‰ç»“åˆFluxæˆ–æ˜¯Reduxæ¡†æ¶å‰ï¼ŒReactä¹ŸåŒæ ·å¯ä»¥ç®¡ç†ç»„ä»¶çš„å†…éƒ¨çŠ¶æ€ã€‚åœ¨Reactä¸­ï¼ŒæŠŠè¿™ç±»çŠ¶æ€ç»Ÿä¸€ç§°ä¸ºstateã€‚ å½“ç»„ä»¶å†…éƒ¨ä½¿ç”¨åº“å†…ç½®çš„setStateæ–¹æ³•æ—¶ï¼Œæœ€å¤§çš„è¡¨ç°è¡Œä¸ºå°±æ˜¯è¯¥ç»„ä»¶ä¼šå°è¯•é‡æ–°æ¸²æŸ“ã€‚è¿™å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºæˆ‘ä»¬æ”¹å˜äº†å†…éƒ¨çš„çŠ¶æ€ï¼Œç»„ä»¶éœ€è¦æ›´æ–°äº†ã€‚ åœ¨Reactä¸­å¸¸å¸¸åœ¨äº‹ä»¶å¤„ç†æ–¹æ³•ä¸­æ›´æ–°stateï¼Œä¸Šé¢çš„ä¾‹å­ä¸­å°±æ˜¯é€šè¿‡ç‚¹å‡»â€œæ›´æ–°â€æŒ‰é’®ä¸æ–­åœ°æ›´æ–°å†…éƒ¨coutçš„å€¼ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠç»„ä»¶å†…çŠ¶æ€å°è£…åœ¨å®ç°ä¸­ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒsetStateæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„æ–¹æ³•ï¼Œä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå†…æ‰€æœ‰çš„setStateæ–¹æ³•ä¼šåˆå¹¶æ“ä½œï¼Œæœ‰äº†è¿™ä¸ªç‰¹æ€§ï¼Œè®©Reactå˜å¾—å……æ»¡æƒ³è±¡åŠ›ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥åªç”¨Reactæ¥å®Œæˆè¡Œä¸ºæ§åˆ¶ã€æ•°æ®çš„æ›´æ–°å’Œç•Œé¢çš„æ¸²æŸ“ã€‚ç„¶è€Œï¼Œéšç€å†…å®¹çš„æ·±å…¥ï¼Œæˆ‘ä»¬å‘ç°å®˜æ–¹å¹¶ä¸æ¨èå¼€å‘è€…æ»¥ç”¨stateã€‚å› ä¸ºè¿‡å¤šçš„å†…éƒ¨çŠ¶æ€ä¼šè®©æ•°æ®æµæ··ä¹±ï¼Œæ•°æ®å˜å¾—éš¾ä»¥ç»´æŠ¤ã€‚ æˆ‘ä»¬å†çœ‹ä¸€ä¸‹Tabsç»„ä»¶çš„stateï¼Œæˆ‘ä»¬äº†è§£åˆ°åº”è¯¥æœ‰ä¸¤ä¸ªå†…éƒ¨çŠ¶æ€â€“ activeIndexå’ŒpreIndexï¼Œè¿™ä¸¤ä¸ªçŠ¶æ€åˆ†åˆ«è¡¨ç¤ºå½“å‰é€‰ä¸­tabçš„ç´¢å¼•å’Œå‰ä¸€æ¬¡é€‰ä¸­çš„tabçš„ç´¢å¼•ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“å‰é€‰ä¸­çš„ç´¢å¼•ä¹Ÿæ˜¯ç»„ä»¶æœ¬èº«éœ€è¦çš„å‚æ•°ä¹‹ä¸€ã€‚ æˆ‘ä»¬é’ˆå¯¹activeIndexåšä¸ºstateï¼Œå°±æœ‰ä¸¤ç§ä¸åŒçš„è§†è§’ï¼š activeIndexåœ¨å†…éƒ¨æ›´æ–°ï¼šå½“æˆ‘ä»¬åˆ‡æ¢tabæ ‡ç­¾æ—¶ï¼Œå¯ä»¥çœ‹åšæ˜¯ç»„ä»¶å†…éƒ¨çš„äº¤äº’è¡Œä¸ºï¼Œè¢«é€‰æ‹©åé€šè¿‡å›è°ƒå‡½æ•°è¿”å›å…·ä½“é€‰æ‹©çš„ç´¢å¼•ã€‚ activeIndex åœ¨å¤–éƒ¨æ›´æ–°ï¼šå½“æˆ‘ä»¬åˆ‡æ¢tabæ ‡ç­¾æ—¶ï¼Œå¯ä»¥çœ‹åšæ˜¯ç»„ä»¶å¤–éƒ¨åœ¨ä¼ å…¥å…·ä½“çš„ç´¢å¼•ï¼Œè€Œç»„ä»¶å°±åƒâ€˜æœ¨å¶â€™ä¸€æ ·è¢«æ“ä½œã€‚ è¿™ä¸¤ç§æƒ…å†µåœ¨Reactç»„ä»¶çš„è®¾è®¡éå¸¸çš„å¸¸è§ï¼Œæˆ‘ä»¬å½¢è±¡çš„æŠŠç¬¬ä¸€ç§å’Œç¬¬äºŒç§è§†è§’å†™æˆçš„ç»„ä»¶åˆ†åˆ«ç§°ä¸ºæ™ºèƒ½ç»„ä»¶(smart component)å’Œæœ¨å¶ç»„ä»¶(dumb component) props propsæ˜¯Reactä¸­çš„å¦å¤–çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚propsæ˜¯Reactç”¨æ¥è®©ç»„ä»¶ä¹‹é—´äº’ç›¸è”ç³»çš„ä¸€ç§æœºåˆ¶ï¼Œé€šä¿—çš„è¯´å°±åƒæ–¹æ³•ä¼ å…¥å‚æ•°ä¸€æ ·ã€‚ propsçš„ä¼ ç»Ÿè¿‡ç¨‹ï¼Œå¯¹äºReactç»„ä»¶æ¥è¯´æ˜¯éå¸¸ç›´è§‚çš„ã€‚Reactçš„å•å‘æ•°æ®æµï¼Œä¸»è¦çš„æµåŠ¨ç®¡é“å°±æ˜¯propsã€‚propsæœ¬èº«æ˜¯ä¸å¯å˜çš„ï¼Œå½“æˆ‘ä»¬è¯•å›¾æ”¹å˜propsçš„åŸå§‹å€¼çš„æ—¶å€™ï¼ŒReactä¼šæŠ¥å‡ºç±»å‹é”™è¯¯çš„è­¦å‘Šï¼Œç»„ä»¶çš„propsä¸€å®šæ¥è‡ªäº é»˜è®¤å±æ€§æˆ–é€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’è€Œæ¥ã€‚å¦‚æœè¯´è¦æ¸²æŸ“ä¸€ä¸ªå¯¹propsåŠ å·¥åçš„å€¼ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨å±€éƒ¨å˜é‡æˆ–ç›´æ¥åœ¨JSXä¸­è®¡ç®—ç»“æœã€‚ æˆ‘ä»¬ä¹‹å‰äº†è§£åˆ°Tabsç»„ä»¶çš„æ•°æ®éƒ½æ˜¯é€šè¿‡data propä¼ å…¥çš„ï¼Œä¹Ÿå°±æ˜¯ã€‚é‚£ä¹ˆTabsç»„ä»¶çš„propsè¿˜ä¼šæœ‰å“ªäº›ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸‹é¢çš„å‡ é¡¹ï¼š className:æ ¹èŠ‚ç‚¹çš„classï¼Œä¸ºäº†æ–¹ä¾¿è¦†ç›–å…¶åŸå§‹æ ·å¼ï¼Œæˆ‘ä»¬éƒ½ä¼šåœ¨æ ¹èŠ‚ç‚¹ä¸Šå®šä¹‰classã€‚ classPrefixï¼šclasså‰ç¼€ï¼Œå¯¹äºç»„ä»¶æ¥è¯´ï¼Œå®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„classå‰ç¼€ï¼Œå¯¹æ ·å¼ä¸äº¤äº’åˆ†ç¦»èµ·äº†å¾ˆé‡è¦çš„ä½œç”¨ã€‚ defaultActiveIndexå’ŒactiveIndexï¼šé»˜è®¤çš„æ¿€æ´»ç´¢å¼• onChangeï¼šå›è°ƒå‡½æ•°ï¼Œå½“æˆ‘ä»¬åˆ‡æ¢tabçš„æ—¶å€™ï¼Œå¤–ç»„ä»¶éœ€è¦çŸ¥é“ç»„ä»¶çš„å†…éƒ¨ä¿¡æ¯ï¼Œå°¤å…¶æ˜¯å½“å‰tabçš„ç´¢å¼•å·çš„ä¿¡æ¯ï¼ŒonChangeä¸€èˆ¬ä¸activeIndexæ­é…ä½¿ç”¨ã€‚ Reactä¸ºpropsåŒæ ·æä¾›äº†é»˜è®¤é…ç½®ï¼Œé€šè¿‡defaultPropé™æ€å˜é‡çš„æ–¹å¼æ¥å®šä¹‰ã€‚å½“ç»„ä»¶è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œé»˜è®¤å€¼ä¿è¯æ¸²æŸ“åå§‹ç»ˆæœ‰å€¼ã€‚åœ¨renderæ–¹æ³•ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨propsçš„å€¼æ¥æ¸²æŸ“ è™šæ‹ŸDOMè™šæ‹ŸDOMå°±æ˜¯å°†DOMæ ‘è½¬æ¢æˆä¸€ä¸ªJSå¯¹è±¡æ ‘ã€‚ Reactå°†DOMæŠ½è±¡ä¸ºè™šæ‹ŸDOMï¼Œè™šæ‹ŸDOMå…¶å®å°±æ˜¯ç”¨ä¸€ä¸ªjså¯¹è±¡æ¥æè¿°DOMï¼Œé€šè¿‡å¯¹æ¯”å‰åä¸¤ä¸ªå¯¹è±¡çš„å·®å¼‚ï¼Œæœ€ç»ˆåªæŠŠå˜åŒ–çš„éƒ¨åˆ†é‡æ–°æ¸²æŸ“ï¼Œæé«˜æ¸²æŸ“çš„æ•ˆç‡ã€‚ vdom render + diff æ˜¾ç„¶æ¯”åŸç”ŸDOMæ¸²æŸ“ html å­—ç¬¦ä¸²è¦æ…¢ï¼Œä½†æ˜¯ï¼Œå®ƒä¾ç„¶æ˜¯çº¯ js å±‚é¢çš„è®¡ç®—ï¼Œæ¯”èµ·åé¢çš„ DOM æ“ä½œæ¥è¯´ï¼Œä¾ç„¶ä¾¿å®œäº†å¤ªå¤šã€‚ä¾æ¬¡æ¥çœ‹ï¼Œå°±å¯ä»¥çœ‹å‡ºvdomå¾ˆå¥½çš„æé«˜äº†æ¸²æŸ“æ•ˆç‡ ä¼˜ç‚¹ï¼š æœ€ç»ˆè¡¨ç°åœ¨DOMä¸Šçš„ä¿®æ”¹åªæ˜¯å˜æ›´çš„éƒ¨åˆ†ï¼Œå¯ä»¥ä¿è¯éå¸¸é«˜æ•ˆçš„æ¸²æŸ“ æå‡äº†æ€§èƒ½ï¼ˆJavaScriptå¯¹è±¡æ¯”DOMå¯¹è±¡æ€§èƒ½é«˜ï¼‰ï¼ŒæŠ½è±¡äº†DOMçš„å…·ä½“å®ç° ç¼ºç‚¹ï¼šé¦–æ¬¡æ¸²æŸ“å¤§é‡DOMæ—¶ï¼Œç”±äºå¤šäº†ä¸€å±‚è™šæ‹ŸDOMçš„è®¡ç®—ï¼Œä¼šæ¯”innerHTMLæ’å…¥æ…¢ã€‚ æ“ä½œçœŸå®domçš„å¼Šç«¯ï¼Œä¸ºä»€ä¹ˆä¼šå½±å“æ€§èƒ½ï¼šæ“ä½œDOMç»“æ„æ˜¯éå¸¸æ˜‚è´µçš„ï¼Œå®ƒæ”¹åŠ¨åï¼Œæ•´ä¸ªå®¹å™¨ä¸­çš„å†…å®¹ä¸­çš„å†…å®¹éƒ½è¦é‡æ–°æ¸²æŸ“ä¸€é ä¸ºä»€ä¹ˆç”¨è™šæ‹Ÿdomï¼šå½“domåç”Ÿæ›´æ”¹æ—¶éœ€è¦éå† è€ŒåŸç”Ÿdomå¯éå†å±æ€§å¤šå¤§231ä¸ª ä¸”å¤§éƒ¨åˆ†ä¸æ¸²æŸ“æ— å…³ æ›´æ–°é¡µé¢ä»£ä»·å¤ªå¤§ Diffç®—æ³•ï¼šå½“ä½ ä½¿ç”¨Reactçš„æ—¶å€™ï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹ render() å‡½æ•°åˆ›å»ºäº†ä¸€æ£µReactå…ƒç´ æ ‘ï¼Œåœ¨ä¸‹ä¸€ä¸ªstateæˆ–è€…propsæ›´æ–°çš„æ—¶å€™ï¼Œrender() å‡½æ•°å°†åˆ›å»ºä¸€æ£µæ–°çš„Reactå…ƒç´ æ ‘ï¼ŒReactå°†å¯¹æ¯”è¿™ä¸¤æ£µæ ‘çš„ä¸åŒä¹‹å¤„ï¼Œè®¡ç®—å‡ºå¦‚ä½•é«˜æ•ˆçš„æ›´æ–°UIï¼ˆåªæ›´æ–°å˜åŒ–çš„åœ°æ–¹ï¼‰ Keyå±æ€§ï¼šä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒReactæä¾›äº†ä¸€ä¸ª key å±æ€§ã€‚å½“å­èŠ‚ç‚¹å¸¦æœ‰keyå±æ€§ï¼ŒReactä¼šé€šè¿‡keyæ¥åŒ¹é…åŸå§‹æ ‘å’Œåæ¥çš„æ ‘ã€‚ åˆ›å»ºè™šæ‹Ÿdomï¼šcreateElement()æ–¹å¼ React ä¸­ keys çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ Keys æ˜¯ React ç”¨äºè¿½è¸ªå“ªäº›åˆ—è¡¨ä¸­å…ƒç´ è¢«ä¿®æ”¹ã€è¢«æ·»åŠ æˆ–è€…è¢«ç§»é™¤çš„è¾…åŠ©æ ‡è¯†ã€‚ åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯æŸä¸ªå…ƒç´ çš„ key åœ¨å…¶åŒçº§å…ƒç´ ä¸­å…·æœ‰å”¯ä¸€æ€§ã€‚åœ¨ React Diff ç®—æ³•ä¸­ React ä¼šå€ŸåŠ©å…ƒç´ çš„ Key å€¼æ¥åˆ¤æ–­è¯¥å…ƒç´ æ˜¯æ–°è¿‘åˆ›å»ºçš„è¿˜æ˜¯è¢«ç§»åŠ¨è€Œæ¥çš„å…ƒç´ ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„å…ƒç´ é‡æ¸²æŸ“ã€‚æ­¤å¤–ï¼ŒReact è¿˜éœ€è¦å€ŸåŠ© Key å€¼æ¥åˆ¤æ–­å…ƒç´ ä¸æœ¬åœ°çŠ¶æ€çš„å…³è”å…³ç³»ï¼Œå› æ­¤æˆ‘ä»¬ç»ä¸å¯å¿½è§†è½¬æ¢å‡½æ•°ä¸­ Key çš„é‡è¦æ€§ã€‚ è°ƒç”¨ setState ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ åœ¨ä»£ç ä¸­è°ƒç”¨ setState å‡½æ•°ä¹‹åï¼ŒReact ä¼šå°†ä¼ å…¥çš„å‚æ•°å¯¹è±¡ä¸ç»„ä»¶å½“å‰çš„çŠ¶æ€åˆå¹¶ï¼Œç„¶åè§¦å‘æ‰€è°“çš„è°ƒå’Œè¿‡ç¨‹ï¼ˆReconciliationï¼‰ã€‚ç»è¿‡è°ƒå’Œè¿‡ç¨‹ï¼ŒReact ä¼šä»¥ç›¸å¯¹é«˜æ•ˆçš„æ–¹å¼æ ¹æ®æ–°çš„çŠ¶æ€æ„å»º React å…ƒç´ æ ‘å¹¶ä¸”ç€æ‰‹é‡æ–°æ¸²æŸ“æ•´ä¸ª UI ç•Œé¢ã€‚åœ¨ React å¾—åˆ°å…ƒç´ æ ‘ä¹‹åï¼ŒReact ä¼šè‡ªåŠ¨è®¡ç®—å‡ºæ–°çš„æ ‘ä¸è€æ ‘çš„èŠ‚ç‚¹å·®å¼‚ï¼Œç„¶åæ ¹æ®å·®å¼‚å¯¹ç•Œé¢è¿›è¡Œæœ€å°åŒ–é‡æ¸²æŸ“ã€‚åœ¨å·®å¼‚è®¡ç®—ç®—æ³•ä¸­ï¼ŒReact èƒ½å¤Ÿç›¸å¯¹ç²¾ç¡®åœ°çŸ¥é“å“ªäº›ä½ç½®å‘ç”Ÿäº†æ”¹å˜ä»¥åŠåº”è¯¥å¦‚ä½•æ”¹å˜ï¼Œè¿™å°±ä¿è¯äº†æŒ‰éœ€æ›´æ–°ï¼Œè€Œä¸æ˜¯å…¨éƒ¨é‡æ–°æ¸²æŸ“ã€‚ react diff åŸç† æŠŠæ ‘å½¢ç»“æ„æŒ‰ç…§å±‚çº§åˆ†è§£ï¼Œåªæ¯”è¾ƒåŒçº§å…ƒç´  ç»™åˆ—è¡¨ç»“æ„çš„æ¯ä¸ªå•å…ƒæ·»åŠ å”¯ä¸€çš„ key å±æ€§ï¼Œæ–¹ä¾¿æ¯”è¾ƒ React åªä¼šåŒ¹é…ç›¸åŒ class çš„ componentï¼ˆè¿™é‡Œé¢çš„ class æŒ‡çš„æ˜¯ç»„ä»¶çš„åå­—ï¼‰ åˆå¹¶æ“ä½œï¼Œè°ƒç”¨ component çš„ setState æ–¹æ³•çš„æ—¶å€™, React å°†å…¶æ ‡è®°ä¸º dirty.åˆ°æ¯ä¸€ä¸ªäº‹ä»¶å¾ªç¯ç»“æŸ, React æ£€æŸ¥æ‰€æœ‰æ ‡è®° dirty çš„ component é‡æ–°ç»˜åˆ¶. é€‰æ‹©æ€§å­æ ‘æ¸²æŸ“ã€‚å¼€å‘äººå‘˜å¯ä»¥é‡å†™ shouldComponentUpdate æé«˜ diff çš„æ€§èƒ½ React ä¸­ refs çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ Refs æ˜¯ React æä¾›ç»™æˆ‘ä»¬çš„å®‰å…¨è®¿é—® DOM å…ƒç´ æˆ–è€…æŸä¸ªç»„ä»¶å®ä¾‹çš„å¥æŸ„ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºå…ƒç´ æ·»åŠ  ref å±æ€§ç„¶ååœ¨å›è°ƒå‡½æ•°ä¸­æ¥å—è¯¥å…ƒç´ åœ¨ DOM æ ‘ä¸­çš„å¥æŸ„ï¼Œè¯¥å€¼ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°è¿”å›ï¼š 1&lt;input type='text' ref=&#123;(input) =&gt; inputElement = input&#125; /&gt; Jsxè¯­æ³•å®‰è£…ï¼šnpm i -D babel-preset-react JSXçš„æ³¨æ„ç‚¹ï¼š å¦‚æœåœ¨ JSX ä¸­ç»™å…ƒç´ æ·»åŠ ç±», éœ€è¦ä½¿ç”¨ className ä»£æ›¿ class label çš„ forå±æ€§ï¼Œä½¿ç”¨htmlForä»£æ›¿ åœ¨ JSX ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ JSä»£ç ï¼Œç›´æ¥åœ¨ JSX ä¸­é€šè¿‡ {} ä¸­é—´å†™ JSä»£ç å³å¯ åœ¨ JSX ä¸­åªèƒ½ä½¿ç”¨è¡¨è¾¾å¼ï¼Œä½†æ˜¯ä¸èƒ½å‡ºç° è¯­å¥ï¼ï¼ï¼ åœ¨ JSX ä¸­æ³¨é‡Šè¯­æ³•ï¼š{/* ä¸­é—´æ˜¯æ³¨é‡Šçš„å†…å®¹ */} jsxè¯­æ³•ä¸­åªèƒ½æœ‰ä¸€ä¸ªé¡¶çº§æ ‡ç­¾ï¼ˆå…ƒç´ ï¼‰ JSXä¸­æ‰€æœ‰çš„æ ‡ç­¾éƒ½å¿…é¡»æœ‰é—­æ ‡ç­¾ ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œé¦–å­—æ¯å¿…é¡»å¤§å†™ åœ¨JSXä¸­æˆ‘ä»¬é€šå¸¸æ˜¯é€šè¿‡ {} çš„æ–¹å¼æ’å…¥å€¼ï¼Œä½†æ˜¯è®¾ç½®styleå±æ€§éœ€è¦ {{ }} å¹¶ä¸”é‡åˆ°-åˆ†å‰²çš„å±æ€§æ—¶ï¼Œä½¿ç”¨å°é©¼å³°çš„å†™æ³•ï¼Œå¦‚ï¼štext-align äº‹ä»¶å¿…é¡»ä¿®æ­£thisæŒ‡é’ˆï¼Œä¸”ç»‘å®šäº‹ä»¶åæ—¶è¦ä½¿ç”¨å°é©¼å³°çš„å†™æ³• Reactç»„ä»¶React ç»„ä»¶å¯ä»¥è®©ä½ æŠŠUIåˆ†å‰²ä¸ºç‹¬ç«‹ã€å¯å¤ç”¨çš„ç‰‡æ®µï¼Œå¹¶å°†æ¯ä¸€ç‰‡æ®µè§†ä¸ºç›¸äº’ç‹¬ç«‹çš„éƒ¨åˆ† ç»„ä»¶æ˜¯ç”±ä¸€ä¸ªä¸ªçš„HTMLå…ƒç´ ç»„æˆçš„ æ¦‚å¿µä¸Šæ¥è®², ç»„ä»¶å°±åƒJSä¸­çš„å‡½æ•°ã€‚å®ƒä»¬æ¥å—ç”¨æˆ·è¾“å…¥ï¼ˆpropsï¼‰ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªReactå¯¹è±¡ï¼Œç”¨æ¥æè¿°å±•ç¤ºåœ¨é¡µé¢ä¸­çš„å†…å®¹ Reactåˆ›å»ºç»„ä»¶çš„ä¸¤ç§æ–¹å¼ é€šè¿‡ JSå‡½æ•° åˆ›å»ºï¼ˆæ— çŠ¶æ€ç»„ä»¶ï¼‰ é€šè¿‡ class åˆ›å»ºï¼ˆæœ‰çŠ¶æ€ç»„ä»¶ï¼‰ å‡½æ•°å¼ç»„ä»¶ å’Œ class ç»„ä»¶çš„ä½¿ç”¨åœºæ™¯è¯´æ˜ å¦‚æœä¸€ä¸ªç»„ä»¶ä»…ä»…æ˜¯ä¸ºäº†å±•ç¤ºæ•°æ®ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨ å‡½æ•°ç»„ä»¶ å¦‚æœä¸€ä¸ªç»„ä»¶ä¸­æœ‰ä¸€å®šä¸šåŠ¡é€»è¾‘ï¼Œéœ€è¦æ“ä½œæ•°æ®ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ class åˆ›å»ºç»„ä»¶ï¼Œå› ä¸ºï¼Œæ­¤æ—¶éœ€è¦ä½¿ç”¨ state JavaScriptå‡½æ•°åˆ›å»º å‡½æ•°åç§°å¿…é¡»ä¸ºå¤§å†™å­—æ¯å¼€å¤´ï¼ŒReacté€šè¿‡è¿™ä¸ªç‰¹ç‚¹æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªç»„ä»¶ å‡½æ•°å¿…é¡»æœ‰è¿”å›å€¼ï¼Œè¿”å›å€¼å¯ä»¥æ˜¯ï¼šJSXå¯¹è±¡æˆ–null è¿”å›çš„JSXï¼Œå¿…é¡»æœ‰ä¸€ä¸ªæ ¹å…ƒç´  ç»„ä»¶çš„è¿”å›å€¼ä½¿ç”¨()åŒ…è£¹ï¼Œé¿å…æ¢è¡Œé—®é¢˜ Reactç»„ä»¶API setState è®¾ç½®çŠ¶æ€ replaceState æ›¿æ¢çŠ¶æ€ setProps è®¾ç½®å±æ€§ replaceProps æ›¿æ¢å±æ€§ forceUpdate å¼ºåˆ¶æ›´æ–° findDOMNode è·å–DOMèŠ‚ç‚¹,æŸ¥æ‰¾çœŸå®DOM React.findDOMNode()åªåœ¨mountedç»„ä»¶ä¸­è°ƒç”¨ï¼Œå¦‚æœåœ¨ç»„ä»¶çš„render()æ–¹æ³•ä¸­è°ƒç”¨React.findDOMNode()å°±ä¼šæŠ›å‡ºå¼‚å¸¸ Propså’Œstateçš„åŒºåˆ«ï¼š ä¸€ä¸ªç»„ä»¶çš„æ˜¾ç¤ºå½¢æ€å¯ä»¥ç”±æ•°æ®çŠ¶æ€å’Œå¤–éƒ¨å‚æ•°æ‰€å†³å®šï¼Œå¤–éƒ¨å‚æ•°ä¹Ÿå°±æ˜¯propsï¼Œè€Œæ•°æ®çŠ¶æ€å°±æ˜¯stateã€‚ propsç»å¸¸è¢«ç”¨ä½œæ¸²æŸ“ç»„ä»¶å’Œåˆå§‹åŒ–çŠ¶æ€ï¼Œå½“ä¸€ä¸ªç»„ä»¶è¢«å®ä¾‹åŒ–ä¹‹åï¼Œå®ƒçš„propsæ˜¯åªè¯»çš„ï¼Œä¸å¯æ”¹å˜çš„ã€‚å¦‚æœpropsåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­å¯ä»¥è¢«æ”¹å˜ï¼Œä¼šå¯¼è‡´è¿™ä¸ªç»„ä»¶æ˜¾ç¤ºçš„å½¢æ€å˜å¾—ä¸å¯é¢„æµ‹ã€‚åªæœ‰é€šè¿‡çˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“çš„æ–¹å¼æ‰å¯ä»¥æŠŠæ–°çš„propsä¼ å…¥ç»„ä»¶ä¸­ã€‚ propsæ˜¯ä¸€ä¸ªä»å¤–éƒ¨ä¼ è¿›ç»„ä»¶çš„å‚æ•°ï¼Œä¸»è¦ä½œä¸ºå°±æ˜¯ä»çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå®ƒå…·æœ‰å¯è¯»æ€§å’Œä¸å˜æ€§ï¼Œåªèƒ½é€šè¿‡å¤–éƒ¨ç»„ä»¶ä¸»åŠ¨ä¼ å…¥æ–°çš„propsæ¥é‡æ–°æ¸²æŸ“å­ç»„ä»¶ï¼Œå¦åˆ™å­ç»„ä»¶çš„propsä»¥åŠå±•ç°å½¢å¼ä¸ä¼šæ”¹å˜ã€‚ stateä¸åŒäºpropsçš„ä¸€ç‚¹æ˜¯ï¼Œstateæ˜¯å¯ä»¥è¢«æ”¹å˜çš„ã€‚ä¸è¿‡ï¼Œä¸å¯ä»¥ç›´æ¥é€šè¿‡this.state=çš„æ–¹å¼æ¥ä¿®æ”¹ï¼Œè€Œéœ€è¦é€šè¿‡this.setState()æ–¹æ³•æ¥ä¿®æ”¹stateã€‚ å±•ç¤ºç»„ä»¶(Presentational component)å’Œå®¹å™¨ç»„ä»¶(Container component)ä¹‹é—´æœ‰ä½•ä¸åŒ å±•ç¤ºç»„ä»¶å…³å¿ƒç»„ä»¶çœ‹èµ·æ¥æ˜¯ä»€ä¹ˆã€‚å±•ç¤ºä¸“é—¨é€šè¿‡ props æ¥å—æ•°æ®å’Œå›è°ƒï¼Œå¹¶ä¸”å‡ ä¹ä¸ä¼šæœ‰è‡ªèº«çš„çŠ¶æ€ï¼Œä½†å½“å±•ç¤ºç»„ä»¶æ‹¥æœ‰è‡ªèº«çš„çŠ¶æ€æ—¶ï¼Œé€šå¸¸ä¹Ÿåªå…³å¿ƒ UI çŠ¶æ€è€Œä¸æ˜¯æ•°æ®çš„çŠ¶æ€ã€‚ å®¹å™¨ç»„ä»¶åˆ™æ›´å…³å¿ƒç»„ä»¶æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚å®¹å™¨ç»„ä»¶ä¼šä¸ºå±•ç¤ºç»„ä»¶æˆ–è€…å…¶å®ƒå®¹å™¨ç»„ä»¶æä¾›æ•°æ®å’Œè¡Œä¸º(behavior)ï¼Œå®ƒä»¬ä¼šè°ƒç”¨ Flux actionsï¼Œå¹¶å°†å…¶ä½œä¸ºå›è°ƒæä¾›ç»™å±•ç¤ºç»„ä»¶ã€‚å®¹å™¨ç»„ä»¶ç»å¸¸æ˜¯æœ‰çŠ¶æ€çš„ï¼Œå› ä¸ºå®ƒä»¬æ˜¯(å…¶å®ƒç»„ä»¶çš„)æ•°æ®æºã€‚ ç±»ç»„ä»¶(Class component)å’Œå‡½æ•°å¼ç»„ä»¶(Functional component)ä¹‹é—´æœ‰ä½•ä¸åŒ ç±»ç»„ä»¶ä¸ä»…å…è®¸ä½ ä½¿ç”¨æ›´å¤šé¢å¤–çš„åŠŸèƒ½ï¼Œå¦‚ç»„ä»¶è‡ªèº«çš„çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œä¹Ÿèƒ½ä½¿ç»„ä»¶ç›´æ¥è®¿é—® store å¹¶ç»´æŒçŠ¶æ€ å½“ç»„ä»¶ä»…æ˜¯æ¥æ”¶ propsï¼Œå¹¶å°†ç»„ä»¶è‡ªèº«æ¸²æŸ“åˆ°é¡µé¢æ—¶ï¼Œè¯¥ç»„ä»¶å°±æ˜¯ä¸€ä¸ª â€˜æ— çŠ¶æ€ç»„ä»¶(stateless component)â€™ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªçº¯å‡½æ•°æ¥åˆ›å»ºè¿™æ ·çš„ç»„ä»¶ã€‚è¿™ç§ç»„ä»¶ä¹Ÿè¢«ç§°ä¸ºå“‘ç»„ä»¶(dumb components)æˆ–å±•ç¤ºç»„ä»¶ ä½•ä¸ºå—æ§ç»„ä»¶(controlled component) åœ¨ HTML ä¸­ï¼Œç±»ä¼¼ &lt;input&gt;, &lt;textarea&gt; å’Œ &lt;select&gt;è¿™æ ·çš„è¡¨å•å…ƒç´ ä¼šç»´æŠ¤è‡ªèº«çš„çŠ¶æ€ï¼Œå¹¶åŸºäºç”¨æˆ·çš„è¾“å…¥æ¥æ›´æ–°ã€‚å½“ç”¨æˆ·æäº¤è¡¨å•æ—¶ï¼Œå‰é¢æåˆ°çš„å…ƒç´ çš„å€¼å°†éšè¡¨å•ä¸€èµ·è¢«å‘é€ã€‚ä½†åœ¨ React ä¸­ä¼šæœ‰äº›ä¸åŒï¼ŒåŒ…å«è¡¨å•å…ƒç´ çš„ç»„ä»¶å°†ä¼šåœ¨ state ä¸­è¿½è¸ªè¾“å…¥çš„å€¼ï¼Œå¹¶ä¸”æ¯æ¬¡è°ƒç”¨å›è°ƒå‡½æ•°æ—¶ï¼Œå¦‚ onChange ä¼šæ›´æ–° stateï¼Œé‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚ä¸€ä¸ªè¾“å…¥è¡¨å•å…ƒç´ ï¼Œå®ƒçš„å€¼é€šè¿‡ React çš„è¿™ç§æ–¹å¼æ¥æ§åˆ¶ï¼Œè¿™æ ·çš„å…ƒç´ å°±è¢«ç§°ä¸ºâ€å—æ§å…ƒç´ â€ã€‚ ä½•ä¸ºé«˜é˜¶ç»„ä»¶(higher order component) é«˜é˜¶ç»„ä»¶æ˜¯ä¸€ä¸ªä»¥ç»„ä»¶ä¸ºå‚æ•°å¹¶è¿”å›ä¸€ä¸ªæ–°ç»„ä»¶çš„å‡½æ•°ã€‚HOC è¿è¡Œä½ é‡ç”¨ä»£ç ã€é€»è¾‘å’Œå¼•å¯¼æŠ½è±¡ã€‚æœ€å¸¸è§çš„å¯èƒ½æ˜¯ Redux çš„ connect å‡½æ•°ã€‚é™¤äº†ç®€å•åˆ†äº«å·¥å…·åº“å’Œç®€å•çš„ç»„åˆï¼ŒHOC æœ€å¥½çš„æ–¹å¼æ˜¯å…±äº« React ç»„ä»¶ä¹‹é—´çš„è¡Œä¸ºã€‚å¦‚æœä½ å‘ç°ä½ åœ¨ä¸åŒçš„åœ°æ–¹å†™äº†å¤§é‡ä»£ç æ¥åšåŒä¸€ä»¶äº‹æ—¶ï¼Œå°±åº”è¯¥è€ƒè™‘å°†ä»£ç é‡æ„ä¸ºå¯é‡ç”¨çš„ HOCã€‚ ä¸ºä»€ä¹ˆå»ºè®®ä¼ é€’ç»™ setState çš„å‚æ•°æ˜¯ä¸€ä¸ª callback è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ å› ä¸º this.props å’Œ this.state çš„æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä¸èƒ½ä¾èµ–å®ƒä»¬çš„å€¼å»è®¡ç®—ä¸‹ä¸€ä¸ª stateã€‚ é™¤äº†åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®š thisï¼Œè¿˜æœ‰å…¶å®ƒæ–¹å¼å— ä½ å¯ä»¥ä½¿ç”¨å±æ€§åˆå§‹å€¼è®¾å®šé¡¹(property initializers)æ¥æ­£ç¡®ç»‘å®šå›è°ƒï¼Œcreate-react-app ä¹Ÿæ˜¯é»˜è®¤æ”¯æŒçš„ã€‚åœ¨å›è°ƒä¸­ä½ å¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä½†é—®é¢˜æ˜¯æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å›è°ƒã€‚ (åœ¨æ„é€ å‡½æ•°ä¸­)è°ƒç”¨ super(props) çš„ç›®çš„æ˜¯ä»€ä¹ˆ åœ¨ super() è¢«è°ƒç”¨ä¹‹å‰ï¼Œå­ç±»æ˜¯ä¸èƒ½ä½¿ç”¨ this çš„ï¼Œåœ¨ ES2015 ä¸­ï¼Œå­ç±»å¿…é¡»åœ¨ constructor ä¸­è°ƒç”¨ super()ã€‚ä¼ é€’ props ç»™ super() çš„åŸå› åˆ™æ˜¯ä¾¿äº(åœ¨å­ç±»ä¸­)èƒ½åœ¨ constructor è®¿é—® this.propsã€‚ åº”è¯¥åœ¨ React ç»„ä»¶çš„ä½•å¤„å‘èµ· Ajax è¯·æ±‚ åœ¨ React ç»„ä»¶ä¸­ï¼Œåº”è¯¥åœ¨ componentDidMount ä¸­å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚è¿™ä¸ªæ–¹æ³•ä¼šåœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡â€œæŒ‚è½½â€(è¢«æ·»åŠ åˆ° DOM)æ—¶æ‰§è¡Œï¼Œåœ¨ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ä»…ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œä½ ä¸èƒ½ä¿è¯åœ¨ç»„ä»¶æŒ‚è½½ä¹‹å‰ Ajax è¯·æ±‚å·²ç»å®Œæˆï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼Œä¹Ÿå°±æ„å‘³ç€ä½ å°†å°è¯•åœ¨ä¸€ä¸ªæœªæŒ‚è½½çš„ç»„ä»¶ä¸Šè°ƒç”¨ setStateï¼Œè¿™å°†ä¸èµ·ä½œç”¨ã€‚åœ¨ componentDidMount ä¸­å‘èµ·ç½‘ç»œè¯·æ±‚å°†ä¿è¯è¿™æœ‰ä¸€ä¸ªç»„ä»¶å¯ä»¥æ›´æ–°äº†ã€‚ æè¿°äº‹ä»¶åœ¨ React ä¸­çš„å¤„ç†æ–¹å¼ã€‚ ä¸ºäº†è§£å†³è·¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œæ‚¨çš„ React ä¸­çš„äº‹ä»¶å¤„ç†ç¨‹åºå°†ä¼ é€’ SyntheticEvent çš„å®ä¾‹ï¼Œå®ƒæ˜¯ React çš„æµè§ˆå™¨æœ¬æœºäº‹ä»¶çš„è·¨æµè§ˆå™¨åŒ…è£…å™¨ã€‚ è¿™äº› SyntheticEvent ä¸æ‚¨ä¹ æƒ¯çš„åŸç”Ÿäº‹ä»¶å…·æœ‰ç›¸åŒçš„æ¥å£ï¼Œé™¤äº†å®ƒä»¬åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½å…¼å®¹ã€‚æœ‰è¶£çš„æ˜¯ï¼ŒReact å®é™…ä¸Šå¹¶æ²¡æœ‰å°†äº‹ä»¶é™„åŠ åˆ°å­èŠ‚ç‚¹æœ¬èº«ã€‚React å°†ä½¿ç”¨å•ä¸ªäº‹ä»¶ç›‘å¬å™¨ç›‘å¬é¡¶å±‚çš„æ‰€æœ‰äº‹ä»¶ã€‚è¿™å¯¹äºæ€§èƒ½æ˜¯æœ‰å¥½å¤„çš„ï¼Œè¿™ä¹Ÿæ„å‘³ç€åœ¨æ›´æ–° DOM æ—¶ï¼ŒReact ä¸éœ€è¦æ‹…å¿ƒè·Ÿè¸ªäº‹ä»¶ç›‘å¬å™¨ã€‚ createElement å’Œ cloneElement æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ React.createElement():JSX è¯­æ³•å°±æ˜¯ç”¨ React.createElement()æ¥æ„å»º React å…ƒç´ çš„ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ ‡ç­¾åã€‚å¦‚ divã€spanï¼Œæˆ–è€… React ç»„ä»¶ã€‚ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¼ å…¥çš„å±æ€§ã€‚ç¬¬ä¸‰ä¸ªä»¥åŠä¹‹åçš„å‚æ•°ï¼Œçš†ä½œä¸ºç»„ä»¶çš„å­ç»„ä»¶ã€‚ React.cloneElement()ä¸ React.createElement()ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯å®ƒä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª React å…ƒç´ ï¼Œè€Œä¸æ˜¯æ ‡ç­¾åæˆ–ç»„ä»¶ã€‚æ–°æ·»åŠ çš„å±æ€§ä¼šå¹¶å…¥åŸæœ‰çš„å±æ€§ï¼Œä¼ å…¥åˆ°è¿”å›çš„æ–°å…ƒç´ ä¸­ï¼Œè€Œå°±çš„å­å…ƒç´ å°†è¢«æ›¿æ¢ã€‚ React ä¸­æœ‰ä¸‰ç§æ„å»ºç»„ä»¶çš„æ–¹å¼ React.createClass()ã€ES6 class å’Œæ— çŠ¶æ€å‡½æ•° Reactç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªçŠ¶æ€ Mounting: å·²æ’å…¥çœŸå®DOM Updating: æ­£åœ¨è¢«é‡æ–°æ¸²æŸ“ Unmounting: å·²ç§»é™¤çœŸå®DOM ç”Ÿå‘½å‘¨æœŸæ–¹æ³• componentWillMountï¼š åœ¨æ¸²æŸ“å‰è°ƒç”¨ï¼Œåœ¨å®¢æˆ·ç«¯ä¹Ÿåœ¨æœåŠ¡ç«¯ componentDidMountï¼š åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“åè°ƒç”¨ï¼Œåªåœ¨å®¢æˆ·ç«¯ã€‚ä¹‹åç»„ä»¶å·²ç»ç”Ÿæˆäº†å¯¹åº”çš„DOMç»“æ„ï¼Œå¯ä»¥é€šè¿‡this.getDOMNode()æ¥è¿›è¡Œè®¿é—®ã€‚å¦‚æœä½ æƒ³å’Œå…¶ä»–JavaScriptæ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è°ƒç”¨setTimeout, setIntervalæˆ–è€…å‘é€AJAXè¯·æ±‚ç­‰æ“ä½œ(é˜²æ­¢å¼‚éƒ¨æ“ä½œé˜»å¡UI) render()ï¼šåˆ›å»ºè™šæ‹Ÿdomï¼Œè¿›è¡Œdiffç®—æ³•ï¼Œæ›´æ–°domæ ‘éƒ½åœ¨æ­¤è¿›è¡Œ constructor()ï¼šå¯åˆå§‹åŒ–state componentWillReceivePropsï¼š åœ¨åˆå§‹åŒ–renderæ—¶ä¸ä¼šè¢«è°ƒç”¨ï¼Œå½“ç»„ä»¶æ¥æ”¶åˆ°ä¸€ä¸ªæ–°çš„propæ—¶è¢«è°ƒç”¨ houldComponentUpdateï¼š è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å½“ç¡®è®¤ä¸éœ€è¦æ›´æ–°ç»„ä»¶æ—¶ä½¿ç”¨ã€‚åœ¨ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„stateæˆ–æ–°çš„propsæ—¶è¢«è°ƒç”¨ã€‚åœ¨åˆå§‹åŒ–æ—¶æˆ–ä½¿ç”¨forceUpdateæ—¶ä¸è¢«è°ƒç”¨ componentWillUpdateï¼š åˆå§‹åŒ–ä¸ä¼šè°ƒç”¨ã€‚ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„stateæˆ–è€…propsä½†è¿˜æ²¡æœ‰renderæ—¶è¢«è°ƒç”¨ componentDidUpdateï¼š åˆå§‹åŒ–ä¸ä¼šè°ƒç”¨ã€‚ç»„ä»¶å®Œæˆæ›´æ–°åç«‹å³è°ƒç”¨ã€‚ componentWillUnmountï¼š ç»„ä»¶ä»DOMä¸­ç§»é™¤çš„æ—¶å€™ç«‹åˆ»è¢«è°ƒç”¨ã€‚ ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æµç¨‹ Mountingï¼ˆåŠ è½½é˜¶æ®µï¼‰ constructor()ï¼šå¯åˆå§‹åŒ–state componentWillMount()ï¼šç»„ä»¶åŠ è½½æ—¶åªè°ƒç”¨ï¼Œä»¥åç»„ä»¶æ›´æ–°ä¸è°ƒç”¨ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸåªè°ƒç”¨ä¸€æ¬¡ï¼Œæ­¤æ—¶å¯ä»¥ä¿®æ”¹state render()ï¼šåˆ›å»ºè™šæ‹Ÿdomï¼Œè¿›è¡Œdiffç®—æ³•ï¼Œæ›´æ–°domæ ‘éƒ½åœ¨æ­¤è¿›è¡Œ componentDidMount()ï¼šç»„ä»¶æ¸²æŸ“ä¹‹åè°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ Updatingï¼ˆæ›´æ–°é˜¶æ®µï¼šæ¶‰åŠ5ä¸ªé’©å­å‡½æ•°) componentWillReceivePorps(nextProps)ï¼šç»„ä»¶åŠ è½½æ—¶ä¸è°ƒç”¨ï¼Œç»„ä»¶æ¥å—æ–°çš„propsæ—¶è°ƒç”¨ shouldComponentUpdate(nextProps, nextState)ï¼šç»„ä»¶æ¥æ”¶åˆ°æ–°çš„propsæˆ–è€…stateæ—¶è°ƒç”¨ï¼Œreturn trueå°±ä¼šæ›´æ–°domï¼ˆä½¿ç”¨diffç®—æ³•æ›´æ–°ï¼‰ï¼Œreturn falseèƒ½é˜»æ­¢æ›´æ–°ï¼ˆä¸è°ƒç”¨renderï¼‰ componentWillUpdata(nextProps, nextState)ï¼šç»„ä»¶åŠ è½½æ—¶ä¸è°ƒç”¨ï¼Œåªæœ‰åœ¨ç»„ä»¶å°†è¦æ›´æ–°æ—¶æ‰è°ƒç”¨ï¼Œæ­¤æ—¶å¯ä»¥ä¿®æ”¹state render()ï¼šreactæœ€é‡è¦çš„æ­¥éª¤ï¼Œåˆ›å»ºè™šæ‹Ÿdomï¼Œè¿›è¡Œdiffç®—æ³•ï¼Œæ›´æ–°domæ ‘éƒ½åœ¨æ­¤è¿›è¡Œ componentDidUpdate()ï¼šç»„ä»¶åŠ è½½æ—¶ä¸è°ƒç”¨ï¼Œç»„ä»¶æ›´æ–°å®Œæˆåè°ƒç”¨ Unmountingï¼ˆå¸è½½é˜¶æ®µï¼šæ¶‰åŠ1ä¸ªé’©å­å‡½æ•°ï¼‰ componentWillUnmount():ç»„ä»¶æ¸²æŸ“ä¹‹åè°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ æ–°çš„ç”Ÿå‘½å‘¨æœŸ Mountingï¼ˆåŠ è½½é˜¶æ®µï¼šæ¶‰åŠ4ä¸ªé’©å­å‡½æ•°ï¼‰ constructor()ï¼šåŠ è½½çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡ï¼Œå¯ä»¥åˆå§‹åŒ–state static getDerivedStateFromProps(props, state)ï¼šç»„ä»¶æ¯æ¬¡è¢«renderçš„æ—¶å€™ï¼ŒåŒ…æ‹¬åœ¨ç»„ä»¶æ„å»ºä¹‹å(è™šæ‹Ÿdomä¹‹åï¼Œå®é™…domæŒ‚è½½ä¹‹å‰)ï¼Œæ¯æ¬¡è·å–æ–°çš„propsæˆ–stateä¹‹åï¼›æ¯æ¬¡æ¥æ”¶æ–°çš„propsä¹‹åéƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ–°çš„stateï¼Œè¿”å›nullåˆ™è¯´æ˜ä¸éœ€è¦æ›´æ–°stateï¼›é…åˆcomponentDidUpdateï¼Œå¯ä»¥è¦†ç›–componentWillReceivePropsçš„æ‰€æœ‰ç”¨æ³•ã€‚ render()ï¼šåˆ›å»ºè™šæ‹Ÿdomï¼Œè¿›è¡Œdiffç®—æ³•ï¼Œæ›´æ–°domæ ‘éƒ½åœ¨æ­¤è¿›è¡Œ componentDidMount()ï¼šç»„ä»¶æ¸²æŸ“ä¹‹åè°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ Updatingï¼ˆæ›´æ–°é˜¶æ®µï¼šæ¶‰åŠ5ä¸ªé’©å­å‡½æ•°) static getDerivedStateFromProps(props, state)ï¼šç»„ä»¶æ¯æ¬¡è¢«renderçš„æ—¶å€™ï¼ŒåŒ…æ‹¬åœ¨ç»„ä»¶æ„å»ºä¹‹å(è™šæ‹Ÿdomä¹‹åï¼Œå®é™…domæŒ‚è½½ä¹‹å‰)ï¼Œæ¯æ¬¡è·å–æ–°çš„propsæˆ–stateä¹‹åï¼›æ¯æ¬¡æ¥æ”¶æ–°çš„propsä¹‹åéƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ–°çš„stateï¼Œè¿”å›nullåˆ™è¯´æ˜ä¸éœ€è¦æ›´æ–°stateï¼›é…åˆcomponentDidUpdateï¼Œå¯ä»¥è¦†ç›–componentWillReceivePropsçš„æ‰€æœ‰ç”¨æ³• shouldComponentUpdate(nextProps, nextState)ï¼šç»„ä»¶æ¥æ”¶åˆ°æ–°çš„propsæˆ–è€…stateæ—¶è°ƒç”¨ï¼Œreturn trueå°±ä¼šæ›´æ–°domï¼ˆä½¿ç”¨diffç®—æ³•æ›´æ–°ï¼‰ï¼Œreturn falseèƒ½é˜»æ­¢æ›´æ–°ï¼ˆä¸è°ƒç”¨renderï¼‰ render()ï¼šåˆ›å»ºè™šæ‹Ÿdomï¼Œè¿›è¡Œdiffç®—æ³•ï¼Œæ›´æ–°domæ ‘éƒ½åœ¨æ­¤è¿›è¡Œ getSnapshotBeforeUpdate(prevProps, prevState)ï¼šè§¦å‘æ—¶é—´: updateå‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨renderä¹‹åï¼Œåœ¨ç»„ä»¶domæ¸²æŸ“ä¹‹å‰ï¼›è¿”å›ä¸€ä¸ªå€¼ï¼Œä½œä¸ºcomponentDidUpdateçš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼›é…åˆcomponentDidUpdate, å¯ä»¥è¦†ç›–componentWillUpdateçš„æ‰€æœ‰ç”¨æ³• componentDidUpdate()ï¼šç»„ä»¶åŠ è½½æ—¶ä¸è°ƒç”¨ï¼Œç»„ä»¶æ›´æ–°å®Œæˆåè°ƒç”¨ Unmountingï¼ˆå¸è½½é˜¶æ®µï¼šæ¶‰åŠ1ä¸ªé’©å­å‡½æ•°ï¼‰ componentWillUnmount():ç»„ä»¶æ¸²æŸ“ä¹‹åè°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ Error Handling(é”™è¯¯å¤„ç†) componentDidCatch(errorï¼Œinfo)ï¼šä»»ä½•ä¸€å¤„çš„javascriptæŠ¥é”™ä¼šè§¦å‘ æ€»ç»“ï¼š React16æ–°çš„ç”Ÿå‘½å‘¨æœŸå¼ƒç”¨äº†componentWillMountã€componentWillReceivePorpsï¼ŒcomponentWillUpdate æ–°å¢äº†getDerivedStateFromPropsã€getSnapshotBeforeUpdateæ¥ä»£æ›¿å¼ƒç”¨çš„ä¸‰ä¸ªé’©å­å‡½æ•°ï¼ˆcomponentWillMountã€componentWillReceivePorpsï¼ŒcomponentWillUpdateï¼‰ React16å¹¶æ²¡æœ‰åˆ é™¤è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ï¼Œä½†æ˜¯ä¸èƒ½å’Œæ–°å¢çš„é’©å­å‡½æ•°ï¼ˆgetDerivedStateFromPropsã€getSnapshotBeforeUpdateï¼‰æ··ç”¨ï¼ŒReact17å°†ä¼šåˆ é™¤componentWillMountã€componentWillReceivePorpsï¼ŒcomponentWillUpdate æ–°å¢äº†å¯¹é”™è¯¯çš„å¤„ç†ï¼ˆcomponentDidCatchï¼‰ Reduxç»„æˆredux æ˜¯ä¸€ä¸ªåº”ç”¨æ•°æ®æµæ¡†æ¶ï¼Œä¸»è¦æ˜¯è§£å†³äº†ç»„ä»¶é—´çŠ¶æ€å…±äº«çš„é—®é¢˜ï¼ŒåŸç†æ˜¯é›†ä¸­å¼ç®¡ç†ï¼Œä¸»è¦æœ‰ä¸‰ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼Œactionï¼Œstoreï¼Œreducer å·¥ä½œæµç¨‹ï¼š view è°ƒç”¨ store çš„ dispatch æ¥æ”¶ action ä¼ å…¥ storeï¼Œreducer è¿›è¡Œ state æ“ä½œï¼Œview é€šè¿‡ store æä¾›çš„ getState è·å–æœ€æ–°çš„æ•°æ® Reduxçš„ä¸‰å¤§åŸåˆ™ï¼š å•ä¸€æ•°æ®æºï¼šæ•´ä¸ªåº”ç”¨çš„ state è¢«å‚¨å­˜åœ¨ ä¸€æ£µ object tree ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª object tree åªå­˜åœ¨äº å”¯ä¸€ä¸€ä¸ª store ä¸­ã€‚ Stateæ˜¯åªè¯»çš„ï¼š å”¯ä¸€æ”¹å˜ state çš„æ–¹æ³•å°±æ˜¯è§¦å‘ actionã€‚ è¿™æ ·ç¡®ä¿äº† è§†å›¾ å’Œ ç½‘ç»œè¯·æ±‚ éƒ½ä¸èƒ½ç›´æ¥ä¿®æ”¹ stateï¼Œç›¸åå®ƒä»¬åªèƒ½è¡¨è¾¾æƒ³è¦ä¿®æ”¹çš„æ„å›¾ã€‚å› ä¸ºæ‰€æœ‰çš„ä¿®æ”¹éƒ½è¢«é›†ä¸­åŒ–å¤„ç†ï¼Œä¸”ä¸¥æ ¼æŒ‰ç…§ä¸€ä¸ªæ¥ä¸€ä¸ªçš„é¡ºåºæ‰§è¡Œï¼Œå› æ­¤ä¸ç”¨æ‹…å¿ƒ ç«æ€æ¡ä»¶çš„å‡ºç°ã€‚ ä½¿ç”¨çº¯å‡½æ•°æ¥ä¿®æ”¹stateï¼šä¸ºäº†æè¿° action å¦‚ä½•æ”¹å˜ state tree ï¼Œä½ éœ€è¦ç¼–å†™reducersã€‚ Reduxçš„æ ¸å¿ƒç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼šStore,Action, Reducerã€‚ Storeï¼š æ˜¯ä¸ªå¯¹è±¡ï¼Œè´¯ç©¿ä½ æ•´ä¸ªåº”ç”¨çš„æ•°æ®éƒ½åº”è¯¥å­˜å‚¨åœ¨è¿™é‡Œ Actionï¼š æ˜¯ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åŒ…å«typeè¿™ä¸ªå±æ€§ï¼Œreducerå°†æ ¹æ®è¿™ä¸ªå±æ€§å€¼æ¥å¯¹storeè¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚é™¤æ­¤ä¹‹å¤–çš„å±æ€§ï¼Œå°±æ˜¯è¿›è¡Œè¿™ä¸ªæ“ä½œéœ€è¦çš„æ•°æ® Reducer:ï¼šæ˜¯ä¸ªå‡½æ•°ã€‚æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šè¦ä¿®æ”¹çš„æ•°æ®(state) å’Œ actionå¯¹è±¡ã€‚æ ¹æ®action.typeæ¥å†³å®šé‡‡ç”¨çš„æ“ä½œï¼Œå¯¹stateè¿›è¡Œä¿®æ”¹ï¼Œæœ€åè¿”å›æ–°çš„state å„éƒ¨åˆ†ä¹‹é—´çš„å…³ç³»ï¼šÂ·Storeæä¾›äº†dispatchæ–¹æ³• â†’ è§¦å‘actionã€‚dispatchæ–¹æ³•æ¥å—actionå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè§¦å‘action â†’ reduceræ¥å¤„ç†ã€‚ Storeçš„ä¸‰ä¸ªæ–¹æ³•ï¼š getStateï¼šç”¨æ¥è·å–storeé‡Œé¢å­˜å‚¨çš„æ•°æ®ã€‚store.getState() ä¸éœ€è¦ä»»ä½•å‚æ•°ï¼Œå¹¶ä¸”å°†è¿”å› store çš„å½“å‰çŠ¶æ€ dispatch: storeé‡Œçš„æ•°æ®ä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡è§¦å‘actionæ¥è¿›è¡Œä¿®æ”¹ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯ç”¨æ¥è§¦å‘actionã€‚store.dispatch(action)ä¼ å…¥ action å¯¹è±¡ï¼Œå¹¶ä¸”å°†è°ƒç”¨ reducer å‡½æ•°ï¼Œå‘å…¶ä¼ é€’å½“å‰çŠ¶æ€å’Œæ‰€æ´¾é£çš„ actionã€‚ subscribe()ï¼šè®¢é˜…storeæ”¹å˜æ—¶ï¼Œè¦è¿›è¡Œçš„æ“ä½œã€‚æ¯”å¦‚åœ¨reactä¸­ï¼Œå½“storeæ”¹å˜æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨renderæ–¹æ³•å¯¹è§†å›¾è¿›è¡Œæ›´æ–°ã€‚store.subscribe(cb)ä¼ å…¥ç›‘å¬å™¨å›è°ƒå‡½æ•°ï¼Œæ¯å½“çŠ¶æ€æ”¹å˜æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¯¥å‡½æ•°ã€‚ Reducerä¸­é¿å…é‚£äº›æ“ä½œï¼š ä¸å¾—ä¿®æ”¹ä¼ å…¥çš„å‚æ•° ä¸å¾—è°ƒç”¨éçº¯å‡½æ•°ï¼Œå¦‚Date.now()æˆ– Math.random() ä¸å¾—æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„æ“ä½œï¼Œå¦‚APIè¯·æ±‚å’Œè·¯ç”±è·³è½¬ åœ¨dispatchæ–¹æ³•ä¹‹å‰è¿›è¡Œapiè¯·æ±‚ï¼šåœ¨dispatchä¹‹å¤–å…ˆè¿›è¡Œapiå¼‚æ­¥è¯·æ±‚ï¼Œå½“æ”¶åˆ°è¯·æ±‚ç»“æœåï¼Œæ ¹æ®ç»“æœçš„ä¸åŒé€‰æ‹©dispatchä¸åŒçš„action åº”ç”¨redux-thunk,redux-promiseç­‰ä¸­é—´ä»¶ï¼Œå°±å¯ä»¥åœ¨dispatchå‡½æ•°ä¸­ç›´æ¥æ‰§è¡Œapiè¯·æ±‚ç­‰å¼‚æ­¥æ“ä½œäº† çº¯å‡½æ•°ï¼š åªè¦æ¯æ¬¡ç»™å®šç›¸åŒçš„è¾“å…¥å€¼ï¼Œå°±ä¸€å®šä¼šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºå€¼: ä¾‹å¦‚ä¼ å…¥1ä¸2ï¼Œå°±ä¸€å®šä¼šå¾—åˆ°3 ä¸ä¼šæ”¹å˜åŸå§‹è¾“å…¥å‚æ•°ï¼Œæˆ–æ˜¯å¤–éƒ¨çš„ç¯å¢ƒï¼Œæ‰€ä»¥æ²¡æœ‰å‰¯ä½œç”¨ ä¸ä¾é ¼å…¶ä»–å¤–éƒ¨çš„çŠ¶æ€ï¼Œå˜é‡æˆ–å¸¸é‡ æ€ä¹ˆç”¨reducerå’ŒUIå±‚è¿›è¡Œè¿æ¥ï¼š ç”¨æˆ·äº§ç”Ÿäº†æ“ä½œï¼Œè°ƒç”¨äº†actions çš„æ–¹æ³• actionsçš„æ–¹æ³•è¢«è°ƒç”¨ï¼Œåˆ›å»ºäº†å¸¦æœ‰æ ‡ç¤ºæ€§ä¿¡æ¯çš„action actionså°†é€šè¿‡è°ƒç”¨store.dispatchæ–¹æ³•å‘é€åˆ°äº†reducerä¸­ï¼Œreduceræ¥æ”¶åˆ°actionå¹¶æ ¹æ®æ ‡è¯†ä¿¡æ¯åˆ¤æ–­ä¹‹åè¿”å›äº†æ–°çš„state storeçš„stateè¢«reduceræ›´æ”¹ä¸ºæ–°stateçš„æ—¶å€™ï¼Œstore.subscribeæ–¹æ³•é‡Œçš„å›è°ƒå‡½æ•°ä¼šæ‰§è¡Œï¼Œæ­¤æ—¶å°±å¯ä»¥é€šçŸ¥viewå»é‡æ–°è·å–state flux ä¹Ÿæ˜¯ç”¨æ¥è¿›è¡Œæ•°æ®æ“ä½œçš„ï¼šæœ‰å››ä¸ªç»„æˆéƒ¨åˆ† actionï¼Œdispatchï¼Œviewï¼Œstoreï¼Œå·¥ä½œæµç¨‹æ˜¯ view å‘å‡ºä¸€ä¸ª actionï¼Œæ´¾å‘å™¨æ¥æ”¶ actionï¼Œè®© store è¿›è¡Œæ•°æ®æ›´æ–°ï¼Œæ›´æ–°å®Œæˆä»¥å store å‘å‡º changeï¼Œview æ¥å— change æ›´æ–°è§†å›¾ã€‚ Redux å’Œ Fluxï¼š ä¸»è¦åŒºåˆ«åœ¨äº Flux æœ‰å¤šä¸ªå¯ä»¥æ”¹å˜åº”ç”¨çŠ¶æ€çš„ storeï¼Œåœ¨ Flux ä¸­dispatcher è¢«ç”¨æ¥ä¼ é€’æ•°æ®åˆ°æ³¨å†Œçš„å›è°ƒäº‹ä»¶ï¼Œä½†æ˜¯åœ¨ redux ä¸­åªèƒ½å®šä¹‰ä¸€ä¸ªå¯æ›´æ–°çŠ¶æ€çš„ storeï¼Œredux æŠŠ store å’Œ Dispatcher åˆå¹¶,ç»“æ„æ›´åŠ ç®€å•æ¸…æ™° æ–°å¢ state,å¯¹çŠ¶æ€çš„ç®¡ç†æ›´åŠ æ˜ç¡®ï¼Œé€šè¿‡ reduxï¼Œæµç¨‹æ›´åŠ è§„èŒƒäº†ï¼Œå‡å°‘æ‰‹åŠ¨ç¼–ç é‡ï¼Œæé«˜äº†ç¼–ç æ•ˆç‡ï¼ŒåŒæ—¶ç¼ºç‚¹æ—¶å½“æ•°æ®æ›´æ–°æ—¶æœ‰æ—¶å€™ç»„ä»¶ä¸éœ€è¦ï¼Œä½†æ˜¯ä¹Ÿè¦é‡æ–°ç»˜åˆ¶ï¼Œæœ‰äº›å½±å“æ•ˆç‡ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨æ„å»ºå¤šäº¤äº’ï¼Œå¤šæ•°æ®æµçš„å¤æ‚é¡¹ç›®åº”ç”¨æ—¶æ‰ä¼šä½¿ç”¨å®ƒä»¬ ç®€è¿° flux æ€æƒ³ Flux çš„æœ€å¤§ç‰¹ç‚¹ï¼Œå°±æ˜¯æ•°æ®çš„â€å•å‘æµåŠ¨â€ã€‚ ç”¨æˆ·è®¿é—® View View å‘å‡ºç”¨æˆ·çš„ Action Dispatcher æ”¶åˆ° Actionï¼Œè¦æ±‚ Store è¿›è¡Œç›¸åº”çš„æ›´æ–° Store æ›´æ–°åï¼Œå‘å‡ºä¸€ä¸ªâ€changeâ€äº‹ä»¶ View æ”¶åˆ°â€changeâ€äº‹ä»¶åï¼Œæ›´æ–°é¡µé¢ redux æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼š ä¸€ä¸ªç»„ä»¶æ‰€éœ€è¦çš„æ•°æ®ï¼Œå¿…é¡»ç”±çˆ¶ç»„ä»¶ä¼ è¿‡æ¥ï¼Œè€Œä¸èƒ½åƒ flux ä¸­ç›´æ¥ä» store å–ã€‚ å½“ä¸€ä¸ªç»„ä»¶ç›¸å…³æ•°æ®æ›´æ–°æ—¶ï¼Œå³ä½¿çˆ¶ç»„ä»¶ä¸éœ€è¦ç”¨åˆ°è¿™ä¸ªç»„ä»¶ï¼Œçˆ¶ç»„ä»¶è¿˜æ˜¯ä¼šé‡æ–° renderï¼Œå¯èƒ½ä¼šæœ‰æ•ˆç‡å½±å“ï¼Œæˆ–è€…éœ€è¦å†™å¤æ‚çš„ shouldComponentUpdate è¿›è¡Œåˆ¤æ–­ã€‚ Reduxä¸­é—´é”®ï¼š redux-thunkï¼šå¯ä»¥åœ¨actionCreatorsé‡Œé€šè¿‡è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå°±å¯ä»¥åœ¨å‡½æ•°é‡Œç¼–å†™æŸäº›å¼‚æ­¥æ“ä½œäº†ï¼Œå¾…å¼‚æ­¥æ“ä½œç»“æŸï¼Œæœ€åé€šè¿‡ä¼ å…¥çš„store.dispatchï¼Œå‘å‡ºactioné€šçŸ¥ç»™Storeè¦è¿›è¡ŒçŠ¶æ€æ›´æ–°ã€‚ åœºæ™¯:react-thunk æ¯”è¾ƒé€‚åˆäºç®€å•çš„APIè¯·æ±‚çš„åœºæ™¯ 1234567import &#123; applyMiddleware, createStore &#125; from 'redux';import thunk from 'redux-thunk';const store = createStore( reducer, applyMiddleware(thunk)); CreateStore:å…¶å®å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°preloadedStateä¸€èˆ¬ä½œä¸ºæ•´ä¸ªåº”ç”¨çš„åˆå§‹åŒ–æ•°æ®ï¼Œå¦‚æœä¼ å…¥äº†è¿™ä¸ªå‚æ•°ï¼ŒapplyMiddlewareå°±ä¼šè¢«å½“åšç¬¬ä¸‰ä¸ªå‚æ•°å¤„ç† applyMiddlewareï¼šapplyMiddlewareé¡¾åæ€ä¹‰ï¼Œç”¨äºè°ƒç”¨å­˜æ”¾å„ç§ä¸­é—´ä»¶ redux-promise :é€‚åˆè¾“å…¥è¾“å‡ºæ“ä½œ å…ˆåˆ¤æ–­æ˜¯ä¸æ˜¯æ ‡å‡†çš„ flux actionã€‚ å¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆåˆ¤æ–­æ˜¯å¦æ˜¯ promise, æ˜¯çš„è¯å°±æ‰§è¡Œ action.then(dispatch)ï¼Œå¦åˆ™æ‰§è¡Œ next(action)ã€‚ å¦‚æœæ˜¯, å°±å…ˆåˆ¤æ–­ payload æ˜¯å¦æ˜¯ promiseï¼Œå¦‚æœæ˜¯çš„è¯ payload.then è·å–æ•°æ®ï¼Œç„¶åæŠŠæ•°æ®ä½œä¸º payload é‡æ–° dispatch({ â€¦action, payload: result}) ï¼›ä¸æ˜¯çš„è¯å°±æ‰§è¡Œ next(action) redux-saga: redux-sagaæ˜¯ä¸€ä¸ªç®¡ç†reduxåº”ç”¨å¼‚æ­¥æ“ä½œçš„ä¸­é—´ä»¶ï¼Œç”¨äºä»£æ›¿ redux-thunk çš„ã€‚å®ƒé€šè¿‡åˆ›å»º Sagas å°†æ‰€æœ‰å¼‚æ­¥æ“ä½œé€»è¾‘å­˜æ”¾åœ¨ä¸€ä¸ªåœ°æ–¹è¿›è¡Œé›†ä¸­å¤„ç†ï¼Œä»¥æ­¤å°†reactä¸­çš„åŒæ­¥æ“ä½œä¸å¼‚æ­¥æ“ä½œåŒºåˆ†å¼€æ¥ï¼Œä»¥ä¾¿äºåæœŸçš„ç®¡ç†ä¸ç»´æŠ¤ åœ°å€æ è¾“å…¥urlå‘ç”Ÿä»€ä¹ˆ æŸ¥è¯¢ipåœ°å€ æµè§ˆå™¨è§£æå‡ºurlä¸­çš„åŸŸå æŸ¥è¯¢æµè§ˆå™¨çš„DNSç¼“å­˜ æµè§ˆå™¨ä¸­æ²¡æœ‰DNSç¼“å­˜ï¼Œåˆ™æŸ¥æ‰¾æœ¬åœ°å®¢æˆ·ç«¯hostsæ–‡ä»¶æœ‰æ— å¯¹åº”çš„ipåœ°å€ã€‚ hostsä¸­æ— ï¼Œåˆ™æŸ¥æ‰¾æœ¬åœ°DNSæœåŠ¡å™¨ï¼ˆè¿è¥å•†æä¾›çš„DNSæœåŠ¡å™¨ï¼‰æœ‰æ— å¯¹åº”çš„DNSç¼“å­˜ã€‚ è‹¥æœ¬åœ°DNSæ²¡æœ‰DNSç¼“å­˜ï¼Œåˆ™å‘æ ¹æœåŠ¡å™¨æŸ¥è¯¢ï¼Œè¿›è¡Œé€’å½’æŸ¥æ‰¾ é€’å½’æŸ¥æ‰¾ä»é¡¶çº§åŸŸåå¼€å§‹ï¼ˆå¦‚.comï¼‰,ä¸€æ­¥æ­¥ç¼©å°èŒƒå›´ï¼Œæœ€ç»ˆå®¢æˆ·ç«¯å–å¾—ipåœ°å€ã€‚ tcpè¿æ¥ä¸httpè¿æ¥ httpåè®®å»ºç«‹åœ¨tcpåè®®ä¹‹ä¸Šï¼Œhttpè¯·æ±‚å‰ï¼Œéœ€å…ˆè¿›è¡Œtcpè¿æ¥ï¼Œå½¢æˆå®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„ç¨³å®šçš„é€šé“ã€‚ä¿—ç§°TCPçš„ä¸‰æ¬¡æ¡æ‰‹ã€‚ tcpè¿æ¥å®Œæˆåï¼Œhttpè¯·æ±‚å¼€å§‹ï¼Œè¯·æ±‚æœ‰å¤šç§æ–¹å¼ï¼Œå¸¸è§çš„æœ‰getï¼Œpostç­‰ã€‚ httpè¯·æ±‚åŒ…å«è¯·æ±‚å¤´ï¼Œä¹Ÿå¯èƒ½åŒ…å«è¯·æ±‚ä½“ä¸¤éƒ¨åˆ†ï¼Œè¯·æ±‚å¤´ä¸­åŒ…å«æˆ‘ä»¬å¸Œæœ›å¯¹è¯·æ±‚æ–‡ä»¶çš„æ“ä½œçš„ä¿¡æ¯ï¼Œè¯·æ±‚ä½“ä¸­åŒ…å«ä¼ é€’ç»™åå°çš„å‚æ•°ã€‚ æœåŠ¡å™¨æ”¶åˆ°httpè¯·æ±‚åï¼Œåå°å¼€å§‹å·¥ä½œï¼Œå¦‚è´Ÿè½½å¹³è¡¡ï¼Œè·¨åŸŸç­‰ï¼Œè¿™é‡Œå°±æ˜¯åç«¯çš„å·¥ä½œäº†ã€‚ æ–‡ä»¶å¤„ç†å®Œæ¯•ï¼Œç”Ÿæˆå“åº”æ•°æ®åŒ…ï¼Œå“åº”ä¹ŸåŒ…å«ä¸¤éƒ¨åˆ†ï¼Œå“åº”å¤´å’Œç›¸åº”ä½“ï¼Œå“åº”ä½“å°±æ˜¯æˆ‘ä»¬æ‰€è¯·æ±‚çš„æ–‡ä»¶ã€‚ ç»è¿‡ç½‘ç»œä¼ è¾“ï¼Œæ–‡ä»¶è¢«ä¸‹è½½åˆ°æœ¬åœ°å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å¼€å§‹åŠ è½½ã€‚ htmlæ¸²æŸ“ï¼š å®¢æˆ·ç«¯æµè§ˆå™¨åŠ è½½äº†htmlæ–‡ä»¶åï¼Œç”±ä¸Šåˆ°ä¸‹è§£æhtmlä¸ºDOMæ ‘ï¼ˆDOM Treeï¼‰ é‡åˆ°cssæ–‡ä»¶ï¼Œcssä¸­çš„urlå‘èµ·httpè¯·æ±‚ è¿™æ˜¯ç¬¬äºŒæ¬¡httpè¯·æ±‚ï¼Œç”±äºhttp1.1åè®®å¢åŠ äº†Connection: keep-aliveå£°æ˜ï¼Œæ•…tcpè¿æ¥ä¸ä¼šå…³é—­ï¼Œå¯ä»¥å¤ç”¨ã€‚ httpè¿æ¥æ˜¯æ— çŠ¶æ€è¿æ¥ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯éœ€è¦é‡æ–°å‘èµ·è¯·æ±‚â€“å“åº”ã€‚åœ¨è¯·æ±‚cssçš„è¿‡ç¨‹ä¸­ï¼Œè§£æå™¨ç»§ç»­è§£æhtmlï¼Œç„¶ååˆ°äº†scriptæ ‡ç­¾ã€‚ ç”±äºscriptå¯èƒ½ä¼šæ”¹å˜DOMç»“æ„ï¼Œæ•…è§£æå™¨åœæ­¢ç”ŸæˆDOMæ ‘ï¼Œè§£æå™¨è¢«jsé˜»å¡ï¼Œç­‰å¾…jsæ–‡ä»¶å‘èµ·httpè¯·æ±‚ï¼Œç„¶ååŠ è½½ã€‚è¿™æ˜¯ç¬¬ä¸‰æ¬¡httpè¯·æ±‚ã€‚jsæ‰§è¡Œå®Œæˆåè§£æå™¨ç»§ç»­è§£æã€‚ ç”±äºcssæ–‡ä»¶å¯èƒ½ä¼šå½±å“jsæ–‡ä»¶çš„æ‰§è¡Œç»“æœï¼Œå› æ­¤éœ€ç­‰cssæ–‡ä»¶åŠ è½½å®Œæˆåå†æ‰§è¡Œ æµè§ˆå™¨æ”¶åˆ°cssæ–‡ä»¶åï¼Œå¼€å§‹è§£æcssæ–‡ä»¶ä¸ºCSSOMæ ‘ï¼ˆCSS Rule Treeï¼‰ã€‚ CSSOMæ ‘ç”Ÿæˆåï¼ŒDOM Treeä¸CSS Rule Treeç»“åˆç”Ÿæˆæ¸²æŸ“æ ‘ï¼ˆRender Treeï¼‰ã€‚ Render Treeä¼šè¢«cssæ–‡ä»¶é˜»å¡ï¼Œæ¸²æŸ“æ ‘ç”Ÿæˆåï¼Œå…ˆå¸ƒå±€ï¼Œç»˜åˆ¶æ¸²æŸ“æ ‘ä¸­èŠ‚ç‚¹çš„å±æ€§(ä½ç½®ï¼Œå®½åº¦ï¼Œå¤§å°ç­‰)ï¼Œç„¶åæ¸²æŸ“ï¼Œé¡µé¢å°±ä¼šå‘ˆç°ä¿¡æ¯ã€‚ ç»§ç»­è¾¹è§£æè¾¹æ¸²æŸ“ï¼Œé‡åˆ°äº†å¦ä¸€ä¸ªjsæ–‡ä»¶ï¼Œjsæ–‡ä»¶æ‰§è¡Œåæ”¹å˜äº†DOMæ ‘ï¼Œæ¸²æŸ“æ ‘ä»è¢«æ”¹å˜çš„domå¼€å§‹å†æ¬¡æ¸²æŸ“ã€‚ ç»§ç»­å‘ä¸‹æ¸²æŸ“ï¼Œç¢°åˆ°ä¸€ä¸ªimgæ ‡ç­¾ï¼Œæµè§ˆå™¨å‘èµ·httpè¯·æ±‚ï¼Œä¸ä¼šç­‰å¾…imgåŠ è½½å®Œæˆï¼Œç»§ç»­å‘ä¸‹æ¸²æŸ“ï¼Œä¹‹åå†é‡æ–°æ¸²æŸ“æ­¤éƒ¨åˆ†ã€‚ DOMæ ‘é‡åˆ°htmlç»“æŸæ ‡ç­¾ï¼Œåœæ­¢è§£æï¼Œè¿›è€Œæ¸²æŸ“ç»“æŸã€‚ æœ‰é‚£äº›ç½‘ç«™ä¼˜åŒ–çš„æ–¹æ³•ï¼Ÿ å‡å°‘DNSæŸ¥è¯¢:å°†æœåŠ¡å™¨åŸŸåçš„ipä¿¡æ¯åŠ å…¥æœ¬åœ°hostæ–‡ä»¶ å‡å°‘httpè¯·æ±‚æ•°é‡ï¼Œå¯¹äºå›¾ç‰‡ä½¿ç”¨é›ªç¢§å›¾,å¯¹äºhtmlæ–‡ä»¶å’Œcssæ–‡ä»¶ï¼Œjsæ–‡ä»¶åˆ†åˆ«è¿›è¡Œåˆå¹¶æ“ä½œ å‡å°‘ä¸‹è½½æ—¶é—´ï¼šå‹ç¼©å›¾ç‰‡ï¼Œä½¿ç”¨å‹ç¼©åº”ç”¨å‹ç¼©æ–‡æ¡£ä¸­çš„ç©ºæ ¼ï¼Œåˆ é™¤æ–‡ä»¶å¤šä½™çš„è¯­å¥å’Œæ³¨é‡Šï¼Œåˆ›é€ è‡ªå·±çš„jsç²¾ç®€åº“å’Œç²¾ç®€æ¡†æ¶,ä½¿ç”¨æœ¬åœ°æµè§ˆå™¨ç¼“å­˜ã€‚ æå‰æ¸²æŸ“å¼€å§‹æ—¶é—´ï¼šå°†cssé“¾æ¥æ”¾åœ¨htmlå¤´éƒ¨ã€‚ å‡è½»è§£æå™¨çš„é˜»å¡ï¼šå°†jsé“¾æ¥æ”¾åœ¨bodyå°¾éƒ¨ã€‚ Gitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ å¸¸ç”¨çš„å‘½ä»¤ï¼š git add ï¼šæ”¾å…¥æš‚å­˜åŒº git commitï¼šæäº¤åˆ°æœ¬åœ°ä»“åº“ git resetï¼šç‰ˆæœ¬å›é€€ git checkoutï¼šåˆ‡æ¢åˆ†æ”¯ git branchï¼šåˆ›å»ºåˆ†æ”¯ git push :ä¸Šä¼  git pull:æ›´æ–° git merge:åˆå¹¶ git checkout â€”æ–‡ä»¶åï¼šæ’¤é”€åœ¨å·¥ä½œåŒºåšçš„ä¿®æ”¹ å¼€å‘æµç¨‹ï¼š æ°¸ä¹…åˆ†æ”¯ï¼š masterï¼šä¸»åˆ†æ”¯ã€‚ç”¨äºå­˜æ”¾ç»è¿‡æµ‹è¯•ï¼Œå®Œå…¨ç¨³å®šçš„ä»£ç  devï¼šå¼€å‘åˆ†æ”¯ã€‚ä¸€å¼€å§‹ä»masteråˆ†ç¦»è€Œæ¥ï¼Œç”¨äºå­˜æ”¾åŸºæœ¬ç¨³å®šçš„ä»£ç  testingï¼šæµ‹è¯•åˆ†æ”¯ã€‚ä»devåˆ†ç¦»è€Œæ¥ï¼Œç”¨äºç”Ÿæˆæµ‹è¯•äº§å“å’Œä¿®æ”¹bugã€‚ ä¸´æ—¶åˆ†æ”¯ï¼š featureï¼šç‰¹æ€§åˆ†æ”¯ã€‚ ä»devåˆ†æ”¯åˆ†ç¦»è€Œæ¥ï¼Œç”¨äºå¼€å‘é¡¹ç›®åŠŸèƒ½ hotfixesï¼šç´§æ€¥åˆ†æ”¯ã€‚å½“äº§å“å·²ç»å‘å¸ƒï¼Œå‘ç°ç´§æ€¥bugï¼Œåˆ›å»ºhotfixesåˆ†æ”¯è¿›è¡Œç´§æ€¥ä¿®å¤ï¼Œå®Œæˆååˆå¹¶åˆ°masterå’Œdevã€‚ releaseï¼šé¢„å‘å¸ƒåˆ†æ”¯ã€‚æ¯æ¬¡å‘å¸ƒæœ‰ä¸€ä¸ªåˆ†æ”¯ã€‚ä»testingåˆ†ç¦»è€Œæ¥ï¼Œç”¨äºç”Ÿæˆé¢„å‘å¸ƒäº§å“å’Œå›å½’æµ‹è¯•ã€‚ è¿œç¨‹æ‹‰é¡¹ç›® =&gt; æœ¬åœ°åˆ›å»ºåˆ†æ”¯ï¼ˆå¼€å‘ï¼‰=&gt; æäº¤pullï¼Œrequestè¯·æ±‚ =&gt; æŠ€æœ¯ç»„é•¿å®¡æ ¸ =&gt;åˆå¹¶åˆ°å¼€å‘åˆ†æ”¯ä¸Š å¦‚æœæœ‰æµ‹è¯•é—®é¢˜ï¼Œå°±ä¿®æ”¹ï¼Œæäº¤ï¼Œç»„é•¿å®¡æ ¸ã€‚ é¡¹ç›®å¼€å‘æµç¨‹ Webpacké…ç½®ï¼š enrtyï¼ˆé¡¹ç›®å…¥å£ï¼‰ outputï¼ˆå‡ºå£æ–‡ä»¶ï¼‰ plugin moduleï¼ˆæ¨¡å—çš„å¤„ç†ï¼‰ï¼šloaderçš„é…ç½®ä¸»è¦åœ¨module.rulesä¸­è¿›è¡Œï¼Œè¿™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸€ä¸ªruleåšäº†ä¸¤ä»¶äº‹ è¯†åˆ«æ–‡ä»¶ç±»å‹ï¼Œæ¥ç¡®å®šå…·ä½“å¤„ç†è¯¥æ•°æ®çš„loader(Rule.testå±æ€§) ä½¿ç”¨ç›¸å…³çš„loaderå¯¹æ–‡ä»¶è¿›è¡Œç›¸å…³çš„æ“ä½œè½¬æ¢(Rule.useå±æ€§ï¼‰ å¸¸ç”¨çš„loaderï¼š è½¬æ¢ç¼–è¯‘ï¼šscript-loader, babel-loader,ts-loader,coffee-loader å¤„ç†æ ·å¼ï¼šstyle-loader,css-loader,less-loader,sass-loader,postcss-loader å¤„ç†æ–‡ä»¶ï¼šrawâ€“loader,url-loader,file-loader å¤„ç†æ•°æ®ï¼šcsv-loader,xml-loader å¤„ç†æ¨¡æ¿è¯­è¨€ï¼šhtml-loader,pug-loader,jade-loader,markdown-loader æ¸…ç†å’Œæµ‹è¯•ï¼šmocha-loader,eslint-loader é¡¹ç›®ä¼˜åŒ– æµè§ˆå™¨é¡µé¢ä¼˜åŒ–ï¼š å†™å‡ºé«˜æ•ˆçš„cssä»£ç  é¿å…ä½¿ç”¨cssè¡¨è¾¾å¼ æŠŠcssæ–‡ä»¶æ”¾åœ¨é¡µé¢é¡¶éƒ¨ æŒ‡å®šé¡µé¢å›¾ç‰‡çš„å°ºå¯¸ é¡µé¢å¤´éƒ¨æ ‡æ˜æ–‡æ¡£ç¼–ç  ç²¾çµå›¾ å›¾ç‰‡æ‡’åŠ è½½ å‡å°‘httpè¯·æ±‚ Jsä»£ç å—ä¼˜åŒ–ï¼š ä¼˜åŒ–jsä»£ç é€»è¾‘ ä¼˜åŒ–å»ºè®®ï¼š é¿å…ä½¿ç”¨é€šé…ç¬¦ è®©csså¼•æ“å¿«é€Ÿè¾¨åˆ«è¯¥è§„åˆ™æ˜¯å¦é€‚ç”¨äºå½“å‰å…ƒç´ ï¼šå¤šç”¨idæˆ–classé€‰æ‹©ç¬¦ï¼Œå°‘ç”¨æ ‡ç­¾é€‰æ‹©ç¬¦ ä¸è¦ç”»è›‡æ·»è¶³æŠŠidå’Œclassæˆ–æ ‡ç­¾å’Œclassç­‰è¿ç€å†™ å°½é‡é¿å…ä½¿ç”¨åä»£é€‰æ‹©ç¬¦ï¼Œå»é™¤ä¸å¿…è¦çš„ç¥–å…ˆå…ƒç´ ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨classé€‰æ‹©ç¬¦æ¥æ›¿æ¢åä»£é€‰æ‹©ç¬¦ é¿å…æ¥å£é‡å¤è°ƒç”¨ï¼š åœ¨dataé‡Œå®šä¹‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼Œè®¾ä¸ºfalseï¼Œä½œä¸ºåŠ è½½æ ‡å¿— è¯·æ±‚ä¹‹å‰å°†çŠ¶æ€å˜æˆtrue,å†å»è¯·æ±‚æ¥å£ï¼Œè¿™æ—¶ä¸€ç›´æ˜¯åŠ è½½çŠ¶æ€ å½“æ¥å£å“åº”ä¹‹åä¸ç®¡æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥éƒ½å°†çŠ¶æ€å˜æˆfalse æ¯æ¬¡è¯·æ±‚ä¹‹å‰éƒ½åˆ¤æ–­ä¸€ä¸‹åŠ è½½çŠ¶æ€ï¼Œå¦‚æœæ˜¯trueç›´æ¥return æ€ä¹ˆä¼˜åŒ–æ•°æ®é€»è¾‘å¤„ç†ï¼š æŠŠé€»è¾‘è¾ƒå¤šçš„åŠŸèƒ½å†ç»†åˆ†ä¸€ä¸‹ï¼Œå°è£…å¥½ ç”¨æ•°ç»„çš„æ•°æ®å­˜å‚¨ åº”è¯¥ç®—æœ€ç®€ä¾¿çš„æ–¹å¼ï¼Œå»ºè®®æ— å¤æ‚çš„é€»è¾‘å¤„ç† è¿˜æ˜¯ä½¿ç”¨æ•°ç»„çš„filteræ¥è¿‡æ»¤æ•°æ® Webpacké¡¹ç›®ä¼˜åŒ– ä½¿ç”¨yarnè€Œä¸æ˜¯npm ç”±äºé¡¹ç›®ä½¿ç”¨npmå®‰è£…åŒ…ï¼Œå®¹æ˜“å¯¼è‡´åœ¨å¤šå…³è”ä¾èµ–å…³ç³»ä¸­ï¼Œå¾ˆå¯èƒ½æŸä¸ªåº“åœ¨æŒ‡å®šä¾èµ–æ—¶æ²¡æœ‰æŒ‡å®šç‰ˆæœ¬å·ï¼Œè¿›è€Œå¯¼è‡´ä¸åŒè®¾å¤‡ä¸Šæ‹‰åˆ°çš„packageç‰ˆæœ¬ä¸ä¸€ã€‚yarnä¸ç®¡å®‰è£…é¡ºåºå¦‚ä½•ï¼Œç›¸åŒçš„ä¾èµ–å…³ç³»å°†ä»¥ç›¸åŒçš„æ–¹å¼å®‰è£…åœ¨ä»»ä½•æœºå™¨ä¸Šã€‚å½“å…³è”ä¾èµ–ä¸­åŒ…æ‹¬å¯¹æŸä¸ªè½¯ä»¶åŒ…çš„é‡å¤å¼•ç”¨ï¼Œåœ¨å®é™…å®‰è£…æ—¶å°†å°½é‡é¿å…é‡å¤çš„åˆ›å»ºã€‚yarnä¸ä»…å¯ä»¥ç¼“å­˜å®ƒå®‰è£…è¿‡çš„åŒ…ï¼Œè€Œä¸”å®‰è£…é€Ÿåº¦å¿«ï¼Œä½¿ç”¨yarnæ— ç–‘å¯ä»¥å¾ˆå¤§ç¨‹åº¦æ”¹å–„å·¥ä½œæµå’Œå·¥ä½œæ•ˆç‡ åˆ é™¤æ²¡æœ‰ä½¿ç”¨çš„ä¾èµ– å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ç”±äºé¡¹ç›®äººå‘˜å˜åŠ¨æ¯”è¾ƒå¤§ï¼Œå‚ä¸é¡¹ç›®çš„äººä¹Ÿæ¯”è¾ƒå¤šï¼Œåœ¨åˆ†æé¡¹ç›®æ—¶ï¼Œæˆ‘å‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œè¯¸å¦‚ï¼šæœ‰äº›æ–‡ä»¶å¼•å…¥è¿›æ¥çš„åº“æ²¡æœ‰è¢«ä½¿ç”¨åˆ°ä¹Ÿæ²¡æœ‰åŠæ—¶åˆ é™¤ï¼Œä¹Ÿä¼šè¢«æ‰“åŒ…ä¸€éã€‚ ä¼˜åŒ–æ–¹æ¡ˆä¸æ€è·¯ é’ˆå¯¹webpackæ„å»ºå¤§è§„æ¨¡åº”ç”¨çš„ä¼˜åŒ–å¾€å¾€æ¯”è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬éœ€è¦æŠ½ä¸å‰¥èŒ§ï¼Œä»æ€§èƒ½æå‡ç‚¹ç€æ‰‹ï¼Œå¯èƒ½æ²¡æœ‰ä¸€å¥—é€šç”¨çš„æ–¹æ¡ˆï¼Œä½†å¤§ä½“ä¸Šçš„æ€è·¯æ˜¯é€šç”¨çš„ï¼Œæ ¸å¿ƒæ€è·¯å¯èƒ½åŒ…æ‹¬ä½†ä¸é™äºå¦‚ä¸‹ï¼š æ‹†åŒ…ï¼Œé™åˆ¶æ„å»ºèŒƒå›´ï¼Œå‡å°‘èµ„æºæœç´¢æ—¶é—´ï¼Œæ— å…³èµ„æºä¸è¦å‚ä¸æ„å»º ä½¿ç”¨å¢é‡æ„å»ºè€Œä¸æ˜¯å…¨é‡æ„å»º ä»webpackå­˜åœ¨çš„ä¸è¶³å‡ºå‘ï¼Œä¼˜åŒ–ä¸è¶³ï¼Œæå‡æ•ˆç‡ webpackæ‰“åŒ…ä¼˜åŒ– å‡å°æ‰“åŒ…æ–‡ä»¶ä½“ç§¯ webpack+reactçš„é¡¹ç›®æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ç»å¸¸åŠ¨åˆ™å‡ ç™¾kbç”šè‡³ä¸Šå…†ï¼Œç©¶å…¶åŸå› æœ‰ï¼š import cssæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šç›´æ¥ä½œä¸ºæ¨¡å—ä¸€å¹¶æ‰“åŒ…åˆ°jsæ–‡ä»¶ä¸­ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ extract-text-webpack-pluginï¼Œä½†ç¼ºç‚¹æ˜¯ä¼šäº§ç”Ÿæ›´é•¿æ—¶é—´çš„ç¼–è¯‘ï¼Œä¹Ÿæ²¡æœ‰HMRï¼Œè¿˜ä¼šå¢åŠ é¢å¤–çš„HTTPè¯·æ±‚ã€‚å¯¹äºcssæ–‡ä»¶ä¸æ˜¯å¾ˆå¤§çš„æƒ…å†µæœ€å¥½è¿˜æ˜¯ä¸è¦ä½¿ç”¨è¯¥æ’ä»¶ã€‚ æ‰€æœ‰jsæ¨¡å— + ä¾èµ–éƒ½ä¼šæ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡æå–å…¬å…±ä»£ç å— Reactã€ReactDOMæ–‡ä»¶è¿‡å¤§ï¼šæˆ‘ä»¬å¯ä»¥æŠŠReactã€ReactDOMç¼“å­˜èµ·æ¥ ä»£ç å‹ç¼© webpackæä¾›çš„UglifyJSæ’ä»¶ç”±äºé‡‡ç”¨å•çº¿ç¨‹å‹ç¼©ï¼Œé€Ÿåº¦å¾ˆæ…¢ ,webpack-parallel-uglify-pluginæ’ä»¶å¯ä»¥å¹¶è¡Œè¿è¡ŒUglifyJSæ’ä»¶ï¼Œè¿™å¯ä»¥æœ‰æ•ˆå‡å°‘æ„å»ºæ—¶é—´ï¼Œå½“ç„¶ï¼Œè¯¥æ’ä»¶åº”ç”¨äºç”Ÿäº§ç¯å¢ƒè€Œéå¼€å‘ç¯å¢ƒã€‚ ç¼“å­˜ä¸å¢é‡æ„å»º ç”±äºé¡¹ç›®ä¸­ä¸»è¦ä½¿ç”¨çš„æ˜¯react.jså’Œes6ï¼Œç»“åˆwebpackçš„babel-loaderåŠ è½½å™¨è¿›è¡Œç¼–è¯‘ï¼Œæ¯æ¬¡é‡æ–°æ„å»ºéƒ½éœ€è¦é‡æ–°ç¼–è¯‘ä¸€æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥é’ˆå¯¹è¿™ä¸ªè¿›è¡Œå¢é‡æ„å»ºï¼Œè€Œä¸éœ€è¦æ¯æ¬¡éƒ½å…¨é‡æ„å»ºã€‚ babel-loaderå¯ä»¥ç¼“å­˜å¤„ç†è¿‡çš„æ¨¡å—ï¼Œå¯¹äºæ²¡æœ‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶ä¸ä¼šå†é‡æ–°ç¼–è¯‘ï¼ŒcacheDirectoryæœ‰ç€2å€ä»¥ä¸Šçš„é€Ÿåº¦æå‡ï¼Œè¿™å¯¹äºrebuild æœ‰ç€éå¸¸å¤§çš„æ€§èƒ½æå‡ å…¶ä»–ï¼šæœåŠ¡ç«¯æ¸²æŸ“ï¼Œé¦–å±ä¼˜åŒ–ï¼Œå¼‚æ­¥åŠ è½½æ¨¡å—ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œä»£ç åˆ†å‰²ç­‰]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F07%2F18%2F%E8%87%AA%E6%88%91%E6%80%BB%E7%BB%93%E9%9D%A2%E8%AF%95%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ä¸€.åŸç”ŸJsåŸºç¡€ æŒæ¡æƒ…å†µâ€”â€”éå¸¸é‡è¦åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ« js åˆ†ä¸ºä¸¤ç§æ•°æ®ç±»å‹ï¼š åŸºæœ¬æ•°æ®ç±»å‹ï¼šNumberã€Stringã€Booleanã€Nullã€ Undefinedã€Symbolï¼ˆES6ï¼‰ï¼Œè¿™äº›ç±»å‹å¯ä»¥ç›´æ¥æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­çš„å®é™…å€¼ã€‚ å¼•ç”¨æ•°æ®ç±»å‹ï¼šObject ï¼ˆ åœ¨ js ä¸­é™¤äº†åŸºæœ¬æ•°æ®ç±»å‹ä»¥å¤–éƒ½æ˜¯å¯¹è±¡ï¼Œæ•°æ®æ˜¯å¯¹è±¡ï¼Œå‡½æ•°æ—¶å¯¹è±¡ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯å¯¹è±¡ï¼‰ æ ˆ(stack)å’Œå †ï¼ˆheapï¼‰ æ ˆï¼ˆstackï¼‰ä¸ºè‡ªåŠ¨åˆ†é…çš„ç©ºé—´ï¼Œå®ƒç”±ç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾ï¼Œå…ˆè¿›åå‡ºã€‚ å †ï¼ˆheapï¼‰åˆ™æ˜¯åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå¤§å°ä¹Ÿä¸ä¸€å®šä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œé˜Ÿåˆ—ä¼˜å…ˆï¼Œå…ˆè¿›å…ˆå‡ºã€‚ åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå­˜æ”¾åœ¨æ ˆä¸­ï¼‰ åŸºæœ¬æ•°æ®ç±»å‹æ˜¯æŒ‡å­˜æ”¾åœ¨æ ˆä¸­çš„ç®€å•æ•°æ®æ®µï¼Œæ•°æ®å¤§å°ç¡®å®šï¼Œå†…å­˜ç©ºé—´å¯ä»¥åˆ†é…ï¼Œå®ƒä»¬æ˜¯ç›´æ¥æŒ‰å€¼å­˜æ”¾çš„ï¼Œæ‰€ä»¥å¯ä»¥æŒ‰å€¼ç›´æ¥è®¿é—® å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆå­˜æ”¾åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œæ¯ä¸ªç©ºé—´å¤§å°ä¸ä¸€æ ·ï¼Œè¦æ ¹æ®æƒ…å†µè¿›è¡Œç‰¹å®šçš„é…ç½®ï¼‰ å¼•ç”¨ç±»å‹æ˜¯å­˜æ”¾åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œå˜é‡å…¶å®æ˜¯ä¿å­˜çš„åœ¨æ ˆå†…å­˜ä¸­çš„ä¸€ä¸ªæŒ‡é’ˆï¼ˆä¿å­˜çš„æ˜¯å †å†…å­˜ä¸­çš„å¼•ç”¨åœ°å€ï¼‰ï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å †å†…å­˜ å¼•ç”¨ç±»å‹æ•°æ®åœ¨æ ˆå†…å­˜ä¸­ä¿å­˜çš„å®é™…ä¸Šæ˜¯å¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„å¼•ç”¨åœ°å€ï¼Œé€šè¿‡è¿™ä¸ªåœ°å€å¯ä»¥å¿«é€ŸæŸ¥æ‰¾åˆ°ä¿å­˜åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ ä»ä¸€ä¸ªå‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»å‹çš„å€¼ï¼Œå¤åˆ¶çš„å…¶å®æ˜¯æŒ‡é’ˆï¼Œå› æ­¤ä¸¤ä¸ªå˜é‡æœ€ç»ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚å³å¤åˆ¶çš„æ˜¯æ ˆä¸­çš„åœ°å€è€Œä¸æ˜¯å †ä¸­çš„å¯¹è±¡ æ·±æ‹·è´å’Œæµ…æ‹·è´ç®€å•è§£é‡Š æµ…æ‹·è´å’Œæ·±æ‹·è´éƒ½åªé’ˆå¯¹äºå¼•ç”¨æ•°æ®ç±»å‹ æµ…æ‹·è´åªå¤åˆ¶æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡å…±äº«åŒä¸€å—å†…å­˜ æ·±æ‹·è´ä¼šå¦å¤–åˆ›é€ ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡è·ŸåŸå¯¹è±¡ä¸å…±äº«å†…å­˜ï¼Œä¿®æ”¹æ–°å¯¹è±¡ä¸ä¼šæ”¹åˆ°åŸå¯¹è±¡ æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ« æµ…æ‹·è´å€¼å¤åˆ¶å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§ï¼Œæ·±æ‹·è´å¯ä»¥å¯¹å¯¹è±¡çš„å±æ€§è¿›è¡Œé€’å½’å¤åˆ¶ js æ·±æ‹·è´ æ‰‹åŠ¨å®ç°æ·±æ‹·è´ 1234567891011let obj1 = &#123; a: 1, b: 2&#125;let obj2 = &#123; a: obj1.a, b: obj1.b&#125;obj2.a = 3;alert(obj1.a); // 1alert(obj2.a); // 3 1234567891011let obj1 = &#123; a: &#123; b: 2 &#125;&#125;let obj2 = &#123; a: obj1.a&#125;obj2.a.b = 3;console.log(obj1.a.b); // 3console.log(obj2.a.b); // 3 é€’å½’å®ç°æ·±æ‹·è´ 12345678910111213141516171819202122232425262728293031function deepCopy(obj1) &#123; var obj2 = Array.isArray(obj1) ? [] : &#123;&#125;; if (obj1 &amp;&amp; typeof obj1 === "object") &#123; for (var i in obj1) &#123; if (obj1.hasOwnProperty(i)) &#123; // å¦‚æœå­å±æ€§ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œé€’å½’å¤åˆ¶ if (obj1[i] &amp;&amp; typeof obj1[i] === "object") &#123; obj2[i] = deepCopy(obj1[i]); &#125; else &#123; // å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåªæ˜¯ç®€å•çš„å¤åˆ¶ obj2[i] = obj1[i]; &#125; &#125; &#125; &#125; return obj2; &#125; var obj1 = &#123; a: 1, b: 2, c: &#123; d: 3 &#125; &#125; var obj2 = deepCopy(obj1); obj2.a = 3; obj2.c.d = 4; alert(obj1.a); // 1 alert(obj2.a); // 3 alert(obj1.c.d); // 3 alert(obj2.c.d); // 4 ç¼ºé™·ï¼šå½“é‡åˆ°äº’ç›¸å¼•ç”¨çš„å¯¹è±¡ï¼Œä¼šå‡ºç°æ­»å¾ªç¯çš„æƒ…å†µï¼Œä¸ºäº†é¿å…ç›¸äº’å¼•ç”¨çš„å¯¹è±¡å¯¼è‡´æ­»å¾ªç¯çš„æƒ…å†µï¼Œåˆ™åº”è¯¥åœ¨éå†çš„æ—¶å€™åˆ¤æ–­æ˜¯å¦ç›¸äº’å¼•ç”¨å¯¹è±¡ï¼Œå¦‚æœæ˜¯åˆ™é€€å‡ºå¾ªç¯ 123456789101112131415161718192021222324252627282930313233343536function deepCopy(obj1) &#123; var obj2 = Array.isArray(obj1) ? [] : &#123;&#125;; if (obj1 &amp;&amp; typeof obj1 === "object") &#123; for (var i in obj1) &#123; var prop = obj1[i]; // é¿å…ç›¸äº’å¼•ç”¨é€ æˆæ­»å¾ªç¯ï¼Œå¦‚obj1.a=obj if (prop == obj1) &#123; continue; &#125; if (obj1.hasOwnProperty(i)) &#123; // å¦‚æœå­å±æ€§ä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œé€’å½’å¤åˆ¶ if (prop &amp;&amp; typeof prop === "object") &#123; obj2[i] = (prop.constructor === Array) ? [] : &#123;&#125;; arguments.callee(prop, obj2[i]); // é€’å½’è°ƒç”¨ &#125; else &#123; // å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œåªæ˜¯ç®€å•çš„å¤åˆ¶ obj2[i] = prop; &#125; &#125; &#125; &#125; return obj2; &#125; var obj1 = &#123; a: 1, b: 2, c: &#123; d: 3 &#125; &#125; var obj2 = deepCopy(obj1); obj2.a = 3; obj2.c.d = 4; alert(obj1.a); // 1 alert(obj2.a); // 3 alert(obj1.c.d); // 3 alert(obj2.c.d); // 4 ä½¿ç”¨ JSON.stringify å’Œ JSON.parse å®ç°æ·±æ‹·è´ï¼šJSON.stringify æŠŠå¯¹è±¡è½¬æˆå­—ç¬¦ä¸²ï¼Œå†ç”¨JSON.parse æŠŠå­—ç¬¦ä¸²è½¬æˆæ–°çš„å¯¹è±¡ 12345678910function deepCopy(obj1)&#123; let _obj = JSON.stringify(obj1); let obj2 = JSON.parse(_obj); return obj2; &#125; var a = [1, [1, 2], 3, 4]; var b = deepCopy(a); b[1][0] = 2; alert(a); // 1,1,2,3,4 alert(b); // 2,2,2,3,4 å®ƒä¼šæŠ›å¼ƒå¯¹è±¡çš„ constructor ï¼Œæ·±æ‹·è´ä¹‹åï¼Œä¸ç®¡è¿™ä¸ªå¯¹è±¡åŸæ¥çš„æ„é€ å‡½æ•°æ—¶ä»€ä¹ˆï¼Œåœ¨æ·±æ‹·è´ä¹‹åéƒ½ä¼šå˜æˆ Object ï¼›è¿™ç§æ–¹æ³•èƒ½æ­£ç¡®å¤„ç†çš„å¯¹è±¡åªæœ‰ Numberï¼ŒStringï¼ŒBooleanï¼ŒArrayï¼Œæ‰å¹³å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰å¯ä»¥è½¬æˆ JSON æ ¼å¼çš„å¯¹è±¡æ‰å¯ä»¥è¿™æ ·ç”¨ã€‚åƒ function æ²¡åŠæ³•è½¬æˆ JSONã€‚ 12345678let obj1 = &#123; fun:function()&#123; alert(123); &#125; &#125; let obj2 = JSON.parse(JSON.stringify(obj1)); console.log(typeof obj1.fun); // function console.log(typeof obj2.fun); // undefined çƒ­é—¨çš„å‡½æ•°åº“ lodash ï¼Œä¹Ÿæœ‰æä¾› _.cloneDeep ç”¨æ¥åšæ·±æ‹·è´ï¼› 123456789var _ = require('lodash'); var obj1 = &#123; a: 1, b: &#123; f: &#123; g: 1 &#125; &#125;, c: [1, 2, 3] &#125;; var obj2 = _.cloneDeep(obj1); console.log(obj1.b.f === obj2.b.f); // false jquery å®ç°æ·±æ‹·è´ï¼Œjqueryæä¾›ä¸€ä¸ª $.extendå¯ä»¥ç”¨æ¥åšæ·±æ‹·è´ 123456789101112var $ = require('jquery'); var obj1 = &#123; a: 1, b: &#123; f: &#123; g: 1 &#125; &#125;, c: [1, 2, 3] &#125;; var obj2 = $.extend(true, &#123;&#125;, obj1); console.log(obj1.b.f === obj2.b.f); // false slice()å’Œconcat()éƒ½å¹¶éæ·±æ‹·è´ 123456// å¯¹åªæœ‰ä¸€çº§å±æ€§å€¼çš„æ•°ç»„å¯¹è±¡ä½¿ç”¨slice var a = [1,2,3,4]; var b = a.slice(); b[0] = 2; alert(a); // 1,2,3,4 alert(b); // 2,2,3,4 123456// å¯¹æœ‰å¤šå±‚å±æ€§çš„æ•°ç»„å¯¹è±¡ä½¿ç”¨slice var a = [1,[1,2],3,4]; var b = a.slice(); b[1][0] = 2; alert(a); // 1,2,2,3,4 alert(b); // 1,2,2,3,4 å‚è€ƒèµ„æ–™ï¼šhttps://www.jianshu.com/p/cf1e9d7e94fbåŠhttps://www.cnblogs.com/echolun/p/7889848.html å®ç°ç»§æ‰¿çš„å‡ ç§æ–¹å¼åŠå·¥ä½œåŸç†js ç»§æ‰¿çš„å®ç°æ–¹å¼ æ—¢ç„¶è¦å®ç°ç»§æ‰¿ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªçˆ¶ç±» 12345678910111213// å®šä¹‰ä¸€ä¸ªåŠ¨ç‰©ç±»function Animal (name) &#123; // å±æ€§ this.name = name || 'Animal'; // å®ä¾‹æ–¹æ³• this.sleep = function()&#123; console.log(this.name + 'æ­£åœ¨ç¡è§‰ï¼'); &#125;&#125;// åŸå‹æ–¹æ³•Animal.prototype.eat = function(food) &#123; console.log(this.name + 'æ­£åœ¨åƒï¼š' + food);&#125;; åŸå‹é“¾ç»§æ‰¿ æ ¸å¿ƒï¼šå°†çˆ¶ç±»çš„å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹ 123456789101112function Cat()&#123; &#125;Cat.prototype = new Animal();Cat.prototype.name = 'cat';// Test Codevar cat = new Cat();console.log(cat.name);console.log(cat.eat('fish'));console.log(cat.sleep());console.log(cat instanceof Animal); //true console.log(cat instanceof Cat); //true ç‰¹ç‚¹ï¼š éå¸¸çº¯ç²¹çš„ç»§æ‰¿å…³ç³»ï¼Œå®ä¾‹æ˜¯å­ç±»çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»çš„å®ä¾‹ã€‚ çˆ¶ç±»æ–°å¢åŸå‹æ–¹æ³•/åŸå‹å±æ€§ï¼Œå­ç±»éƒ½èƒ½è®¿é—®åˆ°ã€‚ ç®€å•ï¼Œæ˜“äºå®ç°ã€‚ ç¼ºç‚¹ï¼š è¦æƒ³ä¸ºå­ç±»æ–°å¢å±æ€§å’Œæ–¹æ³•ï¼Œå¿…é¡»è¦åœ¨new Animal()è¿™æ ·çš„è¯­å¥ä¹‹åæ‰§è¡Œï¼Œä¸èƒ½æ”¾åˆ°æ„é€ å™¨ä¸­ã€‚ æ— æ³•å®ç°å¤šç»§æ‰¿ã€‚ æ¥è‡ªåŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº« åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œæ— æ³•å‘æ„é€ å‡½æ•°ä¼ å‚ æ„é€ ç»§æ‰¿ æ ¸å¿ƒï¼šä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰äºæ˜¯å¤åˆ¶çˆ¶ç±»çš„å®ä¾‹å±æ€§ç»™å­ç±»ï¼ˆæ²¡ç”¨åˆ°åŸå‹ï¼‰ 1234567891011function Cat(name)&#123; Animal.call(this); this.name = name || 'Tom';&#125;// Test Codevar cat = new Cat();console.log(cat.name);console.log(cat.sleep());console.log(cat instanceof Animal); // falseconsole.log(cat instanceof Cat); // true ç‰¹ç‚¹ï¼š è§£å†³äº†å­ç±»æ— æ³•å…±äº«çˆ¶ç±»å¼•ç”¨å±æ€§çš„é—®é¢˜ åˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•° å¯ä»¥å®ç°å¤šç»§æ‰¿ï¼ˆcall å¤šä¸ªçˆ¶ç±»å¯¹è±¡ï¼‰ ç¼ºç‚¹ï¼š å®ä¾‹å¹¶ä¸æ˜¯çˆ¶ç±»çš„å®ä¾‹ï¼Œåªæ˜¯å­ç±»çš„å®ä¾‹ åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³• æ— æ³•å®ç°å‡½æ•°å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ å®ä¾‹ç»§æ‰¿ æ ¸å¿ƒï¼šä¸ºçˆ¶ç±»å®ä¾‹æ·»åŠ æ–°ç‰¹æ€§ï¼Œä½œä¸ºå­ç±»å®ä¾‹è¿”å› 123456789101112function Cat(name)&#123; var instance = new Animal(); instance.name = name || 'Tom'; return instance;&#125;// Test Codevar cat = new Cat();console.log(cat.name);console.log(cat.sleep());console.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); // false ç‰¹ç‚¹ï¼š ä¸é™åˆ¶è°ƒç”¨æ–¹å¼ï¼Œä¸ç®¡æ˜¯new å­ç±»()è¿˜æ˜¯å­ç±»()è¿”å›çš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„æ•ˆæœ ç¼ºç‚¹ï¼š å®ä¾‹æ—¶çˆ¶ç±»çš„å®ä¾‹ï¼Œä¸æ˜¯å­ç±»çš„å®ä¾‹ ä¸æ”¯æŒå¤šç»§æ‰¿ æ‹·è´ç»§æ‰¿ 1234567891011121314function Cat(name)&#123; var animal = new Animal(); for(var p in animal)&#123; Cat.prototype[p] = animal[p]; &#125; Cat.prototype.name = name || 'Tom';&#125;// Test Codevar cat = new Cat();console.log(cat.name);console.log(cat.sleep());console.log(cat instanceof Animal); // falseconsole.log(cat instanceof Cat); // true ç‰¹ç‚¹ï¼š æ”¯æŒå¤šç»§æ‰¿ ç¼ºç‚¹ï¼š æ•ˆç‡è¾ƒä½ï¼Œå†…å­˜å ç”¨é«˜ï¼ˆå› ä¸ºè¦æ‹·è´çˆ¶ç±»çš„å±æ€§ï¼‰ æ— æ³•è·å–çˆ¶ç±»ä¸å¯æšä¸¾çš„æ–¹æ³•ï¼ˆä¸å¯æšä¸¾æ–¹æ³•ï¼Œè¡¥è¯¾ä½¿ç”¨ for in è®¿é—®åˆ°ï¼‰ ç»„åˆç»§æ‰¿ æ ¸å¿ƒï¼šé€šè¿‡è°ƒç”¨çˆ¶ç±»å‡½æ•°æ„é€ ï¼Œç»§æ‰¿å¼—é›·å¾·å±æ€§å¹¶ä¿ç•™ä¼ å‚çš„æœ‰ç‚¹ï¼Œç„¶åé€šè¿‡å°†çˆ¶ç±»å®ä¾‹ä½œä¸ºå­ç±»åŸå‹ï¼Œå®ç°å‡½æ•°å¤ç”¨ 12345678910111213141516function Cat(name)&#123; Animal.call(this); this.name = name || 'Tom';&#125;Cat.prototype = new Animal();//ç»„åˆç»§æ‰¿éœ€è¦ä¿®å¤æ„é€ å‡½æ•°æŒ‡å‘çš„ã€‚Cat.prototype.constructor = Cat;// Test Codevar cat = new Cat();console.log(cat.name);console.log(cat.sleep());console.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); // true ç‰¹ç‚¹ï¼š å¯ä»¥ç»§æ‰¿å®ä¾‹å±æ€§/æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿åŸå‹å±æ€§/æ–¹æ³• å³æ˜¯å­ç±»å®ä¾‹ï¼Œä¹Ÿæ˜¯çˆ¶ç±»å®ä¾‹ ä¸å­˜åœ¨å¼•ç”¨å±æ€§å…±äº«é—®é¢˜ å¯ä»¥ä¼ å‚ å‡½æ•°å¯å¤ç”¨ ç¼ºç‚¹ï¼š è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œç”Ÿæˆäº†ä¸¤ä»½å®ä¾‹ï¼ˆå­ç±»å®ä¾‹å°†å­ç±»åŸå‹ä¸Šçš„é‚£ä»½å±è”½äº†ï¼‰ å¯„ç”Ÿç»„åˆç»§æ‰¿ æ ¸å¿ƒï¼šé€šè¿‡å¯„ç”Ÿæ–¹å¼ï¼Œç æ‰çˆ¶äº²çš„å®ä¾‹å±æ€§ï¼Œåœ¨è°ƒç”¨ä¸¤æ¬¡çˆ¶ç±»çš„æ„é€ çš„æ—¶å€™ï¼Œå°±ä¸ä¼šåˆå§‹åŒ–ä¸¤æ¬¡å®ä¾‹æ–¹æ³•/å±æ€§ï¼Œé¿å…äº†ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹ 12345678910111213141516171819function Cat(name)&#123; Animal.call(this); this.name = name || 'Tom';&#125;(function()&#123; // åˆ›å»ºä¸€ä¸ªæ²¡æœ‰å®ä¾‹æ–¹æ³•çš„ç±» var Super = function()&#123;&#125;; Super.prototype = Animal.prototype; //å°†å®ä¾‹ä½œä¸ºå­ç±»çš„åŸå‹ Cat.prototype = new Super();&#125;)();// Test Codevar cat = new Cat();console.log(cat.name);console.log(cat.sleep());console.log(cat instanceof Animal); // trueconsole.log(cat instanceof Cat); //trueCat.prototype.constructor = Cat; // éœ€è¦ä¿®å¤ä¸‹æ„é€ å‡½æ•° ç‰¹ç‚¹ï¼š å ªç§°å®Œç¾ ç¼ºç‚¹ï¼š å®ç°è¾ƒä¸ºå¤æ‚ å‚è€ƒèµ„æ–™ï¼šhttps://www.cnblogs.com/humin/p/4556820.html é—­åŒ…çš„ç†è§£é—­åŒ…æŒ‡çš„æ˜¯ï¼šèƒ½å¤Ÿè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸçš„å˜é‡çš„å‡½æ•°ã€‚æ¸…æ™°çš„è®²ï¼šé—­åŒ…å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°èƒ½å¤Ÿè®¿é—®å…¶ä»–å‡½æ•°çš„ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚ é—­åŒ…çš„ç‰¹æ€§ï¼š å‡½æ•°åµŒå¥—å‡½æ•° å‡½æ•°å†…éƒ¨å¯ä»¥å¼•ç”¨å‡½æ•°å¤–éƒ¨çš„å‚æ•°å’Œå˜é‡ å‚æ•°å’Œå˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ é—­åŒ…çš„å¥½å¤„ï¼š ä¿æŠ¤å‡½æ•°å†…çš„å˜é‡å®‰å…¨ï¼Œå®ç°å°è£…ï¼Œé˜²æ­¢å˜é‡æµå…¥å…¶ä»–ç¯å¢ƒå‘ç”Ÿå‘½åå†²çªã€‚ åœ¨å†…å­˜ä¸­ç»´æŒä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥åšç¼“å­˜ï¼ˆä½†ä½¿ç”¨å¤šäº†åŒæ—¶ä¹Ÿæ˜¯ä¸€é¡¹ç¼ºç‚¹ï¼Œæ¶ˆè€—å†…å­˜ï¼‰ã€‚ åŒ¿åè‡ªæ‰§è¡Œå‡½æ•°å¯ä»¥å‡å°‘å†…å­˜æ¶ˆè€—ã€‚ é—­åŒ…çš„åå¤„ï¼š è¢«å¼•ç”¨çš„ç§æœ‰å˜é‡ä¸èƒ½è¢«é”€æ¯ï¼Œå¢å¤§äº†å†…å­˜æ¶ˆè€—ï¼Œé€ æˆå†…å­˜æ³„éœ²ï¼Œè§£å†³æ–¹æ³•æ˜¯å¯ä»¥åœ¨ä½¿ç”¨å®Œå˜é‡åæ‰‹åŠ¨ä¸ºå®ƒèµ‹å€¼ä¸º null ã€‚ ç”±äºé—­åŒ…æ¶‰åŠè·¨åŸŸè®¿é—®ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æ€§èƒ½æŸå¤±ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠè·¨ä½œç”¨åŸŸå˜é‡å­˜å‚¨åœ¨å±€éƒ¨å˜é‡ä¸­ï¼Œç„¶åç›´æ¥è®¿é—®å±€éƒ¨å˜é‡ï¼Œæ¥å‡è½»å¯¹æ‰§è¡Œé€Ÿåº¦çš„å½±å“ã€‚ å‚è€ƒèµ„æ–™ï¼šhttps://blog.csdn.net/dovlie/article/details/76339244 åŠ https://www.jianshu.com/p/26c81fde22fb é¢„è§£æå’Œå˜é‡æå‡ é¢„è§£æï¼š å½“ JavaScript å¼•æ“è§£æè„šæœ¬æ—¶ï¼Œå®ƒä¼šåœ¨é¢„ç¼–è¯‘å¯¹æ‰€æœ‰å£°æ˜çš„å˜é‡å’Œå‡½æ•°è¿›è¡Œå¤„ç†ï¼ æŠŠå˜é‡çš„å£°æ˜æå‰â€”-æå‰åˆ°å½“å‰æ‰€åœ¨çš„ä½œç”¨åŸŸçš„æœ€ä¸Šé¢ å‡½æ•°çš„å£°æ˜ä¹Ÿä¼šè¢«æå‰â€”-æå‰åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€ä¸Šé¢ é¢„è§£ææ³¨æ„äº‹é¡¹ï¼š é¢„è§£æä¸­ï¼Œå˜é‡çš„æå‡ï¼Œåªä¼šåœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­æå‡ï¼Œæå‰åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€ä¸Šé¢ å‡½æ•°çš„å˜é‡åªä¼šæå‰åˆ°å‡½æ•°çš„ä½œç”¨åŸŸçš„æœ€å‰é¢ï¼Œä¸ä¼šå‡ºå» é¢„è§£æä¼šåˆ†æ®µï¼ˆå¤šå¯¹çš„ Script æ ‡ç­¾ä¸­å‡½æ•°é‡åï¼Œé¢„è§£æçš„æ—¶å€™ä¸ä¼šå†²çªï¼‰ å˜é‡æå‡ï¼š å˜é‡æå‡çš„åªæ˜¯å®šä¹‰ï¼Œèµ‹å€¼ä¸ä¼šè¢«æå‡ï¼Œå‡½æ•°æå‡ä¹Ÿæ˜¯æå‡å®šä¹‰ï¼Œèµ‹å€¼ä¸ä¼šæå‡ å‡½æ•°åå­—å’Œå˜é‡çš„åå­—ä¸€æ ·ä¹Ÿä¼šè¢«è¦†ç›–ï¼Œå‡½æ•°ä¼˜å…ˆçº§é«˜ å¦‚æœæ˜¯é€šè¿‡ var å‡½æ•°å = function(){} å®šä¹‰å‡½æ•°ï¼Œèµ‹å€¼éƒ¨åˆ†çš„åŒ¿åå‡½æ•°ä¸ä¼šè¢«æå‡ var ã€ let ä¸ const var å£°æ˜çš„å˜é‡ä¼šæŒ‚è½½åœ¨ window ä¸Šï¼Œè€Œ let ä¸ const å£°æ˜çš„å˜é‡ä¸ä¼šã€‚ var å£°æ˜å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œ let å’Œ const ä¸å­˜åœ¨å˜é‡æå‡ã€‚ let å’Œ const å£°æ˜å½¢æˆå—çº§ä½œç”¨åŸŸã€‚ åŒä¸€ä½œç”¨åŸŸä¸‹ let å’Œ const ä¸èƒ½å£°æ˜åŒåå˜é‡ï¼Œè€Œ var å¯ä»¥ã€‚ åœ¨å½“å‰å—çº§ä½œç”¨åŸŸä¸­ä½¿ç”¨ let / const å£°æ˜çš„æƒ…å†µä¸‹ï¼Œèµ‹å€¼è¦åœ¨å£°æ˜ä¹‹åï¼Œå¦åˆ™ä¼šæš‚æ—¶æ€§æ­»åŒºã€‚ constä¸€æ—¦å£°æ˜å¿…é¡»èµ‹å€¼ï¼Œä¸èƒ½ä½¿ç”¨ null å ä½ ï¼Œå£°æ˜åä¸èƒ½ä¿®æ”¹ï¼Œå¦‚æœå£°æ˜çš„æ˜¯å¤åˆç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥ä¿®æ”¹å…¶å±æ€§ã€‚ this çš„ç†è§£ this æ˜¯åœ¨å‡½æ•°è¿è¡Œæ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ this æŒ‡çš„æ˜¯ç›´æ¥è°ƒç”¨å½“å‰æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰çš„é‚£ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´å‡½æ•°åœ¨è°é‚£è¢«è°ƒç”¨ï¼Œthis å°±æŒ‡å‘è° å½“å‡½æ•°é‡ŒåµŒå¥—å‡½æ•°çš„æ—¶å€™ï¼Œå¤–å±‚å‡½æ•°çš„é‡Œé¢çš„ this æŒ‡å‘ window åœ¨å…¨å±€ç¯å¢ƒä½¿ç”¨ this ï¼Œå®ƒæŒ‡çš„å°±æ˜¯é¡¶å±‚çš„å¯¹è±¡ window æ„é€ å‡½æ•°ä¸­çš„ this æŒ‡çš„æ˜¯å®ä¾‹å¯¹è±¡ å¯¹è±¡çš„æ–¹æ³•åŒ…å« this ï¼Œthis çš„æŒ‡å‘å°±æ˜¯æ–¹æ³•è¿è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè¯¥æ–¹æ³•èµ‹å€¼ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼Œä¼šæ”¹å˜ this æŒ‡å‘ setTimeout/setInterval ä¸­çš„ this æŒ‡å‘ window ä¸¥æ ¼æ¨¡å¼ä¸‹çš„ this å…¨å±€ä½œç”¨åŸŸçš„ this æŒ‡å‘ window å…¨å±€ä½œç”¨åŸŸä¸­å‡½æ•°ä¸­çš„ this æŒ‡å‘ underfined å¯¹è±¡çš„æ–¹æ³•ä¸­çš„ this æŒ‡å‘è¯¥å¯¹è±¡ æ„é€ å‡½æ•°ä¸­çš„ this æŒ‡å‘ new å‡ºæ¥çš„å¯¹è±¡ ç®­å¤´å‡½æ•°ä¸­çš„ this æ˜¯åœ¨å®šä¹‰å‡½æ•°æ—¶ç»‘å®šï¼Œå®ƒä¼šæ•è·å…¶æ‰€åœ¨çš„ä¸Šä¸‹æ–‡çš„ this ä½œä¸ºè‡ªå·±çš„ this è€Œä¸åƒæ™®é€šå‡½æ•°é‚£æ ·æ˜¯å‡½æ•°æ‰§è¡Œæ—¶ç»‘å®šï¼Œç®­å¤´å‡½æ•° this æŒ‡å‘å®ƒå®šä¹‰çš„ä¸Šä¸‹æ–‡ï¼Œè€Œæ™®é€šå‡½æ•° this æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡ æ”¹å˜ this æŒ‡å‘çš„æ–¹æ³• ä½¿ç”¨å±€éƒ¨å˜é‡æ¥ä»£æ›¿thisæŒ‡é’ˆ 1234567891011var name = "zhar";var obj = &#123; name : "zhar", say : function()&#123; var _this = this;//ä½¿ç”¨ä¸€ä¸ªå˜é‡æŒ‡å‘ this setTimeout(function()&#123; console.log(_this.name); &#125;,0); &#125;&#125;obj.say(); call(), apply()å’Œbind()æ˜¯Function.prototypeä¸‹çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ç”¨äºæ”¹å˜å‡½æ•°è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œæœ€ç»ˆçš„è¿”å›å€¼æ˜¯ä½ è°ƒç”¨çš„æ–¹æ³•çš„è¿”å›å€¼ï¼Œè‹¥è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼Œåˆ™è¿”å›undefinedã€‚ apply() çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯nullï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºnullæˆ–è€…undefinedæ—¶ä¼šè‡ªåŠ¨æ›¿æ¢ä¸ºæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œapply()çš„ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ•°ç»„æˆ–ç±»æ•°ç»„ã€‚ call()æ˜¯apply()çš„ä¸€é¢—è¯­æ³•ç³–ï¼Œä½œç”¨å’Œapply()ä¸€æ ·ï¼ŒåŒæ ·å¯å®ç°ç»§æ‰¿ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨äºcall()æ¥æ”¶çš„æ˜¯å‚æ•°åˆ—è¡¨ï¼Œè€Œapply()åˆ™æ¥æ”¶å‚æ•°æ•°ç»„ã€‚ bind()çš„ä½œç”¨ä¸call()å’Œapply()ä¸€æ ·ï¼Œéƒ½æ˜¯å¯ä»¥æ”¹å˜å‡½æ•°è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼ŒåŒºåˆ«æ˜¯call()å’Œapply()åœ¨è°ƒç”¨å‡½æ•°ä¹‹åä¼šç«‹å³æ‰§è¡Œï¼Œè€Œbind()æ–¹æ³•è°ƒç”¨å¹¶æ”¹å˜å‡½æ•°è¿è¡Œæ—¶ä¸Šä¸‹æ–‡åï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä¾›æˆ‘ä»¬éœ€è¦æ—¶å†è°ƒç”¨ã€‚ å¦‚ä½•é€‰ç”¨ å¦‚æœä¸éœ€è¦å…³å¿ƒå…·ä½“æœ‰å¤šå°‘å‚æ•°è¢«ä¼ å…¥å‡½æ•°ï¼Œé€‰ç”¨apply()ï¼› å¦‚æœç¡®å®šå‡½æ•°å¯æ¥æ”¶å¤šå°‘ä¸ªå‚æ•°ï¼Œå¹¶ä¸”æƒ³ä¸€ç›®äº†ç„¶è¡¨è¾¾å½¢å‚å’Œå®å‚çš„å¯¹åº”å…³ç³»ï¼Œç”¨call()ï¼› å¦‚æœæˆ‘ä»¬æƒ³è¦å°†æ¥å†è°ƒç”¨æ–¹æ³•ï¼Œä¸éœ€ç«‹å³å¾—åˆ°å‡½æ•°è¿”å›ç»“æœï¼Œåˆ™ä½¿ç”¨bind(); æ€»ç»“ call()ã€apply()å’Œbind()éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå¯å€ŸåŠ©å®ƒä»¬å®ç°ç»§æ‰¿ï¼› call()å’Œapply()å”¯ä¸€åŒºåˆ«æ˜¯å‚æ•°ä¸ä¸€æ ·ï¼Œcall()æ˜¯apply()çš„è¯­æ³•ç³–ï¼› bind()æ˜¯è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œä¾›ä»¥åè°ƒç”¨ï¼Œè€Œapply()å’Œcall()æ˜¯ç«‹å³è°ƒç”¨ã€‚ å‚è€ƒèµ„æ–™ https://www.jianshu.com/p/8d357981dedb / https://blog.csdn.net/lizhengxv/article/details/84639342 / https://www.jianshu.com/p/9b91f3df05b6 / https://www.cnblogs.com/hjson/archive/2019/01/11/10254555.html ï¼ˆæœ€å¥½ï¼‰ / https://baijiahao.baidu.com/s?id=1617122883116378490&amp;wfr=spider&amp;for=pc äº‹ä»¶å†’æ³¡çš„ä¸‰ä¸ªé˜¶æ®µ å¦‚ä½•é˜»æ­¢äº‹ä»¶å†’æ³¡çš„ä¸‰ä¸ªé˜¶æ®µ å½“ä¸€ä¸ª DOM äº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå®ƒä¸ä»…ä»…åªæ˜¯å•çº¯çš„åœ¨æœ¬èº«å¯¹è±¡ä¸Šè§¦å‘ä¸€æ¬¡ï¼Œè€Œæ˜¯ä¼šç»å†ä¸‰ä¸ªä¸åŒçš„é˜¶æ®µ æ•è·é˜¶æ®µï¼šå…ˆç”±æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹ document å¾€äº‹ä»¶è§¦å‘å¯¹è±¡ï¼Œä»å¤–å‘å†…æ•è·äº‹ä»¶å¯¹è±¡ï¼› ç›®æ ‡é˜¶æ®µï¼šåˆ°è¾¾ç›®æ ‡äº‹ä»¶ä½ç½®ï¼ˆäº‹å‘åœ°ï¼‰ï¼Œè§¦å‘äº‹ä»¶ï¼› å†’æ³¡é˜¶æ®µï¼šå†ä»ç›®æ ‡äº‹ä»¶ä½ç½®å¾€æ–‡æ¡£æ ¹èŠ‚ç‚¹æ–¹å‘å›æº¯ï¼Œä»å†…å‘å¤–å†’æ³¡æ—¶é—´2å¯¹è±¡ï¼› é˜»æ­¢äº‹ä»¶å†’æ³¡çš„æ–¹æ³• åœ¨é™¤ IE ä»¥å¤–çš„å…¶ä»–æµè§ˆå™¨ä¸­é€šè¿‡ e.stopPropagation() æ–¹å¼é˜²æ­¢äº‹ä»¶çš„å†’æ³¡ï¼Œåœ¨æ”¯æŒè¯¥æ–¹æ³•çš„æµè§ˆå™¨ä¸­è¿˜æœ‰ä¸€ä¸ªæ–¹æ³• stopimmediatePropagation() ï¼Œè¯¥æ–¹æ³•ä¸ä»…ä¼šé˜»æ­¢äº‹ä»¶åƒç¥–å…ƒç´ å†’æ³¡ï¼ŒåŒæ—¶ä¹Ÿä¼šé˜»æ­¢åŒä¸€ä¸ªèŠ‚ç‚¹ä¸ŠåŒä¸€ä¸ªæ—¶é—´çš„å…¶ä»–äº‹ä»¶å¤„ç†ç¨‹åºçš„æ‰§è¡Œï¼Œè¯¥æ–¹æ³•æ¯”å‰è€…é˜»æ­¢çš„æ›´å½»åº• åœ¨ IE æµè§ˆå™¨ä¸­é€šè¿‡ e.cancelBubble = true ï¼Œé˜»æ­¢äº‹ä»¶å†’æ³¡ é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º åœ¨ IE æµè§ˆå™¨ä¸­é€šè¿‡ e.returnValue = false; åœ¨å…¶ä»–æµè§ˆå™¨ä¸­è°ƒç”¨æ–¹æ³• e.preventDefault(); åœ¨ jQuery ä¸­é€šè¿‡åœ¨äº‹ä»¶å›æº¯åˆ©ç”¨ return false ï¼ˆå…¶å®è´¨åˆ©ç”¨äº†ä¸Šé¢çš„ä¸¤ç§æ–¹å¼ï¼‰å®ç°é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º ajaxçš„ä½œç”¨ ä½¿ç”¨æ­¥éª¤ å¯¹æ¯” fetch axios ä»€ä¹ˆæ˜¯ ajax ï¼Ÿ AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ AJAX ä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ä½¿ç”¨ç°æœ‰æ ‡å‡†çš„æ–°æ–¹æ³•ã€‚ AJAX æ˜¯ä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶æ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„è‰ºæœ¯ï¼Œåœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ã€‚ ajax ä½¿ç”¨æ­¥éª¤ åˆ›å»º XMLHttpRequest () å¯¹è±¡ï¼Œvar xmlhttp = new XMLHttpRequest ()ï¼Œ XMLHttpRequest å¯¹è±¡ç”¨æ¥å’ŒæœåŠ¡å™¨äº¤æ¢æ•°æ®ã€‚ ä½¿ç”¨ XMLHttpRequest å¯¹è±¡çš„ open() å’Œ send() æ–¹æ³•å‘é€èµ„æºè¯·æ±‚ç»™æœåŠ¡å™¨ã€‚ xml.open ( method , url , async ) methodåŒ…æ‹¬ get å’Œ post ï¼Œurl ä¸»è¦æ˜¯æ–‡ä»¶æˆ–èµ„æºçš„è·¯å¾„ï¼Œasync å‚æ•°ä¸º true ï¼ˆä»£è¡¨å¼‚æ­¥ï¼‰æˆ–è€… false ï¼ˆä»£è¡¨åŒæ­¥ï¼‰ xhttp.send() ä½¿ç”¨ get æ–¹æ³•å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚ async=true å½“æœåŠ¡å™¨å‡†å¤‡å“åº”æ—¶å°†æ‰§è¡Œ onreadystatechange å‡½æ•° asyn=false åˆ™å°†ä¸éœ€è¦å†™ onreadystatechange å‡½æ•°ï¼Œç›´æ¥åœ¨sendåé¢å†™ä¸Šæ‰§è¡Œä»£ç  xhttp.send( string ) ä½¿ç”¨ post æ–¹æ³•å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ã€‚ post å‘é€è¯·æ±‚ä»€ä¹ˆæ—¶å€™èƒ½å¤Ÿä½¿ç”¨ï¼Ÿ æ›´æ–°ä¸€ä¸ªæ–‡ä»¶æˆ–è€…æ•°æ®åº“çš„æ—¶å€™ å‘é€å¤§é‡æ•°æ®åˆ°æœåŠ¡å™¨ï¼Œå› ä¸º post è¯·æ±‚æ²¡æœ‰å­—ç¬¦é™åˆ¶ã€‚ å‘é€ç”¨æˆ·è¾“å…¥çš„åŠ å¯†æ•°æ®ã€‚ postè¡¨å•æ•°æ®éœ€è¦ä½¿ç”¨ XMLHttpRequest å¯¹è±¡çš„ setRequestHeader æ–¹æ³•å¢åŠ ä¸€ä¸ªHTTPå¤´ã€‚ ä½¿ç”¨ XMLHttpRequest å¯¹è±¡çš„ response Text ï¼ˆè·å–æœåŠ¡å™¨å“åº”çš„å­—ç¬¦ä¸²æ•°æ®ï¼‰æˆ– responseXML ï¼ˆè·å–æœåŠ¡å™¨å“åº”çš„ XML æ•°æ®ï¼‰å±æ€§è·å¾—æœåŠ¡å™¨çš„å“åº”ã€‚ onreadystatechange å‡½æ•°ï¼Œå½“å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œæƒ³è¦æœåŠ¡å™¨å“åº”æ‰§è¡Œä¸€äº›åŠŸèƒ½å°±éœ€è¦ä½¿ç”¨ onreadystatechange å‡½æ•°ï¼Œæ¯æ¬¡ XMLHttpRequest å¯¹è±¡çš„ readyState å‘ç”Ÿæ”¹å˜éƒ½ä¼šè§¦å‘ onreadystatechange å‡½æ•°ã€‚ onreadystatechangeå±æ€§å­˜å‚¨ä¸€ä¸ªå½“readyStateå‘ç”Ÿæ”¹å˜æ—¶è‡ªåŠ¨è¢«è°ƒç”¨çš„å‡½æ•°ã€‚ readyStateå±æ€§ï¼ŒXMLHttpRequestå¯¹è±¡çš„çŠ¶æ€ï¼Œæ”¹å˜ä»0åˆ°4ï¼Œ0ä»£è¡¨è¯·æ±‚æœªè¢«åˆå§‹åŒ–ï¼Œ1ä»£è¡¨æœåŠ¡å™¨è¿æ¥æˆåŠŸï¼Œ2è¯·æ±‚è¢«æœåŠ¡å™¨æ¥æ”¶ï¼Œ3å¤„ç†è¯·æ±‚ï¼Œ4è¯·æ±‚å®Œæˆå¹¶ä¸”å“åº”å‡†å¤‡ã€‚ statuså±æ€§ï¼Œ200è¡¨ç¤ºæˆåŠŸå“åº”ï¼Œ404è¡¨ç¤ºé¡µé¢ä¸å­˜åœ¨ã€‚åœ¨onreadystatechangeäº‹ä»¶ä¸­ï¼ŒæœåŠ¡å™¨å“åº”å‡†å¤‡çš„æ—¶å€™å‘ç”Ÿï¼Œå½“readyState==4å’Œstatus==200çš„æ—¶å€™æœåŠ¡å™¨å“åº”å‡†å¤‡ã€‚ jQuery ajax 123456789$.ajax(&#123; type: 'POST', url: url, data: data, dataType: dataType, success: function () &#123;&#125;, error: function () &#123;&#125;&#125;); ä¼˜ç¼ºç‚¹ï¼š æœ¬èº«æ˜¯é’ˆå¯¹ MVC çš„ç¼–ç¨‹ï¼Œä¸ç¬¦åˆç°åœ¨å‰ç«¯ MVVM çš„æµªæ½® åŸºäºåŸç”Ÿ XHR å¼€å‘ï¼Œ XHR æœ¬èº«çš„æ¶æ„ä¸æ¸…æ™°ï¼Œå·²ç»æœ‰äº† fetch çš„ä»£æ›¿æ–¹æ¡ˆã€‚ jQuery æ•´ä¸ªé¡¹ç›®å¤ªå¤§ï¼Œå•çº¯ä½¿ç”¨ ajax å´è¦å¼•å…¥æ•´ä¸ª jQuery éå¸¸çš„ä¸åˆç†ï¼ˆé‡‡ç”¨ä¸ªæ€§åŒ–æ‰“åŒ…çš„æ–¹æ¡ˆåˆä¸èƒ½äº«å— CDN æœåŠ¡ï¼‰ axios 1234567891011121314axios(&#123; method: 'post', url: '/user/12345', data: &#123; firstName: 'Fred', lastName: 'Flintstone' &#125;&#125;).then(function (response) &#123; console.log(response);&#125;).catch(function (error) &#123; console.log(error);&#125;); ä¼˜ç¼ºç‚¹ï¼š ä» node.js åˆ›å»º http è¯·æ±‚ æ”¯æŒ Promise API å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢ CSRF æä¾›äº†ä¸€äº›å¹¶å‘è¯·æ±‚çš„æ¥å£ fetch 12345678try &#123; let response = await fetch(url); let data = response.json(); console.log(data);&#125; catch(e) &#123; console.log("Oops, error", e);&#125; ä¼˜ç¼ºç‚¹ï¼š ç¬¦åˆå…³æ³¨åˆ†ç¦»ï¼Œæ²¡æœ‰å°†è¾“å…¥ï¼Œè¾“å‡ºå’Œç”¨äº‹ä»¶æ¥è·Ÿè¸ªçš„çŠ¶æ€æ··æ‚åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œ æ›´å¥½æ›´æ–¹ä¾¿çš„å†™æ³• æ›´åŠ åº•å±‚ï¼Œæä¾›çš„ API ä¸°å¯Œï¼ˆ request , response ï¼‰ è„±ç¦»äº† XHR æ˜¯ESè§„èŒƒé‡Œæ–°çš„å®ç°æ–¹å¼ å¯¹æ¯”fetch fetch åªå¯¹ç½‘ç»œè¯·æ±‚æŠ¥é”™ï¼Œå¯¹ 400 ï¼Œ 500 éƒ½å½“åšæˆåŠŸçš„è¯·æ±‚ï¼Œéœ€è¦å°è£…å¤„ç† fetch é»˜è®¤ä¸ä¼šå¸¦ cookie ï¼Œéœ€è¦æ·»åŠ é…ç½®é¡¹ fetch ä¸æ”¯æŒ abort ï¼Œä¸æ”¯æŒè¶…æ—¶æ§åˆ¶ï¼Œä½¿ç”¨ setTimeOut åŠ Promise.reject çš„å®ç°çš„è¶…æ—¶æ§åˆ¶å¹¶ä¸èƒ½é˜»æ­¢ï¼Œè¯·æ±‚è¿‡ç¨‹ç»§ç»­åœ¨åå°è¿è¡Œï¼Œé€ æˆäº†é‡çš„æµªè´¹ fetch æ²¡æœ‰åŠæ³•åŸç”Ÿç›‘æµ‹è¯·æ±‚çš„è¿›åº¦ï¼Œè€Œ XHR å¯ä»¥ ä¸ºä»€ä¹ˆè¦ç”¨axiosï¼Ÿ ä»æµè§ˆå™¨ä¸­åˆ›å»º XMLHttpRequest ä» node.js å‘å‡º http è¯·æ±‚ æ”¯æŒ Promise API æ‹¦æˆªè¯·æ±‚å’Œå“åº” è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ® å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢ JSON æ•°æ® å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢ CSRF / XSRF å‚è€ƒèµ„æ–™ï¼šhttps://blog.csdn.net/weixin_34283445/article/details/91474962 åŠ https://blog.csdn.net/twodogya/article/details/80223508 æ•°ç»„çš„å¢åˆ æ”¹æŸ¥æ“ä½œ æ’åº ä¹±åº å»é‡ æ·»åŠ ï¼ˆ push() , unshift()ï¼‰ push() å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ unshift() å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ åˆ é™¤ï¼ˆ pop() , shift() , splice( index , howmany )ï¼‰ pop() åˆ é™¤æ•°ç»„çš„æœ€åä¸€é¡¹ï¼Œæ•°ç»„é•¿åº¦ -1 ï¼Œè¿”å›åˆ é™¤çš„é¡¹ã€‚ shift() åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œå¹¶è¿”å›åˆ é™¤çš„é¡¹ï¼Œæ•°ç»„é•¿åº¦ -1. splice( index , howmany ) index æ•´æ•°ï¼Œè§„å®šåˆ é™¤å€¼çš„ä½ç½®ï¼Œä½¿ç”¨è´Ÿæ•°å¯ä»¥ä»æ•°ç»„ç»“å°¾å¤„è§„å®šä½ç½® howmany è¦åˆ é™¤çš„å€¼æ•°é‡ï¼Œå¦‚æœè®¾ç½®ä¸º 0 ï¼Œåˆ™ä¸ä¼šåˆ é™¤å€¼ ä¿®æ”¹ï¼ˆ splice( index , howmany , item1 , â€¦ , itemX )ï¼‰ index æ•´æ•°ï¼Œè§„å®šæ·»åŠ åˆ é™¤ / çš„ä½ç½®ï¼Œä½¿ç”¨è´Ÿæ•°å¯ä»æ•°ç»„çš„ç»“å°¾å¤„è§„å®šä½ç½®ã€‚ howmany è¦åˆ é™¤çš„å€¼ç›®æ•°é‡ã€‚å¦‚æœè®¾ç½®ä¸º 0 ï¼Œåˆ™ä¸ä¼šåˆ é™¤æ•°ç»„ã€‚ item1 , â€¦ , itemX å‘æ•°ç»„æ·»åŠ çš„å€¼ æŸ¥è¯¢ï¼ˆ slice( start , end ) , indexOf( item , start ) ï¼‰ start å¿…éœ€ æŒ‡å®šä»ä»€ä¹ˆä½ç½®å¼€å§‹ï¼Œä½¿ç”¨è´Ÿæ•°å¯ä»æ•°ç»„ç»“å°¾å¤„å¼€å§‹ã€‚ end å¯é€‰ æŒ‡å®šåˆ°ä»€ä¹ˆä½ç½®ç»“æŸï¼Œå¦‚æœæœªæŒ‡å®šè¯¥å‚æ•°ï¼Œåˆ™ä»å¼€å§‹ä½ç½®ä¸€ç›´åˆ°ç»“æŸã€‚ æ’åºï¼ˆ sort( sortby )ï¼‰ sortby å¯é€‰ è§„å®šæ’åˆ—é¡ºåºï¼Œå¿…é¡»æ˜¯å‡½æ•°ã€‚ å¦‚æœæŒ‰ç…§è¯¥æ–¹æ³•æ—¶æ²¡æœ‰ä½¿ç”¨å‚æ•°ï¼Œå°†æŒ‰å­—æ¯é¡ºåºå¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œè¯´çš„æ›´ç²¾ç¡®ç‚¹ï¼Œæ˜¯æŒ‰ç…§å­—ç¬¦ç¼–ç çš„é¡ºåºè¿›è¡Œæ’åºï¼Œè¦å®ç°è¿™ä¸€ç‚¹ï¼Œé¦–å…ˆåº”æŠŠæ•°ç»„çš„å…ƒç´ éƒ½è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ˆå¦‚æœ‰å¿…è¦ï¼‰ï¼Œä»¥ä¾¿è¿›è¡Œæ¯”è¾ƒã€‚ å¦‚æœæƒ³æŒ‰ç…§å…¶ä»–æ ‡å‡†è¿›è¡Œæ’åºï¼Œéœ€è¦æä¾›æ¯”è¾ƒå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¯”è¾ƒä¸¤ä¸ªå€¼ï¼Œç„¶åè¿”å›ä¸€ä¸ªç”¨äºè¯´æ˜è¿™ä¸¤ä¸ªå€¼ç›¸å¯¹é¡ºåºçš„æ•°å­—ï¼Œæ¯”è¾ƒå‡½æ•°åº”è¯¥å…·æœ‰ä¸¤ä¸ªå‚æ•° a å’Œ b ï¼Œå…¶è¿”å›å€¼å¦‚ä¸‹ è‹¥ a &lt; b ï¼Œåœ¨æ’åºåçš„æ•°ç»„ä¸­ a åº”è¯¥å‡ºç°åœ¨ b ä¹‹å‰ï¼Œåˆ™è¿”å›ä¸€ä¸ªå°äº 0 çš„å€¼ è‹¥ a = b ï¼Œåˆ™è¿”å› 0 è‹¥ a &gt; b ï¼Œåˆ™è¿”å›ä¸€ä¸ªå¤§äº 0 çš„å€¼ å¯¹æ•°å­—æ•°ç»„è¿›è¡Œç”±å¤§åˆ°å°çš„é¡ºåºè¿›è¡Œæ’åº 123456789var arr = [22,12,3,43,56,47,4];arr.sort();console.log(arr); // [12, 22, 3, 4, 43, 47, 56]arr.sort(function (m, n) &#123; if (m &lt; n) return -1 else if (m &gt; n) return 1 else return 0&#125;);console.log(arr); // [3, 4, 12, 22, 43, 47, 56] å¯¹å­—ç¬¦ä¸²æ•°ç»„æ‰§è¡Œä¸åŒºåˆ†å¤§å°å†™çš„å­—æ¯è¡¨æ’åº 123456789var arr = ['abc', 'Def', 'BoC', 'FED'];console.log(arr.sort()); // ["BoC", "Def", "FED", "abc"]console.log(arr.sort(function(s, t)&#123; var a = s.toLowerCase(); var b = t.toLowerCase(); if (a &lt; b) return -1; if (a &gt; b) return 1; return 0;&#125;)); // ["abc", "BoC", "Def", "FED"] å¯¹åŒ…å«å¯¹è±¡çš„æ•°ç»„æ’åºï¼Œè¦æ±‚æ ¹æ®å¯¹è±¡çš„å¹´é¾„è¿›è¡Œç”±å¤§åˆ°å°æ’åˆ— 123456789101112var arr = [&#123;'name': 'å¼ ä¸‰', age: 26&#125;,&#123;'name': 'æå››', age: 12&#125;,&#123;'name': 'ç‹äº”', age: 37&#125;,&#123;'name': 'èµµå…­', age: 4&#125;];var objectArraySort = function (keyName) &#123; return function (objectN, objectM) &#123; var valueN = objectN[keyName] var valueM = objectM[keyName] if (valueN &lt; valueM) return 1 else if (valueN &gt; valueM) return -1 else return 0 &#125;&#125;arr.sort(objectArraySort('age'))console.log(arr) // [&#123;'name': 'ç‹äº”', age: 37&#125;,&#123;'name': 'å¼ ä¸‰', age: 26&#125;,&#123;'name': 'æå››', age: 12&#125;,&#123;'name': 'èµµå…­', age: 4&#125;] ä¹±åº 123456789101112/* æ•°ç»„ä¹±åº */var arr = [1,2,3,4,5];/* æ¯æ¬¡å¾ªç¯æ—¶éƒ½è¦ä¸ç¬¬ié¡¹äº’æ¢ä½ç½® */for (var i = 0; i &lt; arr.length; i++) &#123; /* è·å–ä¸€ä¸ª0-5çš„éšæœºæ•° */ var j = parseInt(Math.random() * arr.length); /* å°†æ‰€è·å–çš„æ•°å’Œç¬¬iä¸ªæ•°äº’æ¢ä½ç½® */ var temp = arr[i]; arr[i] = arr[j]; arr[j] = temp;&#125;console.log(arr); å»é‡ï¼ˆï¼‰ https://www.cnblogs.com/wisewrong/p/9642264.html åŸå½¢ åŸå‹é“¾ çš„ç†è§£ æ„é€ å‡½æ•° æ„é€ å‡½æ•°æ¨¡å¼çš„ç›®çš„å°±æ˜¯ä¸ºäº†åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼Œå¹¶ä¸”åˆ›å»ºè¿™ä¸ªç±»çš„å®ä¾‹ã€‚æ„é€ å‡½æ•°æ¨¡å¼ä¸­æ‹¥æœ‰äº†ç±»å’Œå®ä¾‹çš„æ¦‚å¿µï¼Œå¹¶ä¸”å®ä¾‹å’Œå®ä¾‹ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå³å®ä¾‹è¯†åˆ«ã€‚ æ„é€ å‡½æ•°å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œåˆ›å»ºæ–¹å¼å’Œæ™®é€šå‡½æ•°æ²¡æœ‰åŒºåˆ«ï¼Œä¸åŒçš„æ˜¯æ„é€ å‡½æ•°ä¹ æƒ¯é¦–å­—æ¯å¤§å†™ï¼Œå¦å¤–å°±æ˜¯è°ƒç”¨æ–¹å¼ä¸åŒï¼Œæ™®é€šå‡½æ•°æ˜¯ç›´æ¥è°ƒç”¨ï¼Œè€Œæ„é€ å‡½æ•°éœ€è¦ä½¿ç”¨newå…³é”®å­—æ¥è°ƒç”¨ã€‚ åŸå‹ åœ¨JavaScriptä¸­ï¼Œæ¯å½“å®šä¹‰ä¸€ä¸ªå‡½æ•°æ•°æ®ç±»å‹ï¼ˆæ™®é€šå‡½æ•°ï¼Œç±»ï¼‰çš„æ—¶å€™ï¼Œéƒ½ä¼šå¤©ç”Ÿè‡ªå¸¦ä¸€ä¸ªprototypeå±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œå¹¶ä¸”è¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°æ®ç±»å‹çš„å€¼ã€‚ åŸå‹å¯¹è±¡å°±ç›¸å½“äºä¸€ä¸ªå…¬å…±çš„åŒºåŸŸï¼Œæ‰€æœ‰åŒä¸€ä¸ªç±»å‹çš„å®ä¾‹éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ªåŸå‹å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡ä¸­å…±æœ‰çš„å†…å®¹ï¼Œç»Ÿä¸€è®¾ç½®åˆ°åŸå‹å¯¹è±¡ä¸­ã€‚ __proto__å’Œconstructor æ¯ä¸€ä¸ªå¯¹è±¡æ•°æ®ç±»å‹ï¼ˆæ™®é€šçš„å¯¹è±¡ï¼Œå®ä¾‹ï¼Œprototypeâ€¦.ï¼‰ä¹Ÿå¤©ç”Ÿè‡ªå¸¦ä¸€ä¸ªå±æ€§__proto__ï¼Œå±æ€§å€¼æ˜¯å½“å‰å®ä¾‹æ‰€å±ç±»çš„åŸå‹ï¼ˆprototypeï¼‰ã€‚åŸå‹å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå±æ€§constructorï¼Œå®ƒæŒ‡å‘å‡½æ•°å¯¹è±¡ã€‚ ä½•ä¸ºåŸå‹é“¾ åœ¨JavaScriptä¸­ä¸‡ç‰©éƒ½æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡å’Œå¯¹è±¡ä¹‹é—´ä¹Ÿæœ‰å…³ç³»ï¼Œå¹¶ä¸æ˜¯å­¤ç«‹å­˜åœ¨çš„ï¼Œå¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œåœ¨JavaScriptä¸­æ˜¯é€šè¿‡Protypeå¯¹è±¡æŒ‡å‘çˆ¶ç±»å¯¹è±¡ï¼Œç›´æ¥æŒ‡å‘Objectå¯¹è±¡ä¸ºæ­¢ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªåŸå‹æŒ‡å‘çš„é“¾æ¡ï¼Œä¸“ä¸šæœ¯è¯­ç§°ä¹‹ä¸ºåŸå‹é“¾ã€‚ ä¸¾ä¾‹è¯´æ˜ï¼šperson =&gt; Preson =&gt; Object æ™®é€šäººç±»ç»§æ‰¿äººç±»ï¼Œäººç±»ç»§æ‰¿å¯¹è±¡ç±» å½“æˆ‘ä»¬è®¿é—®å¯¹è±¡çš„ä¸€ä¸ªå±æ€§å’Œæ–¹æ³•æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨å¯¹è±¡è‡ªèº«ä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå»åŸå‹å¯¹è±¡ä¸­å¯»æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™å»åŸå‹çš„åŸå‹ä¸­å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°Objectå¯¹è±¡çš„åŸå‹ï¼ŒObjectå¯¹è±¡çš„åŸå‹æ²¡æœ‰åŸå‹ï¼Œå¦‚æœåœ¨ObjectåŸå‹ä¸­ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›underfinedã€‚ ä½¿ç”¨å¯¹è±¡çš„hasOwnProperty()æ¥æ£€æŸ¥å¯¹è±¡è‡ªèº«ä¸­æ˜¯å¦å«æœ‰è¯¥å±æ€§ï¼›ä½¿ç”¨inæ£€æŸ¥å¯¹è±¡ä¸­æ˜¯å¦å«æœ‰æŸä¸ªå±æ€§æ—¶ï¼Œå¦‚æœå¯¹è±¡ä¸­æ²¡æœ‰ä½†æ˜¯åŸå‹ä¸­æœ‰ä¹Ÿä¼šè¿”å›trueã€‚ 123456789function Person() &#123;&#125;Person.prototype.a = 123;Person.prototype.sayHello = function () &#123; alert("hello");&#125;;var person = new Person()console.log(person.a)//123console.log(person.hasOwnProperty('a'));//falseconsole.log('a'in person)//true Objectæ˜¯JSä¸­æ‰€æœ‰å¯¹è±¡æ•°æ®ç±»å‹çš„åŸºç±»ï¼ˆæœ€é¡¶å±‚çš„ç±»ï¼‰åœ¨Object.prototypeä¸Šæ²¡æœ‰__proto__è¿™ä¸ªå±æ€§ å‚è€ƒèµ„æ–™ï¼šhttps://www.jianshu.com/p/ddaa5179cda6 ES6çš„æ–°ç‰¹æ€§ letã€constã€varçš„åŒºåˆ«ï¼ˆä¸Šæ–‡æœ‰ï¼‰ ç®­å¤´å‡½æ•° æ™®é€šå‡½æ•°å¯ä»¥æ˜¯å‡½æ•°å£°æ˜æˆ–è€…å‡½æ•°è¡¨è¾¾å¼ï¼Œä½†æ˜¯ç®­å¤´å‡½æ•°å§‹ç»ˆéƒ½æ˜¯è¡¨è¾¾å¼ï¼Œå…¨ç¨‹æ˜¯ç®­å¤´å‡½æ•°è¡¨è¾¾å¼ï¼Œå› æ­¤ä»…åœ¨è¡¨è¾¾å¼æœ‰æ•ˆæ—¶æ‰èƒ½ä½¿ç”¨ï¼ŒåŒ…æ‹¬ï¼š å­˜å‚¨åœ¨å˜é‡ä¸­ å½“åšå‚æ•°ä¼ é€’ç»™å‡½æ•° å­˜å‚¨åœ¨å¯¹è±¡çš„å±æ€§ä¸­ ä¸€èˆ¬ç®­å¤´å‡½æ•°éƒ½åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä½œä¸ºå‡½æ•°ä¸»ä½“ï¼š 123const upperizedNames = ['Farrin', 'Kagure', 'Asser'].map( name =&gt; name.toUpperCase()); è¿™ç§å‡½æ•°è¡¨è¾¾å¼å½¢å¼ç§°ä¸ºç®€å†™ä¸»ä½“è¯­æ³•ï¼š åœ¨å‡½æ•°ä¸»ä½“å‘¨å›´æ²¡æœ‰èŠ±æ‹¬å· è‡ªåŠ¨è¿”å›è¡¨è¾¾å¼ ç®­å¤´å‡½æ•°çš„ä¸»ä½“å†…éœ€è¦å¤šè¡Œä»£ç ï¼Œåˆ™éœ€è¦ä½¿ç”¨å¸¸è§„ä¸»ä½“è¯­æ³•ï¼š å°†å‡½æ•°ä¸»ä½“æ”¾åœ¨èŠ±æ‹¬å·å†… éœ€è¦ä½¿ç”¨returnè¯­å¥æ¥è¿”å›å†…å®¹ è§£æ„èµ‹å€¼ es6å…è®¸æŒ‰ç…§ä¸€å®šçš„æ¨¡å¼ï¼Œä»æ•°ç»„æˆ–å¯¹è±¡ä¸­æå–å€¼ï¼Œç»™å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œç§°ä¹‹ä¸ºè§£æ„èµ‹å€¼ è§£æ„èµ‹å€¼çš„ç‰¹ç‚¹ï¼š ç»™å˜é‡èµ‹å€¼ å€¼çš„æ¥æºæ˜¯å¯¹è±¡æˆ–æ•°ç»„ è§„åˆ™ï¼šæŒ‰ä¸€å®šçš„æ¨¡å¼ ä¸€èˆ¬ç”¨åœ¨æ•°æ®äº¤äº’ï¼Œajaxè¯·æ±‚æ•°æ®ã€‚ Promise Promiseæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå…¶å®æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè‡ªèº«æœ‰allã€rejectã€resolveè¿™å‡ ä¸ªæ–¹æ³•ï¼ŒåŸå‹ä¸Šæœ‰then/catchç­‰æ–¹æ³• Promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ï¼ŒPromiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼špendingï¼ˆè¿›è¡Œä¸­ï¼‰ã€fulfilledï¼ˆå·²æˆåŠŸï¼‰å’Œrejectedï¼ˆå·²å¤±è´¥ï¼‰ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯Promiseè¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ ä¸€æ—¦æ”¹å˜çŠ¶æ€ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promiseå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»pendingå˜ä¸ºfulfilledå’Œä»pendingå˜ä¸ºrejectedã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘é€ï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœï¼Œè¿™æ—¶å°±ç§°ä¸ºresolvedï¼ˆå·²å®šå‹ï¼‰ã€‚å¦‚æœæ”¹å˜å·²ç»å‘ç”Ÿäº†ï¼Œä½ å†å¯¹Promiseå¯¹è±¡æ·»åŠ å›è°ƒå‡½æ•°ï¼Œä¹Ÿä¼šç«‹å³å¾—åˆ°è¿™ä¸ªç»“æœã€‚è¿™ä¸äº‹ä»¶ï¼ˆEventï¼‰å®Œå…¨ä¸åŒï¼Œäº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå¦‚æœä½ é”™è¿‡äº†å®ƒï¼Œå†å»ç›‘å¬ï¼Œæ˜¯å¾—ä¸åˆ°ç»“æœçš„ã€‚ https://blog.csdn.net/qq_34645412/article/details/81170576 å‡½æ•°é»˜è®¤å‚æ•° åœ¨ES6ä¸­ï¼Œå¯ä»¥ä¸ºå‡½æ•°çš„å‚æ•°æŒ‡å®šé»˜è®¤å€¼ï¼Œå‡½æ•°é»˜è®¤å‚æ•°å…è®¸åœ¨æ²¡æœ‰å€¼æˆ–underfinedè¢«ä¼ å…¥æ—¶ä½¿ç”¨é»˜è®¤å½¢å‚ é»˜è®¤å‚æ•°ä½¿ç”¨æ³¨æ„ç‚¹ï¼š å‚æ•°å˜é‡æ˜¯é»˜è®¤å£°æ˜çš„ï¼Œä¸èƒ½ç”¨letæˆ–constå†æ¬¡å£°æ˜ ä½¿ç”¨é»˜è®¤å‚æ•°å€¼æ—¶ï¼Œå‡½æ•°ä¸èƒ½æœ‰åŒåå‚æ•° æ˜¾å¼ä¼ å…¥underfinedæˆ–ä¸ä¼ å€¼æ—¶ä½¿ç”¨å‡½æ•°é»˜è®¤å‚æ•°å€¼ï¼›ä¼ å…¥&#39;&#39;æˆ–nullæ—¶ä½¿ç”¨ä¼ å…¥çš„å‚æ•°å€¼ å‚æ•°é»˜è®¤å€¼ä¸æ˜¯ä¼ å€¼çš„ï¼Œè€Œæ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå‚æ•°é»˜è®¤å€¼æ‰ä¼šè¢«è§£æ ä½ç½®åœ¨å‰çš„é»˜è®¤å‚æ•°å¯ç”¨äºåé¢çš„é»˜è®¤å‚æ•° å®šä¹‰äº†é»˜è®¤å‚æ•°ï¼Œåº”è¯¥æ˜¯å‡½æ•°çš„å°¾å‚æ•°ï¼Œå› ä¸ºè¿™æ ·æ¯”è¾ƒå®¹æ˜“çœ‹å‡ºæ¥ï¼Œåˆ°åº•çœç•¥äº†å“ªäº›å‚æ•°ï¼Œå¦‚æœéå°¾éƒ¨çš„å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼Œå®é™…ä¸Šè¿™ä¸ªå‚æ•°æ˜¯æ²¡æ³•çœç•¥çš„ã€‚ æŒ‡å®šäº†é»˜è®¤å€¼ä»¥åï¼Œå‡½æ•°çš„lengthå±æ€§ï¼Œå°†è¿”å›æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°ï¼Œå¦‚æœè®¾ç½®äº†é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œé‚£ä¹ˆlengthå±æ€§ä¹Ÿä¸åœ¨è®¡å…¥åé¢çš„å‚æ•°äº†ï¼Œåæ–‡çš„restå‚æ•°ä¹Ÿä¸ä¼šè®¡å…¥lengthå±æ€§ã€‚ å‰©ä½™ï¼ˆrestï¼‰å‚æ•° ES6å¼•å…¥restå‚æ•°ï¼ˆå½¢å¼ä¸ºâ€¦å˜é‡åï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ï¼Œrestå‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¯¹äºçš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚ restå‚æ•°ä½¿ç”¨æ³¨æ„ç‚¹ï¼š restå‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–å‚æ•°ï¼ˆå³åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚ å‡½æ•°çš„lengthå±æ€§ï¼Œä¸åŒ…æ‹¬restå‚æ•° restå‚æ•°å¯ä»¥è¢«ç»“æ„ï¼Œè¿™æ„å‘³ç€ä»–ä»¬çš„æ•°æ®å¯ä»¥è¢«è§£åŒ…åˆ°ä¸åŒçš„å˜é‡ä¸­ restå‚æ•°å’Œargumentså¯¹è±¡çš„åŒºåˆ« restå‚æ•°åªåŒ…å«é‚£äº›æ²¡æœ‰å¯¹åº”å½¢å‚çš„å®å‚ï¼Œè€Œargumentså¯¹è±¡åŒ…å«äº†ä¼ ç»™å‡½æ•°çš„æ‰€æœ‰å®å‚ argumentså¯¹è±¡ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œè€Œrestå‚æ•°æ˜¯çœŸæ­£çš„Arrayå®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ èƒ½å¤Ÿåœ¨å®ƒä¸Šé¢ç›´æ¥ä½¿ç”¨æ‰€æœ‰çš„æ•°ç»„æ–¹æ³•ï¼Œæ¯”å¦‚sortï¼Œmapï¼ŒforEachæˆ–popâ€¦ argumentså¯¹è±¡è¿˜æœ‰ä¸€äº›é™„åŠ çš„å±æ€§ï¼ˆå¦‚calleeå±æ€§ï¼‰ é»˜è®¤å‚æ•°å‚è€ƒèµ„æ–™ï¼šhttps://www.jianshu.com/p/9078fdffd810]]></content>
  </entry>
  <entry>
    <title><![CDATA[Vue ç»„ä»¶]]></title>
    <url>%2F2019%2F06%2F24%2FVue-%E7%BB%84%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[ç»„ä»¶çš„åˆ›å»ºåŠä½¿ç”¨ Vue æœ‰ä¸¤å¤§ç‰¹æ€§1.æŒ‡ä»¤ - - ç”¨æ¥æ“ä½œ DOM 2.ç»„ä»¶ - - ç»„ä»¶æ˜¯ html css js ç­‰çš„ä¸€ä¸ªèšåˆä½“ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç»„ä»¶ï¼Ÿ ç»„ä»¶åŒ– å°†ä¸€ä¸ªå…·å¤‡å®Œæ•´åŠŸèƒ½çš„é¡¹ç›®çš„ä¸€éƒ¨åˆ†è¿›è¡Œå¤šå¤„ä½¿ç”¨ åŠ å¿«é¡¹ç›®çš„è¿›åº¦ å¯ä»¥è¿›è¡Œé¡¹ç›®çš„å¤ç”¨ è¦æƒ³å®ç°ç»„ä»¶åŒ–ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨çš„è¿™ä¸€éƒ¨åˆ†å¿…é¡»æ˜¯å®Œæ•´çš„ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªå®Œæ•´çš„æ•´ä½“ç§°ä¹‹ä¸ºç»„ä»¶ æ’ä»¶ï¼š index.html img css js Vue å°† html css js img æ•´åˆåˆ°ä¸€èµ·ï¼Œå¹¶å°†æ­¤èšåˆä½“ç§°ä¹‹ä¸ºï¼Œå•æ–‡ä»¶ç»„ä»¶ï¼ˆ xx.vue ï¼‰ åŸºç¡€çš„ç»„ä»¶åˆ›å»º å‘½å ä¸€ä¸ªå•è¯çš„å¤§å†™ï¼šæ³¨æ„ä¸è¦ä¸åŸç”Ÿçš„ h5 æ ‡ç­¾é‡åï¼Œæ¯”å¦‚ header footer Header Footer å°å†™å¸¦ - ï¼Œæ¯”å¦‚ header-title å¤§é©¼å³°ï¼š FatherSon ä½¿ç”¨ ï¼šfather-son ç»„ä»¶çš„æ ¹ç›®å½•å¿…é¡»å”¯ä¸€ å…¨å±€æ³¨å†Œ 123&lt;div id="app"&gt; &lt;Father&gt;&lt;/Father&gt;&lt;/div&gt; 123456789var Hello = Vue.extend(&#123; template: '&lt;div&gt; è¿™é‡Œæ˜¯fatherç»„ä»¶ &lt;/div&gt;'&#125;) //VueComponent( option ) ç»„ä»¶çš„åç§°ï¼Œç»„ä»¶çš„é…ç½®é¡¹ Vue.component( 'Father', Hello ) new Vue(&#123; el: '#app'&#125;) å±€éƒ¨æ³¨å†Œ 1234567&lt;div id="app"&gt; &lt;father-son&gt;&lt;/father-son&gt;&lt;/div&gt; &lt;div id="root"&gt; &lt;father-son&gt;&lt;/father-son&gt;&lt;/div&gt; 12345678910111213141516var Hello = Vue.extend(&#123; template: '&lt;div&gt; è¿™é‡Œæ˜¯1903 &lt;/div&gt;' &#125;) new Vue(&#123; el: '#app', components: &#123; // key: value keyæ˜¯ç»„ä»¶åç§° valueæ˜¯ç»„ä»¶é…ç½®é¡¹ // 'gabriel-yan': Hello, 'FatherSon': Hello &#125; &#125;) new Vue(&#123; el: '#root' &#125;) ç»„ä»¶ä¸­ç”¨ä¸€ä¸ªcomponentsçš„é…ç½®é¡¹ç›®æ¥è¡¨ç¤ºï¼Œåªèƒ½åœ¨æ³¨å†Œçš„èŒƒå›´å†…ä½¿ç”¨ï¼Œå…¶ä»–åœ°æ–¹æ˜¯ä¸èƒ½ä½¿ç”¨çš„ å…¨å±€æ³¨å†Œä¸å±€éƒ¨æ³¨å†Œçš„ç®€å†™å½¢å¼ 1234&lt;div id="app"&gt; &lt;Father&gt;&lt;/Father&gt; &lt;father-son&gt;&lt;/father-son&gt;&lt;/div&gt; 12345678910111213Vue.component('Father',&#123; template: '&lt;div&gt; è¿™é‡Œæ˜¯å…¨å±€æ³¨å†Œ &lt;/div&gt;'&#125;)new Vue(&#123; el: '#app', components: &#123; 'FatherSon': &#123; template: '&lt;div&gt; è¿™é‡Œæ˜¯å±€éƒ¨æ³¨å†Œ &lt;/div&gt;' &#125; &#125;&#125;) ç»„ä»¶çš„åµŒå¥— çˆ¶ç»„ä»¶é‡Œé¢æ”¾å­ç»„ä»¶ - - - ç±»ä¼¼äº dom çš„çˆ¶å­çº§ç»“æ„ å°†å­ç»„ä»¶ä»¥æ ‡ç­¾çš„å½¢å¼æ”¾åœ¨çˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­ä½¿ç”¨ åˆ‡è®°ï¼ä¸è¦æ”¾åœ¨çˆ¶ç»„ä»¶çš„å†…å®¹ä¸­ã€‚ ç»„ä»¶ä¸ä»…å¯ä»¥ç”¨åŒæ ‡ç­¾è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å•æ ‡ç­¾è¡¨ç¤º 12345678&lt;div id="app"&gt; &lt;!-- ä¸‹é¢è¿™ç§å†™æ³•æ˜¯é”™è¯¯çš„ --&gt; &lt;Father&gt; &lt;Son&gt;&lt;/Son&gt; &lt;/Father&gt; &lt;!-- æ­£ç¡®çš„åº”è¯¥æ˜¯ --&gt; &lt;Father&gt;&lt;/Father&gt;&lt;/div&gt; 1234567891011Vue.component('Father',&#123; template: '&lt;div&gt; Father &lt;Son&gt;&lt;/Son&gt;&lt;/div&gt;' &#125;) Vue.component('Son',&#123; template: '&lt;div&gt; son &lt;/div&gt;' &#125;) new Vue(&#123; el: '#app' &#125;) 12345678910111213new Vue(&#123; el: '#app', components: &#123; 'Father': &#123; template: '&lt;div&gt; fatherç»„ä»¶ &lt;Son /&gt;&lt;/div&gt;', components: &#123; 'Son': &#123; template: '&lt;div&gt; sonç»„ä»¶ &lt;/div&gt;' &#125; &#125; &#125; &#125;&#125;) æŒæ¡çš„ç»„ä»¶å†…å®¹ Vue æ˜¯å¦‚ä½•æ‰©å±•ç»„ä»¶çš„ï¼Ÿ Vue ä¸ºä»€ä¹ˆè¦ä»¥æ ‡ç­¾çš„å½¢å¼ä½¿ç”¨ç»„ä»¶ ç»„ä»¶ä½¿ç”¨ä¸ºä½•è¦æ³¨å†Œ ç»„ä»¶çš„ç‰¹æ®Šä½¿ç”¨è§„åˆ™ ï¼ˆ is è§„åˆ™ï¼‰ 12345678910&lt;div id="app"&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;1&lt;/td&gt; &lt;td&gt;2&lt;/td&gt; &lt;td&gt;3&lt;/td&gt; &lt;/tr&gt; &lt;tr is = "Hello"&gt;&lt;/tr&gt; &lt;/table&gt;&lt;/div&gt; ul&gt;li ol&gt;li table&gt;tr&gt;td select&gt;option å¦‚ä¸Šç›´å±çˆ¶å­çº§å¦‚æœç›´æ¥ç»„ä»¶ä»¥æ ‡ç­¾åŒ–å½¢å¼ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°bug ä½¿ç”¨isè§„åˆ™: é€šè¿‡iså±æ€§æ¥ç»‘å®šä¸€ä¸ªç»„ä»¶ 1&lt;tr is = "Hello"&gt;&lt;/tr&gt; 1234567Vue.component('Hello',&#123; template: '&lt;tr&gt; &lt;td&gt; 4 &lt;/td&gt; &lt;td&gt; 5 &lt;/td&gt;&lt;td&gt; 6 &lt;/td&gt;&lt;/tr&gt;'&#125;)new Vue(&#123; el: '#app'&#125;) ç»„ä»¶çš„ templatetemplate ä½¿ç”¨ å®ä¾‹èŒƒå›´å†…ä½¿ç”¨ 1234567891011&lt;div id="app"&gt; &lt;template&gt; &lt;div&gt; &lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/template&gt;&lt;/div&gt; 1234567Vue.component('Hello',&#123; template: ''&#125;) new Vue(&#123; el: '#app'&#125;) templateä¸­çš„å†…å®¹è¢«å½“åšä¸€ä¸ªæ•´ä½“äº†ï¼Œå¹¶ä¸”templateæ ‡ç­¾æ˜¯ä¸ä¼šè§£æåˆ°htmlç»“æ„ä¸­çš„ å®ä¾‹èŒƒå›´å¤–ä½¿ç”¨ 12345678910&lt;div id="app"&gt;&lt;/div&gt;&lt;template&gt; &lt;div&gt; &lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt; 1234567Vue.component('Hello',&#123; template: ''&#125;) new Vue(&#123; el: '#app'&#125;) å®ä¾‹èŒƒå›´å¤–templateæ ‡ç­¾æ˜¯ä¸ä¼šè¢«ç›´æ¥è§£æçš„ ç»„ä»¶è¦æƒ³ä½¿ç”¨templateä½¿ç”¨ï¼Œæˆ‘ä»¬åœ¨å®ä¾‹èŒƒå›´å¤–ä½¿ç”¨ 1234567891011&lt;div id="app"&gt; &lt;hello&gt;&lt;/hello&gt;&lt;/div&gt;&lt;template id="hello"&gt; &lt;div&gt; &lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt; 1234567Vue.component('Hello',&#123; template: '#hello'&#125;) new Vue(&#123; el: '#app'&#125;) ä½¿ç”¨ç¬¬äºŒç§ template ä½¿ç”¨åï¼Œæœ‰ä¸ªå¼Šç«¯ï¼Œtemplate æ ‡ç­¾ç»“æ„ä¼šåœ¨ html æ–‡ä»¶ä¸­æ˜¾ç¤º ä½¿ç”¨ webpack ã€gulp ç­‰å·¥å…·ç¼–è¯‘ï¼Œå°†æ¥è¦ç”¨ Vue æä¾›çš„å•æ–‡ä»¶ç»„ä»¶ã€‚ ç»„ä»¶é€šä¿¡ ä¸ºä»€ä¹ˆè¿›è¡Œç»„ä»¶é€šä¿¡ç»„ä»¶å¯ä»¥è¯´æ˜¯ä¸€ä¸ªå…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„æ•´ä½“ï¼Œä½†æ˜¯å½“æˆ‘ä»¬è¦å°†è¿™äº›ç»„ä»¶æ‹¼æ¥åœ¨ä¸€èµ·æ—¶ï¼Œè¿™äº›ç»„ä»¶ç›¸äº’ä¹‹é—´è¦å»ºç«‹è”ç³»ï¼Œè¿™ä¸ªè”ç³»ç§°ä¹‹ä¸º é€šä¿¡ ç»„ä»¶é€šä¿¡çš„æ–¹å¼ çˆ¶å­ç»„ä»¶é€šä¿¡ï¼ˆ ä½¿ç”¨ props æ¥å®ç° ï¼‰1234567891011121314151617&lt;div id="app"&gt; &lt;Father&gt;&lt;/Father&gt;&lt;/div&gt;&lt;template id="father"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯çˆ¶ç»„ä»¶ &lt;/h3&gt; &lt;hr&gt; &lt;Son/&gt; &lt;!--å¯ä»¥æ˜¯å•æ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒæ ‡ç­¾--&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id="son"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯sonç»„ä»¶ &lt;/h3&gt; &lt;/div&gt;&lt;/template&gt; 12345678910111213141516Vue.component('Father',&#123; template: '#father', data()&#123; //ä¸ºä»€ä¹ˆå°† data å®šä¹‰ä¸ºå‡½æ•° return &#123; money: 2000 &#125; &#125;&#125;)Vue.component('Son',&#123; template: '#son' &#125;)new Vue(&#123;&#125;).$mount('#app') //appå®ä¾‹çš„æ‰‹åŠ¨æŒ‚è½½ åœ¨çˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­å°†æ•°æ®ç”¨å•é¡¹æ•°æ®ç»‘å®šçš„å½¢å¼ï¼Œç»‘å®šåœ¨å­ç»„ä»¶èº«ä¸Š 1234567&lt;template id="father"&gt;&lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯çˆ¶ç»„ä»¶ &lt;/h3&gt; &lt;hr&gt; &lt;Son v-bind:money = "money"/&gt; &lt;!-- v-bind å¯ä»¥ç®€å†™ä¸º :money = "money"--&gt;&lt;/div&gt;&lt;/template&gt; åœ¨å­ç»„ä»¶çš„é…ç½®é¡¹ä¸­å¯ä»¥ä½¿ç”¨ä¸€ä¸ª props é…ç½®é¡¹æ¥æ¥æ”¶è¿™ä¸ªæ•°æ®ï¼Œæ¥æ”¶æ—¶ï¼Œ props çš„å–å€¼å¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„ 1234Vue.component('Son',&#123; template: '#son', props:['money'] //æŒ‡å‘ ç»‘å®šçš„å±æ€§ è€Œä¸æ˜¯ æ•°æ®ï¼ˆ å±æ€§å€¼ ï¼‰&#125;) åœ¨å­ç»„ä»¶æ¨¡æ¿ä¸­ï¼Œæ¥æ”¶åˆ°çš„å±æ€§å¯ä»¥åƒå…¨å±€å˜é‡ä¸€æ ·ç›´æ¥ä½¿ç”¨ 123456&lt;template id="son"&gt;&lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯sonç»„ä»¶ &lt;/h3&gt; &lt;p&gt; çˆ¶äº²ç»™äº†æˆ‘ &#123;&#123; money &#125;&#125; é’± &lt;/p&gt;&lt;/div&gt;&lt;/template&gt; props æ¥æ”¶çš„æ•°æ®å’Œå­ç»„ä»¶ä¸Šç»‘å®šçš„è‡ªå®šä¹‰å±æ€§æ˜¯åŒä¸€ä¸ªã€‚ä¸€èˆ¬å°†è‡ªå®šä¹‰å±æ€§å’Œæ•°æ®å†™æˆä¸€è‡´ã€‚è‡ªå®šä¹‰å±æ€§çš„ä¹¦å†™money â€”&gt; moneymask-flag â€”&gt; maskFlag ( é©¼å³°å‘½åæ³• ) ä¸ºä»€ä¹ˆå°† data å®šä¹‰ä¸ºä¸€ä¸ªå‡½æ•°ï¼Ÿ ç»„ä»¶æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ä¸ªä½“ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥æ‹¥æœ‰è‡ªå·±çš„æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®åº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®ã€‚ è¿™ä¸ªæ•°æ®åº”è¯¥æœ‰ç‹¬ç«‹ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ä½¿ç”¨èŒƒå›´ï¼Œè¿™ä¸ªèŒƒå›´å°±æ˜¯è¿™ä¸ªç»„ä»¶å†… jsçš„æœ€å¤§ç‰¹å¾æ˜¯ï¼šå‡½æ•°å¼ç¼–ç¨‹ ï¼Œè€Œå‡½æ•°æ°å¥½æä¾›äº†ç‹¬ç«‹ä½œç”¨åŸŸã€‚ ä¸ºä»€ä¹ˆdataè¦æœ‰è¿”å›å€¼ï¼Ÿè¿”å›å€¼è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ å› ä¸ºVueæ˜¯é€šè¿‡observeræ¥è§‚å¯Ÿdataé€‰é¡¹çš„ï¼Œæ‰€æœ‰å¿…é¡»è¦æœ‰è¿”å›å€¼ å› ä¸ºVueè¦é€šè¿‡es5çš„Object.definePropertyå±æ€§å¯¹å¯¹è±¡è¿›è¡Œgetterå’Œsetterè®¾ç½® å­çˆ¶ç»„ä»¶é€šä¿¡12345678910111213141516&lt;div id="app"&gt; &lt;Father&gt;&lt;/Father&gt;&lt;/div&gt; &lt;template id="father"&gt; &lt;div&gt; &lt;h3&gt; è¿™æ˜¯fatherç»„ä»¶ &lt;/h3&gt; &lt;Son/&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id="son"&gt; &lt;div&gt; &lt;h3&gt; è¿™æ˜¯Sonç»„ä»¶ &lt;/h3&gt; &lt;/div&gt;&lt;/template&gt; 123456789101112131415161718192021Vue.component('Father',&#123; template:'#father', data()&#123; return&#123; money: 0 &#125; &#125;&#125;)Vue.component('Son',&#123; template:'#son', data()&#123; return&#123; hongbao: 500 &#125; &#125;&#125;)new Vue(&#123; el:'#app'&#125;) è‡ªå®šä¹‰äº‹ä»¶ è‡ªå®šä¹‰çš„äº‹ä»¶ï¼Œé€šè¿‡ $on å®šä¹‰ $emit è§¦å‘ é€šè¿‡ç»‘å®šåœ¨ç»„ä»¶èº«ä¸Šå®šä¹‰ï¼Œé€šè¿‡ $emit è§¦å‘ åœ¨çˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­ï¼Œé€šè¿‡äº‹ä»¶ç»‘å®šçš„å½¢å¼ï¼Œç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶åœ¨å­ç»„ä»¶èº«ä¸Š 1234567&lt;template id="father"&gt; &lt;div&gt; &lt;h3&gt; è¿™æ˜¯fatherç»„ä»¶ &lt;/h3&gt; &lt;p&gt; å„¿å­ç»™äº†æˆ‘ &#123;&#123; money &#125;&#125; &lt;/p&gt; &lt;!-- æ³¨æ„ï¼šæ”¾åœ¨ç»„ä»¶ä½ç½®ä¹‹å‰ï¼Œæ”¾åœ¨ç»„ä»¶ä¹‹åä¼šè¢«è¦†ç›– --&gt; &lt;Son @give = "getHongbao"/&gt; &lt;!--è¿™è¾¹è¦æ³¨æ„ï¼šfnæ˜¯è¦åœ¨çˆ¶ç»„ä»¶é…ç½®é¡¹ methods ä¸­å®šä¹‰--&gt; &lt;/div&gt;&lt;/template&gt; 12345678910111213Vue.component('Father',&#123; template:'#father', data()&#123; return&#123; money: 0 &#125; &#125;, methods:&#123; getHongbao( val )&#123; this.money = val &#125; &#125;&#125;) åœ¨å­ç»„ä»¶ä¸­çš„é…ç½®é¡¹ methods ä¸­å†™ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œåœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è§¦å‘çˆ¶ç»„ä»¶ç»‘å®šçš„è‡ªå®šä¹‰äº‹ä»¶ 12345678910111213Vue.component('Son',&#123; template:'#son', data()&#123; return&#123; hongbao: 500 &#125; &#125;, methods:&#123; giveFather()&#123; this.$emit('give',this.hongbao) &#125; &#125;&#125;) å°†å­ç¨‹åºç»„ä»¶å®šä¹‰çš„äº‹ä»¶å¤„ç†ç¨‹åº giveFather ï¼Œç»‘å®šåœ¨å­ç»„ä»¶çš„æŒ‰é’®èº«ä¸Š 123456&lt;template id="son"&gt; &lt;div&gt; &lt;button @click = "giveFather"&gt; give &lt;/button&gt; &lt;h3&gt; è¿™æ˜¯Sonç»„ä»¶ &lt;/h3&gt; &lt;/div&gt;&lt;/template&gt; éçˆ¶å­ç»„ä»¶é€šä¿¡ refé“¾ ï¼ˆ å¯ä»¥å®ç°éçˆ¶å­ç»„ä»¶çš„é€šä¿¡ï¼Œä½†æ˜¯å¦‚æœå±‚çº§å¤ªå¤šï¼Œæ¯”è¾ƒç¹ç ï¼‰12345678910111213141516171819202122232425&lt;div id = "app"&gt; &lt;Father&gt;&lt;/Father&gt;&lt;/div&gt;&lt;template id = "father"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ father &lt;/h3&gt; &lt;hr&gt; &lt;Son&gt;&lt;/Son&gt; &lt;hr&gt; &lt;Girl&gt;&lt;/Girl&gt; &lt;!-- è¦å†™åŒæ ‡ç­¾ï¼Œä¸ç„¶ä¼šè¢«è¦†ç›– --&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id = "son"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ son &lt;/h3&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id = "girl"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ girl &lt;/h3&gt; &lt;/div&gt;&lt;/template&gt; 123456789101112131415Vue.component( 'Father' ,&#123; template: '#father'&#125;)Vue.component( 'Son' ,&#123; template: '#son'&#125;)Vue.component( 'Girl' ,&#123; template: '#girl'&#125;)new Vue(&#123; el: '#app'&#125;) é€šè¿‡ ref ç»‘å®šç»„ä»¶åï¼Œåœ¨å…±åŒçš„çˆ¶ç»„ä»¶çš„ $ref é‡Œé¢å¯ä»¥æ‰¾åˆ°å­ç»„ä»¶ 12345678910&lt;template id = "father"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ father &lt;/h3&gt; &lt;button @click = "look"&gt; ç‚¹å‡»æŸ¥çœ‹ father çš„ this å±æ€§ &lt;/button&gt; &lt;hr&gt; &lt;Son ref = "son"&gt;&lt;/Son&gt; &lt;!-- ref ç»‘å®šåå­— --&gt; &lt;hr&gt; &lt;Girl ref = "girl"&gt;&lt;/Girl&gt; &lt;!-- è¦å†™åŒæ ‡ç­¾ï¼Œä¸ç„¶ä¼šè¢«è¦†ç›– --&gt; &lt;/div&gt;&lt;/template&gt; 12345678Vue.component( 'Father' ,&#123; template: '#father', methods:&#123; look()&#123; console.log( this ) &#125; &#125;&#125;) å°†ä¸€ä¸ªå­ç»„ä»¶çš„æ•°æ®ä¼ ç»™çˆ¶ç»„ä»¶ 1234567891011121314151617Vue.component( 'Father' ,&#123; template: '#father', methods:&#123; look()&#123; console.log( this.$refs.son.money ) &#125; &#125;&#125;)Vue.component( 'Son' ,&#123; template: '#son', data () &#123; return&#123; money: 1000 &#125; &#125;&#125;) çˆ¶ç»„ä»¶å°†æ•°æ®ä¼ ç»™å¦ä¸€ä¸ªå­ç»„ä»¶ 12345678910&lt;template id = "father"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ father &lt;/h3&gt; &lt;button @click = "look"&gt; ç‚¹å‡»æŸ¥çœ‹ father çš„ this å±æ€§ &lt;/button&gt; &lt;hr&gt; &lt;Son ref = "son"&gt;&lt;/Son&gt; &lt;hr&gt; &lt;Girl ref = "girl" :money = "this.$refs.son.money"&gt;&lt;/Girl&gt; &lt;/div&gt;&lt;/template&gt; ä½†æ˜¯æ­¤æ—¶å‘ç°ç›´æ¥ç»‘å®š,æ— æ³•å–åˆ°æ•°æ®ï¼ˆ money ï¼‰äºæ˜¯åœ¨çˆ¶ç»„ä»¶ä¸­æ–°å¢ data å¹¶å°†è¦ä¼ çš„æ•°æ®èµ‹å€¼ç»™ data ,å¹¶ç»‘å®šç»™éœ€è¦æ•°æ®çš„å­ç»„ä»¶ 12345678910111213141516171819&lt;template id = "father"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ father &lt;/h3&gt; &lt;button @click = "look"&gt; ç‚¹å‡»æŸ¥çœ‹ father çš„ this å±æ€§ &lt;/button&gt; &lt;hr&gt; &lt;Son ref = "son"&gt;&lt;/Son&gt; &lt;hr&gt; &lt;Girl ref = "girl" :n = "n"&gt; &lt;/Girl&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id = "girl"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ girl &lt;/h3&gt; &lt;button @click = "out"&gt; æ˜¾ç¤ºä» son æ‹¿åˆ°çš„ money &lt;/button&gt; &lt;p&gt; ä» son æ‹¿åˆ°çš„ money &#123;&#123; n &#125;&#125; &lt;/p&gt; &lt;/div&gt;&lt;/template&gt; 123456789101112131415161718192021222324252627Vue.component( 'Father' ,&#123; template: '#father', data () &#123; return&#123; n:0 &#125; &#125;, methods:&#123; look()&#123; this.n = this.$refs.son.money &#125; &#125;&#125;)Vue.component( 'Girl' ,&#123; template: '#girl', data () &#123; return&#123; n:0 &#125; &#125;, methods : &#123; out () &#123; this.n = this.$attrs.n &#125; &#125;&#125;) bus äº‹ä»¶busäº‹ä»¶æ€»çº¿ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡ $onæ¥å®šä¹‰äº‹ä»¶ï¼Œ é€šè¿‡ $emitæ¥è§¦å‘äº‹ä»¶ 12345678910111213141516&lt;div id = "app"&gt; &lt;Boy&gt;&lt;/Boy&gt; &lt;Girl&gt;&lt;/Girl&gt;&lt;/div&gt;&lt;template id = "boy"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ boy &lt;/h3&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id = "girl"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ girl &lt;/h3&gt; &lt;/div&gt;&lt;/template&gt; 1234567891011Vue.component( 'Boy' ,&#123; template: '#boy'&#125;)Vue.component( 'Girl' ,&#123; template: '#girl'&#125;)new Vue(&#123; el: '#app'&#125;) åœ¨å…¶ä¸­ä¸€ä¸ªç»„ä»¶çš„æŒ‚è½½é’©å­å‡½æ•°ä¸Šåšäº‹ä»¶çš„å£°æ˜ 12345678910111213&lt;template id = "boy"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ boy &lt;/h3&gt; &lt;button @click = "give"&gt; ç»™ girl money &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id = "girl"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ girl &lt;/h3&gt; &lt;p v-show = "flag"&gt; æ‹¿åˆ° &#123;&#123;money&#125;&#125; &lt;/p&gt; &lt;/div&gt;&lt;/template&gt; 1234567891011121314151617181920212223Vue.component( 'Girl' ,&#123; template: '#girl', data () &#123; return&#123; flag : false, money : 0 &#125; &#125;, mounted () &#123; //å½“å‰ç»„ä»¶æŒ‚è½½ç»“æŸï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨é¡µé¢ä¸­çœ‹è§çœŸå® DOM // mounted è¿™ä¸ªé’©å­å‡½æ•°çš„è§¦å‘æ¡ä»¶æ˜¯ç»„ä»¶åˆ›å»ºæ—¶è‡ªåŠ¨è§¦å‘ //äº‹ä»¶çš„å£°æ˜ var _this = this bus.$on( 'set' ,function( money )&#123; _this.flag = true //å¦‚æœç›´æ¥ç”¨ this è¿™é‡Œçš„ this æŒ‡å‘ bus ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦è¿™ä¸ª this åº”è¯¥æŒ‡å‘ Girl ç»„ä»¶ _this.money = money &#125;) &#125;&#125;) åœ¨å¦ä¸€ä¸ªç»„ä»¶ä¸­ï¼Œé€šè¿‡ bus.$emit(â€˜setâ€™) æ¥è§¦å‘è¿™ä¸ªè‡ªå®šä¹‰äº‹ä»¶ 123456789101112131415var bus = new Vue() // bus åŸå‹ä¸Šæ˜¯ä¸æ˜¯æœ‰ $on $emitVue.component( 'Boy' ,&#123; template: '#boy', data () &#123; return &#123; money : 1000 &#125; &#125;, methods : &#123; give () &#123; bus.$emit( 'set' , this.money) &#125; &#125;&#125;) å¤šç»„ä»¶çŠ¶æ€å…±äº« éå¸¸è§„ç»„ä»¶é€šä¿¡ è‡ªå®šä¹‰äº‹ä»¶å®ç°å­çˆ¶ç»„ä»¶é€šä¿¡ 123456789101112131415161718&lt;div id = "app"&gt; &lt;Father&gt;&lt;/Father&gt;&lt;/div&gt; &lt;template id = "father"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ father ç»„ä»¶ &lt;/h3&gt; &lt;p&gt; father æ”¶åˆ° son çš„ &#123;&#123;n&#125;&#125; å…ƒçº¢åŒ… &lt;/p&gt; &lt;Son :add = "add"&gt;&lt;/Son&gt; &lt;/div&gt;&lt;/template&gt;&lt;template id = "son"&gt; &lt;div&gt; &lt;h3&gt; è¿™é‡Œæ˜¯ son ç»„ä»¶ &lt;/h3&gt; &lt;button @click = "add ( money )"&gt; ç»™é’± &lt;/button&gt; &lt;/div&gt;&lt;/template&gt; 123456789101112131415161718192021222324252627Vue.component('Father',&#123; template: '#father', data () &#123; return &#123; n: 0 &#125; &#125;, methods: &#123; add ( val ) &#123; this.n = val &#125; &#125;&#125;)Vue.component('Son',&#123; template: '#son', data () &#123; return &#123; money: 1000 &#125; &#125;, props: ['add']&#125;)new Vue(&#123; el: '#app'&#125;) çˆ¶ç»„ä»¶å°†ä¸€ä¸ªæ–¹æ³•é€šè¿‡ç»‘å®šçš„å½¢å¼ç»™å­ç»„ä»¶ å­ç»„ä»¶å…ˆæ˜¯é€šè¿‡ props æ¥æ”¶è¿™ä¸ªæ–¹æ³•ï¼Œå†æ‰§è¡Œè¿™ä¸ªæ–¹æ³• ä¸æ¨èä½¿ç”¨ MVVMæ¡†æ¶æ˜¯å•å‘æ•°æ®æµï¼Œä¸Šè¿°æ–¹æ³•è¿èƒŒäº†å•é¡¹æ•°æ®æµ]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue ç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è™šæ‹ŸDOMä¸diffç®—æ³•]]></title>
    <url>%2F2019%2F06%2F24%2FVue%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99%2F</url>
    <content type="text"><![CDATA[Error in v-on handler (Promise/async): â€œReferenceError: search is not å†™ç€searchçš„åœ°æ–¹æ²¡åŠ å¼•å· å¸¸ç”¨æ­£åˆ™ https://mp.weixin.qq.com/s?__biz=MzAwNjI5MTYyMw==&amp;mid=2651497603&amp;idx=1&amp;sn=8a9d01a671623cf1bb1d259e8a7d61bf&amp;chksm=80f1ad4bb786245de894ffb446f62fe9e6ea2177959f262933a9c44405dc0a9a00d2e31bd51a&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;key=5e1a44c6b19fdb9003d45cdb093678470d418a6855955342e7cc1fc45bc12223ae400baf26ff3fab236fee0e2ea3811da171876923a8b2338735eb3c4a600f269125e9b445a67ecbf9787e8f558d40a6&amp;ascene=1&amp;uin=MzEyMTE5MTg4OQ%3D%3D&amp;devicetype=Windows+10&amp;version=62060833&amp;lang=zh_CN&amp;pass_ticket=ar4Tk1wvYM%2BI0yjRSPKvgqtI7ZJ3gFaf%2BRfJ6nm7v7XZPaP5U1aPRazcw7OOvAYE elemengt-uiç»„ä»¶ è¡¨å•æ·»åŠ æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ 123456&lt;el-form-item label="è”ç³»ç”µè¯" prop="shop_tel"&gt; &lt;el-input v-model="ruleForm.shop_tel" &gt; &lt;/el-input&gt;&lt;/el-form-item&gt; 12345rules:&#123; shop_tel:[ &#123; required: true, message: 'è¯·è¾“å…¥è”ç³»ç”µè¯', trigger: 'blur' &#125;, &#123; pattern: /^1((3[\d])|(4[5,6,9])|(5[0-3,5-9])|(6[5-7])|(7[0-8])|(8[1-3,5-8])| (9[1,8,9]))\d&#123;8&#125;$/, message: 'ç›®å‰åªæ”¯æŒä¸­å›½å¤§é™†çš„æ‰‹æœºå·ç ',trigger: ['blur'] &#125; ]&#125; element-ui çš„Cascader çº§è”é€‰æ‹©å™¨ å†…å®¹æ”¹å˜ 12345678&lt;div class="block"&gt; &lt;span class="demonstration"&gt;é»˜è®¤ click è§¦å‘å­èœå•&lt;/span&gt; &lt;el-cascader v-model="value" &lt;!-- valueå¯ä»¥æ”¹åŠ¨ä½†javascriptçš„valueå¿…é¡»åŒæ—¶æ”¹åŠ¨ --&gt; :options="options" &lt;!-- options å¯ä»¥æ”¹åŠ¨ä½†javascriptçš„optionså¿…é¡»åŒæ—¶æ”¹åŠ¨ï¼Œä¸¤ä¸ªå±æ€§åŒæ—¶æ”¹åŠ¨ --&gt; @change="handleChange"&gt; &lt;/el-cascader&gt;&lt;/div&gt; 123456789101112131415export default &#123; data() &#123; return &#123; value: [], options: [&#123; value: 'zhinan', label: 'æŒ‡å—' ]&#125; &#125;, methods: &#123; handleChange(value) &#123; console.log(value); &#125; &#125; &#125;; element-ui çº§è”é€‰æ‹©å™¨ åŠ¨æ€è·å– 123456789101112&lt;el-cascader v-model="ruleForm.shop_region" :options="get_shop_region" :props="&#123; label:'name', value:'name', children:'sub_categories' &#125;" @click="handleChange"&gt;&lt;/el-cascader&gt; options:åŠ¨æ€è·å–çš„æ•°æ® prop:åº”ç”¨åŠ¨æ€è·å–çš„æ•°æ® Duplicate keys detected: â€˜**â€™. This may cause an update error.è¿™ä¸ªé”™è¯¯æ˜¯æˆ‘ä½¿ç”¨vue-clié¡¹ç›®æ—¶å‡ºç°çš„é”™è¯¯ï¼Œçœ‹é”™è¯¯çš„çš„æŠ¥å‘Šä¸­å…³é”®å­—â€™keysâ€™,è”ç³»é”™è¯¯çš„æ—¶æœºï¼Œå¯ä»¥çŸ¥é“è¿™ä¸ªé”™è¯¯å‡ºç°åœ¨æˆ‘ä½¿ç”¨vueçš„å¾ªç¯ä¸­ï¼Œå¾ªç¯å†vueæˆ–è€…å°ç¨‹åºä¸­é¥­ä¸ºäº†ä¿è¯æ¯ä¸€é¡¹çš„ç‹¬ç«‹æ€§ï¼Œéƒ½ä¼šæ¨èä½¿ç”¨keyï¼Œæ‰€ä»¥ç»¼ä¸Šæ‰€è¿°ï¼Œå¾ˆå¯èƒ½æ˜¯keyå‡ºç°é—®é¢˜]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>è™šæ‹ŸDOM</tag>
        <tag>diffç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è™šæ‹ŸDOMä¸diffç®—æ³•]]></title>
    <url>%2F2019%2F06%2F24%2F%E8%99%9A%E6%8B%9FDOM%E4%B8%8Ediff%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[è™šæ‹Ÿ DOM ä¸ diff ç®—æ³•è™šæ‹ŸDOM è™šæ‹ŸDOMçš„å¼•å…¥æ›´å°‘çš„DOMæ“ä½œä¼šæ›´åŠ å‡å°‘æ—¶é—´èŠ±è´¹ä¸æ€§èƒ½æŸè€— åº”å…ˆæ“ä½œæ•°æ® å† æ“ä½œ DOM äºæ˜¯ æ»¡æ»¡çš„å‰ç«¯å°† è™šæ‹ŸDOMæ¦‚å¿µå¼•å…¥åœ¨æ¡†æ¶ä¸­ vdomvdomæ˜¯ä¸€ä¸ªå¯¹è±¡æ¨¡å‹ï¼Œç”¨æ¥æ‘¸ä½ çœŸå®domèŠ‚ç‚¹çš„æ“ä½œ diff ç®—æ³•diff ç®—æ³•æ˜¯æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å·®å¼‚ï¼Œå¹¶å°†è¿™ä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒä¹‹å¤„ç”Ÿæˆä¸€ä¸ªè¡¥ä¸å¯¹è±¡ ï¼ˆ patch ï¼‰ diff ç®—æ³•æ¥æºäºåç«¯ï¼Œå‰ç«¯å°†å…¶åº”ç”¨äºè™šæ‹Ÿ dom çš„ diff ç®—æ³• vue ä¸­å°†è™šæ‹Ÿ dom çš„ diff ç®—æ³•æ”¾åœ¨äº† patch.js æ–‡ä»¶ä¸­ diff ç®—æ³•æ˜¯åŒçº§æ¯”è¾ƒï¼Œç»™æ¯ä¸€å±‚æ‰“ä¸Šæ ‡è®° ï¼ˆæ•°å­—ï¼‰ ï¼Œè¿™ä¸ªæ•°å­—å°±æ˜¯ key vdom çš„ä½¿ç”¨æµç¨‹ è·å–æ•°æ® ( ajax fetch ) åˆ›å»ºvdom é€šè¿‡ render å‡½æ•°è§£æ jsxï¼Œ å°†å…¶è½¬æ¢æˆ vdom ç»“æ„ vueä¸­ä½¿ç”¨çš„æ˜¯ jsx è¯­æ³• ï¼ˆ javascript + xml ï¼‰ åˆæ¬¡æ¸²æŸ“ vdom ï¼ˆ vdom æ¸²æŸ“æˆçœŸå® domï¼‰ render å‡½æ•° æ•°æ®æ›´æ”¹ï¼Œå†æ¬¡åˆ›å»º vdom ä½¿ç”¨ diff ç®—æ³•æ¯”å¯¹ä¸¤æ¬¡ vdom ï¼Œç”Ÿæˆ patch å¯¹è±¡ æ ¹æ® key å°† patch å¯¹è±¡æ¸²æŸ“åˆ°é¡µé¢ä¸­æ”¹å˜çš„ç»“æ„ä¸Šè€Œå…¶ä»–åœ°æ–¹æ˜¯ä¸ä½œä»»ä½•ä¿®æ”¹çš„ ï¼ˆ è™šæ‹Ÿ dom çš„æƒ°æ€§åŸåˆ™ï¼‰ vueæ˜¯MVVMæ¡†æ¶ï¼ŒVueé«˜æ€§èƒ½çš„åŸå› ä¹‹ä¸€å°±æ˜¯vdom Vue vdom vs React vdom æœ‰ä½•ä¸ä¸€æ ·ï¼Ÿ]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>è™šæ‹ŸDOM</tag>
        <tag>diffç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue]]></title>
    <url>%2F2019%2F06%2F22%2FVue%2F</url>
    <content type="text"><![CDATA[Vuevueåˆæ­¥è®¤è¯†å‰ç«¯å‘å±•å†å²html html [1990]â€”-&gt; html5 [2008.1.12] css css 1.0 1996 css 2.0 1998 css 3.0 2001 EcmaScript1.1997å¹´è¯ç”Ÿ2.2015 EcmaScript 20153.2016 EcmaScript 2016 dartè¯­è¨€ vs javascript æ¶æ„æ€æƒ³çš„å‡ºç°éšç€å‰ç«¯é¡¹ç›®çš„é€»è¾‘è¶Šæ¥è¶Šå¤æ‚å’Œéš¾ä»¥ç»´æŠ¤ï¼Œé‚£ä¹ˆå‰ç«¯è¿™è¾¹å¼•è¿›äº†åç«¯çš„æ¶æ„æ€æƒ³ï¼ˆ MV* ï¼‰ M Model æ•°æ®å±‚ V View è§†å›¾å±‚ VM ViewModel è§†å›¾æ¨¡å‹ï¼ˆ ä¸šåŠ¡é€»è¾‘ VM æ˜¯ ç”± P æ”¹åå¾—æ¥çš„ï¼‰ P Presenter æå‡ºè€…ï¼ˆ Controller æ”¹åå¾—æ¥çš„ ï¼‰ C Controller æ§åˆ¶å™¨ ( ä¸šåŠ¡é€»è¾‘ ) Backbone.js MVP 2010.10 Angular.js( 1.0 ) MVC 2010.10 Angular.ts ( 2.0 ) MVC -&gt; MVVM 2016 ç›®å‰å·²ç»æ›´æ–°åˆ°äº† Angular7 ( ä¹Ÿå±äºangular2.0 ç‰ˆæœ¬ ) Vue 1.0 MVVVM 2014/07 Vue 2.0 MVVM 2016/09 React 2012 ä¸å¤ªè®¤å¯å‰ç«¯MVCè¿™ç§æ¶æ„æ€æƒ³ï¼Œ ä½ å¯ä»¥å°†Reactå•çº¯çœ‹åšæ˜¯MVCä¸­V githubç»Ÿè®¡é‡ ï¼ˆ å›½é™…ä½¿ç”¨é‡ ï¼‰ä¸ä»£è¡¨å¤§é™†åœ°åŒº å•ä½æ˜¯ï¼š K angular.js angular.ts vue React 59.6 49.1 142 131 å­¦ä¹ éš¾åº¦ï¼š Vue &lt; React &lt; Angular( 2.0 ) å‰ç«¯æµè¡Œ ç§»åŠ¨ web &amp;&amp; hybird app( æ··åˆapp ) app native app ( å®‰å“ ios java ME) webapp ( åº”ç”¨åœ¨æµè§ˆå™¨ä¸­çš„app ) Hybird app ( æ··åˆapp ) webapp åµŒå…¥ ç¬¬ä¸‰æ–¹åŸç”Ÿåº”ç”¨åº“ï¼ˆ å¯ä»¥è®¿é—®åŸç”Ÿè®¾å¤‡ï¼ˆæ‰‹æœºï¼‰ çš„æ¥å£æƒé™ï¼Œæ¯”å¦‚ï¼šç…§ç›¸æœº ï¼‰ MV*çš„å›¾ç¤ºMVC Cæ”¹åä¸ºP MVP | Pæ›´åƒæ˜¯åª’äººäº†ï¼ˆ è¿æ¥ M V çš„æ¡¥æ¢ï¼‰ MVVM VM æ˜¯ ç”± pæ”¹åå¾—æ¥çš„ VM å’Œ V çš„å…³ç³»æ›´åŠ çš„äº²å¯† â€œMVVMâ€:åŒå‘æ•°æ®ç»‘å®šï¼ŒViewçš„å˜åŠ¨ï¼Œæ˜ å°„åœ¨ ViewModelï¼Œåä¹‹ä¸€æ · æ³¨æ„ï¼š â€‹ ä»¥ä¸Šçš„è¿™å‡ ä¸ªæ¡†æ¶éƒ½æ˜¯ï¼š å•å‘æ•°æ®æµï¼ˆ æ•°æ®ç”± çˆ¶çº§ æµå‘ å­çº§ ï¼‰ åˆè¯†Vue.js Vue.jsæ˜¯å°¤é›¨æºªçš„ä¸ªäººé¡¹ç›® Vue.jsæ˜¯ä¸€ä¸ªMVVMæ¡†æ¶ Vue.jsä¹Ÿæ˜¯ä¸€ä¸ªjavascriptçš„æ¸è¿›å¼æ¡†æ¶ï¼ˆ è¶Šå­¦è¶Šéš¾ ï¼‰ å‰ç«¯è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒçŸ¥åçš„MVVMçš„ä¸ªäººé¡¹ç›®ï¼š å¸å¾’æ­£ç¾ avonlon.js vue.jså®‰è£… scriptæ ‡ç­¾å¼•å…¥ï¼ˆ cdn| ä¸‹è½½ ï¼‰ æ¨¡å—åŒ–å®‰è£… npm/cnpm/yarn mutache è¯­æ³•ç³–mustacheè¯­æ³•ç³–å¯¹æ•°æ®ç±»å‹çš„æ”¯æŒï¼ˆ jsè¯­æ³•çš„æ”¯æŒ ï¼‰æ•°æ®ç±»å‹ï¼š ç¬¬ä¸€ç§åˆ’åˆ†ï¼š åŸºç¡€æ•°æ®ç±»å‹ï¼š number string boolean å¤æ‚æ•°æ®ç±»å‹: Object( array function ) ç‰¹æ®Šæ•°æ®ç±»å‹: null undefined ç¬¬äºŒç§åˆ’åˆ†ï¼š åˆå§‹æ•°æ®ç±»å‹: number string boolean null undefined å¼•ç”¨æ•°æ®ç±»å‹: object( array function ) â€‹ ç»“è®º mustacheæ”¯æŒæˆ‘ä»¬jsçš„æ•°æ®ç±»å‹çš„ conosle.log å’Œ alert åœ¨æˆ‘ä»¬mustacheè¯­æ³•ä¸­æ˜¯ä¸æ”¯æŒçš„ mustache ç»‘å®š domçš„å±æ€§-v-html 12345&lt;div id="app"&gt; &lt;p v-html = "h"&gt;&lt;/p&gt; &lt;p v-text = "msg"&gt;&lt;/p&gt; &lt;p v-text = " flag &amp;&amp; 1 || 2 " &gt; &lt;/p&gt;&lt;/div&gt; 12345678var vm = new Vue(&#123; el: '#app', data: &#123; msg: 'hello Vue.js', h: '&lt;h3&gt; hello Vue.js &lt;/h3&gt;', flag: true &#125;&#125;)åˆ†æ å‘ç°domå…ƒç´ ç›´æ¥æœ‰äº†ä¸€ä¸ªå†…å®¹ï¼Œè¿™ç§å±æ€§ç»‘å®šå°±æ˜¯ä¸ºäº†æ“ä½œdom ç»“è®º è¿™ç§å±æ€§ç»‘å®šçš„å½¢å¼å°±æ˜¯ä¸ºäº†æ“ä½œdomï¼Œæˆ‘ä»¬ç»™è¿™ç§å±æ€§èµ·äº†ä¸€ä¸ªå¥½å¬çš„åå­— Vue 1.0 å«å®ƒ å±æ€§æŒ‡ä»¤ï¼ˆ å€Ÿé‰´Angularæ¥çš„ ï¼‰ Vue 2.0 ç»Ÿç§°ä¸º â€˜æŒ‡ä»¤â€™ æŒ‡ä»¤æ˜¯ç”¨ä¸€ä¸ª v-xxx è¡¨ç¤º æŒ‡ä»¤æ˜¯ç”¨æ¥æ“ä½œdom Vueä¸­ä¸å…è®¸ç›´æ¥æ“ä½œdom mustacheè¯­æ³• â€” å±æ€§å†™æ³• çš„å±æ€§å€¼æ˜¯ç›´æ¥å†™æ•°æ®çš„ï¼Œä¸éœ€è¦ä½¿ç”¨ {{ }} MVVMåˆ†åˆ«ä»£è¡¨ vueæ˜¯ MVVM æ¡†æ¶ï¼Œ é‚£ä¹ˆè°æ˜¯ M è°æ˜¯ V è°æ˜¯ VM Mï¼š Model æ•°æ® Vï¼š View è§†å›¾ VM: ViewModel è§†å›¾æ¨¡å‹ï¼ˆ new Vue() ï¼‰ æŒ‡ä»¤ v-html: å¯ä»¥è§£ææ ‡ç­¾å‹æ•°æ®( å¯ä»¥å°†ä¸€ä¸ªæ•°æ®å±•ç¤ºåœ¨ä¸€ä¸ªdomçš„å†…å®¹ä¸­ï¼ˆ ç›¸å½“äºä½¿ç”¨äº† innerHTML ï¼‰) v-textï¼šå¯ä»¥å°†ä¸€ä¸ªæ•°æ®å±•ç¤ºåœ¨ä¸€ä¸ªdomçš„å†…å®¹ä¸­ï¼ˆ ç›¸å½“äºä½¿ç”¨äº† innerHTML ï¼‰ æ¡ä»¶æ¸²æŸ“çš„æŒ‡ä»¤ v-show å¯ä»¥æ§åˆ¶ä¸€ä¸ªdomçš„æ˜¾ç¤ºéšè—ï¼ˆ è¿™ä¸ªæŒ‡ä»¤æ“ä½œçš„æ˜¯domçš„displayå±æ€§ ï¼‰ v-if å¯ä»¥æ§åˆ¶ä¸€ä¸ªdomçš„å­˜åœ¨ä¸å¦ï¼ˆ åˆ›å»º å’Œ é”€æ¯ ï¼‰ v-if vs v-show åŒºåˆ« v-if æ“ä½œçš„æ˜¯domå…ƒç´ ï¼ˆ ç»„ä»¶ ï¼‰ çš„åˆ›å»ºæˆ–æ˜¯é”€æ¯ v-show æ“ä½œçš„æ˜¯domå…ƒç´ çš„displayå±æ€§ v-ifå¯ä»¥æœ‰å¤šç§ä½¿ç”¨å½¢å¼ï¼š å•è·¯åˆ†æ”¯ï¼Œ å¤šè·¯åˆ†æ”¯ï¼Œ åŒè·¯åˆ†æ”¯ v-show åªèƒ½å†™ä¸€ä¸ªå•è·¯å½¢å¼ v-for æ•°ç»„ v-for = â€œ (item,index) in arr â€œ itemæ˜¯arrä¸­æ¯ä¸€ä¸ªå…ƒç´  å¯¹è±¡ v-for = â€œ(item,key,index) in obj â€œ itemæ˜¯objçš„å±æ€§å€¼ jsonç±»å‹æ•°æ® åµŒå¥—ç±»å‹æ•°æ® æ–¹æ³• 1for( var i = 0 ; i &lt; 100; i ++ )&#123;&#125; 1for( var i in arr )&#123;&#125; 1for ( var i of arr ) &#123;&#125; key ç»™æ²¡ä¸€ä¸ªå¾ªç¯çš„åˆ—è¡¨æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯† ä½¿ç”¨æŒ‡ä»¤ v-bind æ¥ç»‘å®š key 1&lt;div v-for = " (item,index) in lists" v-bind: key = " item.id "&gt;&lt;/div&gt; å¦‚æœæœ‰idï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä½¿ç”¨idï¼Œå¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬æ‰ä¼šé€‰æ‹©index v-bind: å•é¡¹æ•°æ®ç»‘å®šï¼š å°†ä¸€ä¸ªæ•°æ®ç»‘å®šåœ¨ä¸€ä¸ªdomçš„å±æ€§ä¸Š ç®€å†™ 1&lt;div v-for = " (item,index) in lists" :key = " item.id "&gt;&lt;/div&gt; vueä¸­å¦‚ä½•ç»™domæ·»åŠ ç±»å ç›´æ¥åœ¨domä¸Šç»‘å®šç±»å vueä¸­ç±»åç»‘å®š - å¯¹è±¡å½¢å¼ ç›®çš„ï¼š domèº«ä¸Šå±æ€§class è¦å’Œ æ•°æ®ç»‘å®š è§£å†³ï¼šv-bind æ•°æ®ä¸­keyï¼Œå’Œç»‘å®šçš„å¯¹è±¡ä¸­çš„keyä¸€æ ·ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªä¸œè¥¿ä¸ä¸€æ · vueä¸­ç±»åç»‘å®šçš„å½¢å¼ - æ•°ç»„çš„å½¢å¼ ã€ æ¨è ã€‘ æ ¼å¼ï¼š v-bind:class = â€œ[ æ•°æ® ]â€ ç±»åç»‘å®šä¸ä¼šè¦†ç›–åŸå…ˆçš„ç±»å é€šè¿‡æ•°æ®æ¥æ“ä½œç±»åï¼Œç±»åæ“ä½œdom æ ·å¼çš„ç»‘å®š 1v-bind: style = "" å¯¹è±¡çš„å½¢å¼ æ•°ç»„çš„å½¢å¼ 123456789101112new Vue(&#123; el: '#app', data: &#123; size: &#123; width: '100px', height: '100px' &#125;, bg: &#123; background: 'purple' &#125; &#125; &#125;) äº‹ä»¶ äº‹ä»¶ç»‘å®š 12345dom.onclick = function () &#123;&#125;dom: äº‹ä»¶æºon: ç»‘å®šäº‹ä»¶çš„å½¢å¼click: äº‹ä»¶ç±»å‹functionï¼ˆï¼‰&#123;&#125; äº‹ä»¶å¤„ç†å‡½æ•° äº‹ä»¶ç›‘å¬ ï¼š addeventListener ç›´æ¥åœ¨æ ‡ç­¾ä¸­ç»‘å®šäº‹ä»¶ 1&lt;div onclick = "äº‹ä»¶åç§°"&gt;&lt;/div&gt; vueé‡‡ç”¨äº†ç¬¬ä¸‰ç§ï¼Œä¹Ÿæ˜¯é€šè¿‡å±æ€§çš„å½¢å¼ç»‘å®šåœ¨domèº«ä¸Š 1&lt;div v-on:click = "äº‹ä»¶åç§°"&gt;&lt;/div&gt; 1v-on:eventType = " handlerName " ç®€å†™: v-on: â€” &gt; @ äº‹ä»¶å¯¹è±¡ä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œåœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œ å†™eå°±å¯ä»¥äº† 12345678 el: '#app', methods: &#123; // å­˜æ”¾äº‹ä»¶å¤„ç†ç¨‹åº helloHandler ( e ) &#123; console.log( e ) &#125; &#125;&#125;) äº‹ä»¶å¤„ç†ç¨‹åºä¸­æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ‰æ˜¯äº‹ä»¶å¯¹è±¡e,å¦‚ä½•å®ç° å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼ å…¥ä¸€ä¸ªå®é™…å‚æ•° $event æ¥ä»£è¡¨äº‹ä»¶å¯¹è±¡ é˜»æ­¢äº‹ä»¶å†’æ³¡ @click.stop v-model åŒå‘æ•°æ®ç»‘å®š é»˜è®¤ç»‘å®švalueå€¼ v-modelåº”ç”¨äºè¡¨å•å…ƒç´  1234&lt;div id="app"&gt; &lt;input type="text" v-model = "msg"&gt; &lt;p&gt; &#123;&#123; msg &#125;&#125; &lt;/p&gt;&lt;/div&gt; 123456new Vue(&#123; el: '#app', data: &#123; msg: 'hello Vue.js' &#125; &#125;) computed è®¡ç®—å±æ€§ è®¡ç®—å±æ€§ä¸­å­˜æ”¾çš„æ˜¯å‡½æ•°ï¼ˆ ä¹¦å†™é€»è¾‘ ï¼‰ è®¡ç®—å±æ€§å¯ä»¥ç›´æ¥åƒå…¨å±€å˜é‡ä¸€æ ·ä½¿ç”¨ï¼Œç›´æ¥å°†æ–¹æ³•åå½“åšå…¨å±€å˜é‡ä¸€æ ·ä½¿ç”¨]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Node.js]]></title>
    <url>%2F2019%2F06%2F22%2FNode-js%2F</url>
    <content type="text"><![CDATA[Node ç®€ä»‹å®¢æˆ·ç«¯çš„JavaScriptæ˜¯æ€æ ·çš„ ä»€ä¹ˆæ˜¯ JavaScriptï¼Ÿ+æ˜¯ä¸€ä¸ªè„šæœ¬è¯­è¨€+è¿è¡Œåœ¨æµè§ˆå™¨ï¼ˆæµè§ˆå™¨çš„jsè§£æå†…æ ¸ v8ï¼‰+å®ç°ç”¨æˆ·çš„äº¤äº’ ï¼ˆinteractiveï¼‰ å˜é‡ èµ‹å€¼ å¾ªç¯ é€»è¾‘ åˆ¤æ–­ åˆ†æ”¯ å¯¹è±¡ å‡½æ•°ã€‚ã€‚ã€‚ã€‚ dom æ“ä½œ bom æ“ä½œ ajax JavaScript çš„è¿è¡Œç¯å¢ƒï¼Ÿ+æµè§ˆå™¨å†…æ ¸è§£æå†…æ ¸ es6 æµè§ˆå™¨ä¸­çš„ JavaScript å¯ä»¥åšä»€ä¹ˆï¼Ÿ æµè§ˆå™¨ä¸­çš„ JavaScript ä¸å¯ä»¥åšä»€ä¹ˆï¼Ÿï¼ˆä¸å®‰å…¨ï¼‰+è®¿é—®æ•°æ®åº“+ä¸èƒ½å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œ+å¯¹os è¿›è¡Œæ“ä½œ+åŸå›  æ˜¯ä¸å®‰å…¨ å’Œæµè§ˆå™¨è¿è¡Œæœºåˆ¶æœ‰å…³ åœ¨å¼€å‘äººå‘˜èƒ½åŠ›ç›¸åŒçš„æƒ…å†µä¸‹ç¼–ç¨‹è¯­è¨€çš„èƒ½åŠ›å–å†³äºä»€ä¹ˆï¼Ÿ +cordova hbuilder å¹³å° platform+java javaè™šæ‹Ÿæœº ï¼ˆè¿è¡Œå¹³å°ï¼‰+php phpè™šæ‹Ÿæœº+c# .net framework mono+js è§£æå†…æ ¸ chrome v8 JavaScript åªå¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨ä¸­å—ï¼Ÿ+ä¸æ˜¯ ä¸ºä»€ä¹ˆæ˜¯JavaScript node js ä¸æ˜¯å› ä¸ºjs äº§ç”Ÿçš„ node é€‰æ‹©äº†js Ryan dahl 2009 2 æœˆä»½ nodeæœ‰æƒ³æ³• 2009 5 æœˆä»½ githup å¼€æº 2009 11æœˆä»½ jsconf è®²è§£æ¨å¹¿node 2010å¹´åº• è¢«xxxå…¬å¸æ”¶è´­ 2018 å‘å¸ƒæœ‰é‡å¤§bug npm ï¼ˆ npm æœ€å¤§çš„å¼€æº ï¼Œ åŒ…ç®¡ç†å™¨ ï¼‰ https://www.npmjs.com/ github ä¸–ç•Œä¸Šæœ€å¤§çš„åŒæ€§äº¤å‹ç½‘ç«™( github.com) ç äº‘( gitee.com) what is node ï¼Ÿ Node.js æ˜¯ä¸€ä¸ªåŸºäºChrome V8 å¼•æ“çš„JavaScriptè¿è¡Œç¯å¢ƒ Node.jsä½¿ç”¨äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ã€éé˜»å¡å¼I/Oçš„æ¨¡å‹,ä½¿å…¶è½»é‡åˆé«˜æ•ˆ äº‹ä»¶é©±åŠ¨ï¼š ä»»åŠ¡æ‰§è¡Œï¼Œå‘å¸ƒè€…ï¼Œè®¢é˜…è€…ï¼Œäº‹ä»¶é©±åŠ¨ ï¼ˆ on emit ï¼‰ éé˜»å¡ï¼š æ‰§è¡ŒæŸä¸€ä¸ªä»»åŠ¡çš„åŒæ—¶ä¹Ÿå¯ä»¥æ‰§è¡Œå…¶ä»–ä»»åŠ¡ é˜»å¡ï¼š æ‰§è¡ŒæŸä¸€ä¸ªä»»åŠ¡ï¼Œè¿™ä¸ªä»»åŠ¡å¦‚æœæ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œå…¶ä»–ä»»åŠ¡å¿…é¡»ç­‰å¾… åŒæ­¥ï¼š å¼‚æ­¥ I/O: è¾“å…¥/è¾“å‡ºï¼ˆ æ•°æ®åº“æ“ä½œï¼Œæ–‡ä»¶ç³»ç»Ÿæ“ä½œç­‰ ï¼‰ éé˜»å¡I/Oæ¨¡å‹ï¼š å½“æˆ‘ä»¬ä½¿ç”¨Node.jsæ¥å®ç°æ•°æ®åº“æ“ä½œã€æ–‡ä»¶ç³»ç»Ÿç­‰æ“ä½œæ—¶ï¼Œè¦è¿›è¡Œçš„å¼‚æ­¥æ“ä½œï¼Œå¼‚æ­¥æ“ä½œçš„æ ¸å¿ƒä¼ ç»Ÿå®ç°æ–¹å¼å°±æ˜¯å›è°ƒå‡½æ•° Node.jsçš„åŒ…ç®¡ç†å·¥å…·npm,æ˜¯å…¨çƒæœ€å¤§çš„å¼€æºåº“ç”Ÿæ€ç³»ç»Ÿ ç¬¬ä¸‰æ–¹ï¼š å›½å¤–çš„ å»ºè®®ï¼š åˆ‡æ¢å›½å†…çš„ï¼Œ æ·˜å®å›½å†…é•œåƒæº nrm å®‰è£…cnpm $ npm install -g cnpm --registry=https://registry.npm.taobao.org æŸ¥çœ‹æ˜¯å¦cnpmå®‰è£…æˆåŠŸ cnpm -v å®˜ç½‘ http://nodejs.cn/ npm æ’ä»¶å®˜ç½‘ï¼šhttps://www.npmjs.com/ ç¯å¢ƒé…ç½®Nodeçš„å®‰è£… å®‰è£…åŒ…å®‰è£… å®˜ç½‘ä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ… ä¸€è·¯next nvmå®‰è£…(æœ‰ä¸€ä¸ªç±»ä¼¼çš„å·¥å…·ï¼šnvm) Node Version Managerï¼ˆNodeç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼‰ ç”±äºä»¥åçš„å¼€å‘å·¥ä½œå¯èƒ½ä¼šåœ¨å¤šä¸ªNodeç‰ˆæœ¬ä¸­æµ‹è¯•ï¼Œè€Œä¸”Nodeçš„ç‰ˆæœ¬ä¹Ÿæ¯”è¾ƒå¤šï¼Œæ‰€ä»¥éœ€è¦è¿™ä¹ˆæ¬¾å·¥å…·æ¥ç®¡ç† é»˜è®¤å®‰è£…ç»“æŸä¹‹åï¼Œé»˜è®¤è·¯å¾„ï¼š C:\Users\xxx\AppData\Roaming\nvm nvmå®‰è£…æ•™ç¨‹åšå®¢ï¼šhttps://blog.csdn.net/qq_32682137/article/details/82684898 é—®é¢˜ï¼š å¦‚æœæœ‰çš„åŒå­¦ï¼Œä»»æ„ç›®å½•ä¸èƒ½ä½¿ç”¨nvmï¼Œåªæœ‰åœ¨nvmå®‰è£…ç›®å½•ä¸‹æ‰èƒ½ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±æ˜¯ç¯å¢ƒå˜é‡æœ‰é—®é¢˜ï¼Ÿ åœ¨é«˜çº§ç¯å¢ƒå˜é‡ä¸­çš„ç³»ç»Ÿå˜é‡ä¸­åˆ›å»ºä¸¤ä¸ªå˜é‡ 12341. NVM_HOME å˜é‡åï¼š NVM_HOME å˜é‡å€¼ï¼š nvmå®‰è£…ç›®å½•è·¯å¾„2. NVM_SYMLINK å˜é‡åï¼š NVM_SYMLINK å˜é‡å€¼ï¼š Node.jsçš„å®‰è£…ç›®å½• åœ¨ç³»ç»Ÿå˜é‡çš„pathè·¯å¾„ä¸­å°†ä¸Šé¢åˆ›å»ºçš„å˜é‡å¼•ç”¨è¿›æ¥ 1;%NVM_HOME%%NVM_SYMLINK%æ·»åŠ åˆ°ç³»ç»Ÿå˜é‡ pthè·¯å¾„çš„åé¢ åˆ‡è®°ï¼š ä¸è¦å°†pathè·¯å¾„åˆ é™¤äº† nvmä½¿ç”¨ 12345678910nvm list åˆ—å‡ºå½“å‰ç”µè„‘ä¸­æ‰€æœ‰çš„Node.jsçš„ç‰ˆæœ¬nvm install version å®‰è£…æŸä¸€ä¸ªç‰ˆæœ¬çš„Node.js , ä¸¾ä¾‹ï¼š å®‰è£…10.12.0ç‰ˆæœ¬ nvm install 10.12.0nvm use version åˆ‡æ¢æŸä¸€ä¸ªNode.jsç‰ˆæœ¬ åˆ‡æ¢ååˆ‡è®°ï¼š è¦ç¡®è®¤Nodeè¿è¡Œååˆ†æ­£å¸¸ node -v npm -v å¦‚æœä»¥ä¸Šä¸¤è€…è¾“å‡ºæ­£å¸¸ï¼Œé‚£ä¹ˆä¹…åˆ‡æ¢æˆåŠŸäº† å¦‚æœä¸æ­£å¸¸å‘¢ï¼Ÿæ¢ç‰ˆæœ¬ä¸‹è½½å®‰è£…ï¼ˆ å¿…é¡»åœ¨8.9+ ä»¥ä¸Šï¼‰ ç›¸å…³ç‰ˆæœ¬ nodeç‰ˆæœ¬å¸¸è¯† å¶æ•°ç‰ˆæœ¬ä¸ºç¨³å®šç‰ˆ ï¼ˆ0.6.x ï¼Œ0.8.x ï¼Œ0.10.xï¼‰ å¥‡æ•°ç‰ˆæœ¬ä¸ºéç¨³å®šç‰ˆï¼ˆ0.7.x ï¼Œ0.9.x ï¼Œ0.11.xï¼‰ LTSï¼ˆLong Term Supportï¼‰ LTSå’ŒCurrentåŒºåˆ« æ“ä½œæ–¹å¼ï¼š é‡æ–°ä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…ï¼› è¦†ç›–å®‰è£…å³å¯ï¼› é—®é¢˜ï¼š ä»¥å‰ç‰ˆæœ¬å®‰è£…çš„å¾ˆå¤šå…¨å±€çš„å·¥å…·åŒ…éœ€è¦é‡æ–°å®‰è£… æ— æ³•å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬ æ— æ³•åœ¨å¤šä¸ªç‰ˆæœ¬ä¹‹é—´åˆ‡æ¢ï¼ˆå¾ˆå¤šæ—¶å€™æˆ‘ä»¬è¦ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬ï¼‰ Windowsä¸‹å¸¸ç”¨çš„å‘½ä»¤è¡Œæ“ä½œ åˆ‡æ¢å½“å‰ç›®å½•ï¼ˆchange directoryï¼‰ï¼šcd åˆ›å»ºç›®å½•ï¼ˆmake directoryï¼‰ï¼šmkdir æŸ¥çœ‹å½“å‰ç›®å½•åˆ—è¡¨ï¼ˆdirectoryï¼‰ï¼šdir åˆ«åï¼šlsï¼ˆlistï¼‰ æ¸…ç©ºå½“å‰æ§åˆ¶å°ï¼šcls åˆ«åï¼šclear åˆ é™¤æ–‡ä»¶ï¼šdel åˆ«åï¼šrm æ³¨æ„ï¼šæ‰€æœ‰åˆ«åå¿…é¡»åœ¨æ–°ç‰ˆæœ¬çš„ PowerShell ï¼ˆlinuxç³»ç»Ÿï¼‰ä¸­ä½¿ç”¨ ç”µè„‘ï¼š â€‹ cmdé‡Œé¢ç”¨çš„å«åš DOSå‘½ä»¤ â€‹ cmdç»ˆç«¯å”¤é†’ï¼š winé”® + R , è¾“å…¥cmd å›è½¦ â€‹ mkdir åˆ›å»ºç›®å½• â€‹ dir åˆ—å‡ºå½“å‰ç›®å½•çš„åˆ—è¡¨ â€‹ cls æ¸…ç©ºç»ˆç«¯å‘½ä»¤ â€‹ del åˆ é™¤æŸä¸€ä¸ªæ–‡ä»¶ â€‹ git / powershell ç”¨çš„æ˜¯linuxå‘½ä»¤ â€‹ mkdir åˆ›å»ºç›®å½• â€‹ ls æŸ¥çœ‹å½“å‰ç›®å½•åˆ—è¡¨ â€‹ clear æ¸…ç©ºå½“å‰æ§åˆ¶å° â€‹ rm -rf æ–‡ä»¶åç§° åˆ é™¤æŸä¸€ä¸ªæ–‡ä»¶æˆ–æ˜¯ç›®å½• â€‹ ä¸¤ç§ç±»å‹çš„å‘½ä»¤ä¸­ï¼Œ cdæ˜¯ä¸€ä¸ªæ„æ€ å¸¸è§é—®é¢˜ ç¯å¢ƒå˜é‡ä¸¢å¤± éƒ¨åˆ†ç”µè„‘å®‰è£…å®Œæ¯•ä¹‹åæ²¡æœ‰ç¯å¢ƒå˜é‡éœ€è¦æ‰‹åŠ¨é…ç½® Windowsä¸­ç¯å¢ƒå˜é‡åˆ†ä¸ºç³»ç»Ÿå˜é‡å’Œç”¨æˆ·å˜é‡ ç¯å¢ƒå˜é‡çš„å˜é‡åæ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ PATH å˜é‡ï¼šåªè¦æ·»åŠ åˆ° PATH å˜é‡ä¸­çš„è·¯å¾„ï¼Œéƒ½å¯ä»¥åœ¨ä»»ä½•ç›®å½•ä¸‹ ç›®çš„å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒèµ·nodeå‘½ä»¤ Node.jså®æ—¶ç›‘å¬ï¼ˆ è‡ªåŠ¨åˆ·æ–° ï¼‰å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·å®ç°ï¼š â€‹ nodemon ã€ æ¨è ã€‘ â€‹ cnpm i nodemon -g â€‹ nodemon æ–‡ä»¶åç§° â€‹ supervisor â€‹ cnpm i supervisor -g â€‹ supervisor æ–‡ä»¶åç§° ##æ¨¡å—,åŒ… commonjs commonjsè§„èŒƒå‰ç«¯æ¨¡å—åŒ–ï¼šAMD,CMD,Commonjs Node åº”ç”¨ç”±æ¨¡å—ç»„æˆï¼Œé‡‡ç”¨ CommonJS æ¨¡å—è§„èŒƒã€‚ å®šä¹‰moduleæ¯ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚ æš´éœ²æ¥å£ CommonJSè§„èŒƒè§„å®šï¼Œæ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œmoduleå˜é‡ä»£è¡¨å½“å‰æ¨¡å—ã€‚è¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„exportså±æ€§ï¼ˆå³module.exportsï¼‰æ˜¯å¯¹å¤–çš„æ¥å£ã€‚åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„module.exportså±æ€§ã€‚ 123456 var x = 5;var addX = function (value) &#123; return value + x;&#125;;module.exports.x = x;module.exports.addX = addX; å¼•ç”¨ requireæ–¹æ³•ç”¨äºåŠ è½½æ¨¡å—ã€‚ 123 var example = require(&apos;./example.js&apos;);console.log(example.x); // 5console.log(example.addX(1)); // 6 æ¨¡å—çš„åˆ†ç±» å†…ç½®æ¨¡å— 1234const process = require(&apos;process&apos;)const path = require(&apos;path&apos;)console.log(process.version)console.log(path.resolve(&apos;../&apos;)) ç¬¬ä¸‰æ–¹æ¨¡å— 12345678910 const request=require(&quot;request&quot;);console.log(request)request.get(&apos;http://api.douban.com/v2/movie/in_theaters&apos;, (err, response, body) =&gt; &#123; if (!err) &#123; // console.log(body); console.log(JSON.parse(body)) &#125; else &#123; console.log(err); &#125;&#125;) è‡ªå®šä¹‰æ¨¡å— ###npm ä½¿ç”¨å…¥é—¨ å®˜ç½‘:https://www.npmjs.com/ å®‰è£…ï¼šæ— éœ€å®‰è£… æŸ¥çœ‹å½“å‰ç‰ˆæœ¬ï¼š 1$ npm -v æ›´æ–°ï¼š 1$ npm install npm@latest -g åˆå§‹åŒ–å·¥ç¨‹ 123$ npm init$ npm init --yes é»˜è®¤é…ç½® å®‰è£…åŒ… ä½¿ç”¨npm installä¼šè¯»å–package.jsonæ–‡ä»¶æ¥å®‰è£…æ¨¡å—ã€‚å®‰è£…çš„æ¨¡å—åˆ†ä¸ºä¸¤ç±» dependencieså’ŒdevDependenciesï¼Œåˆ†åˆ«å¯¹åº”ç”Ÿäº§ç¯å¢ƒéœ€è¦çš„å®‰è£…åŒ…å’Œå¼€å‘ç¯å¢ƒéœ€è¦çš„å®‰è£…åŒ…ã€‚ 1234567$ npm install$ npm install &lt;package_name&gt; $ npm install &lt;package_name&gt; --save$ npm install &lt;package_name&gt; --save-dev æ›´æ–°æ¨¡å— 1$ npm update å¸è½½æ¨¡å— 123$ npm uninstall &lt;package_name&gt;$ npm uninstall --save lodash é…ç½®npmæº ä¸´æ—¶ä½¿ç”¨, å®‰è£…åŒ…çš„æ—¶å€™é€šè¿‡â€“registryå‚æ•°å³å¯ $ npm install express â€“registry https://registry.npm.taobao.org å…¨å±€ä½¿ç”¨ 12345$ npm config set registry https://registry.npm.taobao.org// é…ç½®åå¯é€šè¿‡ä¸‹é¢æ–¹å¼æ¥éªŒè¯æ˜¯å¦æˆåŠŸnpm config get registry// æˆ–npm info express cnpm ä½¿ç”¨ 12345// å®‰è£…cnpm npm install -g cnpm --registry=https://registry.npm.taobao.org // ä½¿ç”¨cnpmå®‰è£…åŒ… cnpm install express å¸¸ç”¨çš„å†…ç½®æ¨¡å—node å¸¸ç”¨å†…ç½®api (1) URL ç½‘å€è§£æ è§£æURLç›¸å…³ç½‘å€ä¿¡æ¯ url.parse(urlString[, parseQueryString[, slashesDenoteHost]]) url.format(urlObject) url.resolve(from, to)(2) QueryString å‚æ•°å¤„ç† querystring.escape(str) querystring.unescape(str) querystring.parse(str[, sep[, eq[, options]]]) querystring.stringify(obj[, sep[, eq[, options]]])(3) HTTP æ¨¡å—æ¦‚è¦ http.createServer([options][, requestListener]) http.get(options[, callback]) ç®€æ˜“çš„çˆ¬è™« ä»£ç†è·¨åŸŸå¤„ç†(4) äº‹ä»¶ events æ¨¡å—(5) æ–‡ä»¶fsæ¨¡å— æ‰“å°ç›®å½•æ ‘(6) Stream æµæ¨¡å— æ­Œè¯æ’­æ”¾ éŸ³ä¹ä¸‹è½½(8) request æ–¹æ³• 2ã€Node.js åŸºç¡€åº”ç”¨1ã€åº”ç”¨ HTTP æ¨¡å—ç¼–å†™ä¸€ä¸ªå°çˆ¬è™«å·¥å…·(1) åˆ©ç”¨çˆ¬è™«è·å–â€œæ‹‰å‹¾ç½‘â€é¦–é¡µåˆ—è¡¨æ•°æ®(2) é€šè¿‡ npm å®‰è£… cheerio æ¨¡å—è·å¾—æ•°æ®2ã€åç«¯è¡¨å•çš„æäº¤è¦æ±‚:(1) åº”ç”¨ request post æ¨¡æ‹Ÿæäº¤è¡¨å• æ–‡ä»¶è¯»å–Nodeä¸­æ–‡ä»¶è¯»å–çš„æ–¹å¼ä¸»è¦æœ‰ï¼š fs.readFile(file[, options], callback(error, data)) 1234fs.readFile('c:\\demo\1.txt', 'utf8', (err, data) =&gt; &#123; if (err) throw err; console.log(data);&#125;); fs.readFileSync(file[, options]) 1234567try &#123; const data = fs.readFileSync('c:\\demo\1.txt', 'utf8'); console.log(data);&#125; catch(e) &#123; // æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæˆ–è€…æƒé™é”™è¯¯ throw e;&#125; fs.createReadStream(path[, options]) 12345678const stream = fs.createReadStream('c:\\demo\1.txt');let data = ''stream.on('data', (trunk) =&gt; &#123; data += trunk;&#125;);stream.on('end', () =&gt; &#123; console.log(data);&#125;); ç”±äºWindowså¹³å°ä¸‹é»˜è®¤æ–‡ä»¶ç¼–ç æ˜¯GBKï¼Œåœ¨Nodeä¸­ä¸æ”¯æŒï¼Œå¯ä»¥é€šè¿‡iconv-liteè§£å†³ Readlineæ¨¡å—é€è¡Œè¯»å–æ–‡æœ¬å†…å®¹12345678910const readline = require('readline');const fs = require('fs');const rl = readline.createInterface(&#123; input: fs.createReadStream('sample.txt')&#125;);rl.on('line', (line) =&gt; &#123; console.log('Line from file:', line);&#125;); æ–‡ä»¶å†™å…¥Nodeä¸­æ–‡ä»¶å†™å…¥çš„æ–¹å¼ä¸»è¦æœ‰ï¼š fs.writeFile(file, data[, options], callback(error)) 123fs.writeFile('c:\\demo\a.txt', new Date(), (error) =&gt; &#123; console.log(error);&#125;); fs.writeFileSync(file, data[, options]) 123456try &#123; fs.writeFileSync('c:\\demo\a.txt', new Date());&#125; catch (error) &#123; // æ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œæˆ–è€…æƒé™é”™è¯¯ console.log(error);&#125; fs.createWriteStream(path[,option]) 123456var streamWriter = fs.createWriteStream('c:\\demo\a.txt');setInterval(() =&gt; &#123; streamWriter.write(`$&#123;new Date&#125;\n`, (error) =&gt; &#123; console.log(error); &#125;);&#125;, 1000); nodeä¸­çš„å¼‚æ­¥æ“ä½œ fsæ¨¡å—å¯¹æ–‡ä»¶çš„å‡ ä¹æ‰€æœ‰æ“ä½œéƒ½æœ‰åŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§å½¢å¼ ä¾‹å¦‚ï¼šreadFile() å’Œ readFileSync() åŒºåˆ«ï¼š åŒæ­¥è°ƒç”¨ä¼šé˜»å¡ä»£ç çš„æ‰§è¡Œï¼Œå¼‚æ­¥åˆ™ä¸ä¼š å¼‚æ­¥è°ƒç”¨ä¼šå°†è¯»å–ä»»åŠ¡ä¸‹è¾¾åˆ°ä»»åŠ¡é˜Ÿåˆ—ï¼Œç›´åˆ°ä»»åŠ¡æ‰§è¡Œå®Œæˆæ‰ä¼šå›è°ƒ å¼‚å¸¸å¤„ç†æ–¹é¢ï¼ŒåŒæ­¥å¿…é¡»ä½¿ç”¨ try catch æ–¹å¼ï¼Œå¼‚æ­¥å¯ä»¥é€šè¿‡å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•° 123456789101112131415console.time('sync');try &#123; var data = fs.readFileSync(path.join('C:\\Users\\iceStone\\Downloads', 'H.mp4')); // console.log(data);&#125; catch (error) &#123; throw error;&#125;console.timeEnd('sync');console.time('async');fs.readFile(path.join('C:\\Users\\iceStone\\Downloads', 'H.mp4'), (error, data) =&gt; &#123; if (error) throw error; // console.log(data);&#125;);console.timeEnd('async'); promise å¯¹è±¡çš„ä½¿ç”¨å‚è€ƒèµ„æ–™ï¼šJavaScript Promiseè¿·ä½ ä¹¦ PromisePromiseæ˜¯æŠ½è±¡å¼‚æ­¥å¤„ç†å¯¹è±¡ä»¥åŠå¯¹å…¶è¿›è¡Œå„ç§æ“ä½œçš„ç»„ä»¶ã€‚Promiseå¹¶ä¸æ˜¯ä»JavaScriptä¸­å‘ç¥¥çš„æ¦‚å¿µã€‚Promiseæœ€åˆè¢«æå‡ºæ˜¯åœ¨ Eè¯­è¨€ä¸­ï¼Œ å®ƒæ˜¯åŸºäºå¹¶åˆ—/å¹¶è¡Œå¤„ç†è®¾è®¡çš„ä¸€ç§ç¼–ç¨‹è¯­è¨€ã€‚ç°åœ¨JavaScriptä¹Ÿæ‹¥æœ‰äº†è¿™ç§ç‰¹æ€§ï¼Œè¿™å°±æ˜¯JavaScript Promise ä½¿ç”¨äº†å›è°ƒå‡½æ•°çš„å¼‚æ­¥å¤„ç† 123456789----getAsync("fileA.txt", function(error, result)&#123; if(error)&#123;// å–å¾—å¤±è´¥æ—¶çš„å¤„ç† throw error; &#125; // å–å¾—æˆåŠŸæ—¶çš„å¤„ç†&#125;);----&lt;1&gt; ä¼ ç»™å›è°ƒå‡½æ•°çš„å‚æ•°ä¸º(errorå¯¹è±¡ï¼Œ æ‰§è¡Œç»“æœ)é”™è¯¯ä¼˜å…ˆå¤„ç† ä½¿ç”¨äº†å›è°ƒå‡½æ•°çš„å¼‚æ­¥å¤„ç† 123456789----var promise = getAsyncPromise("fileA.txt"); promise.then(function(result)&#123; // è·å–æ–‡ä»¶å†…å®¹æˆåŠŸæ—¶çš„å¤„ç†&#125;).catch(function(error)&#123; // è·å–æ–‡ä»¶å†…å®¹å¤±è´¥æ—¶çš„å¤„ç†&#125;);----&lt;1&gt; è¿”å›promiseå¯¹è±¡ åˆ›å»ºPromiseå¯¹è±¡ * 123456var promise = new Promise(function(resolve, reject) &#123; // å¼‚æ­¥å¤„ç† // å¤„ç†ç»“æŸåã€è°ƒç”¨resolve æˆ– reject resolve(&apos;æˆåŠŸå¤„ç†&apos;) reject(&apos;é”™è¯¯å¤„ç†&apos;)&#125;); ä½¿ç”¨å®ä¾‹ * åˆ›å»ºä¸€ä¸ªpriomise å¯¹è±¡å¹¶è¿”å›new Promise(fn) åœ¨fn ä¸­æŒ‡å®šå¼‚æ­¥ç­‰å¤„ç† å¤„ç†ç»“æœæ­£å¸¸çš„è¯ï¼Œè°ƒç”¨resolve(å¤„ç†ç»“æœå€¼) å¤„ç†ç»“æœé”™è¯¯çš„è¯ï¼Œè°ƒç”¨ reject(Errorå¯¹è±¡) 1234567891011121314function asyncFunction() &#123; return new Promise(function (resolve, reject) &#123; setTimeout(function () &#123; resolve('Async Hello world'); &#125;, 16); &#125;);&#125;asyncFunction().then(function (value) &#123; console.log(value); // =&gt; 'Async Hello world'&#125;).catch(function (error) &#123; console.log(error);&#125;); Promiseçš„çŠ¶æ€ ç”¨new Promise å®ä¾‹åŒ–çš„promiseå¯¹è±¡æœ‰ä»¥ä¸‹ä¸‰ä¸ªçŠ¶æ€ã€‚ â€œhas-resolutionâ€ - Fulfilled resolve(æˆåŠŸ)æ—¶ã€‚ â€œhas-rejectionâ€ - Rejected reject(å¤±è´¥)æ—¶ â€œunresolvedâ€ - Pending æ—¢ä¸æ˜¯resolveä¹Ÿä¸æ˜¯rejectçš„çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯promiseå¯¹è±¡åˆšè¢«åˆ›å»ºåçš„åˆå§‹åŒ–çŠ¶æ€ç­‰ promiseå¯¹è±¡çš„çŠ¶æ€ï¼Œä»Pendingè½¬æ¢ä¸ºFulfilledæˆ–Rejectedä¹‹åï¼Œ è¿™ä¸ªpromiseå¯¹è±¡çš„çŠ¶æ€å°±ä¸ä¼šå†å‘ç”Ÿä»»ä½•å˜åŒ–ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼ŒPromiseä¸Eventç­‰ä¸åŒï¼Œåœ¨.then åæ‰§è¡Œçš„å‡½æ•°å¯ä»¥è‚¯å®šåœ°è¯´åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚ å¦å¤–ï¼ŒFulfilledå’ŒRejectedè¿™ä¸¤ä¸ªä¸­çš„ä»»ä¸€çŠ¶æ€éƒ½å¯ä»¥è¡¨ç¤ºä¸ºSettled(ä¸å˜çš„)ã€‚ Settledresolve(æˆåŠŸ) æˆ– reject(å¤±è´¥)ã€‚ ä»Pendingå’ŒSettledçš„å¯¹ç§°å…³ç³»æ¥çœ‹ï¼ŒPromiseçŠ¶æ€çš„ç§ç±»/è¿ç§»æ˜¯éå¸¸ç®€å•æ˜“æ‡‚çš„ã€‚ å½“promiseçš„å¯¹è±¡çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç”¨.then æ¥å®šä¹‰åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡çš„å‡½æ•°ã€‚ è·¯å¾„æ¨¡å—åœ¨æ–‡ä»¶æ“ä½œçš„è¿‡ç¨‹ä¸­ï¼Œéƒ½å¿…é¡»ä½¿ç”¨ç‰©ç†è·¯å¾„ï¼ˆç»å¯¹è·¯å¾„ï¼‰ï¼Œpathæ¨¡å—æä¾›äº†ä¸€ç³»åˆ—ä¸è·¯å¾„ç›¸å…³çš„ API 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879console.log('joinç”¨äºæ‹¼æ¥å¤šä¸ªè·¯å¾„éƒ¨åˆ†ï¼Œå¹¶è½¬åŒ–ä¸ºæ­£å¸¸æ ¼å¼');const temp = path.join(__dirname, '..', 'lyrics', './å‹è°Šä¹‹å…‰.lrc');console.log(temp);console.log('è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶å');console.log(path.basename(temp));console.log('è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶åå¹¶æ’é™¤æ‰©å±•å');console.log(path.basename(temp, '.lrc'));console.log('====================================');console.log('è·å–ä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„åˆ†éš”ç¬¦');console.log(process.platform + 'çš„åˆ†éš”ç¬¦ä¸º ' + path.delimiter);console.log('ä¸€èˆ¬ç”¨äºåˆ†å‰²ç¯å¢ƒå˜é‡');console.log(process.env.PATH.split(path.delimiter));console.log('====================================');console.log('è·å–ä¸€ä¸ªè·¯å¾„ä¸­çš„ç›®å½•éƒ¨åˆ†');console.log(path.dirname(temp));console.log('====================================');console.log('è·å–ä¸€ä¸ªè·¯å¾„ä¸­æœ€åçš„æ‰©å±•å');console.log(path.extname(temp));console.log('====================================');console.log('å°†ä¸€ä¸ªè·¯å¾„è§£ææˆä¸€ä¸ªå¯¹è±¡çš„å½¢å¼');const pathObject = path.parse(temp);console.log(pathObject);console.log('====================================');console.log('å°†ä¸€ä¸ªè·¯å¾„å¯¹è±¡å†è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²çš„å½¢å¼');// pathObject.name = 'æˆ‘ç»ˆäºå¤±å»äº†ä½ ';pathObject.base = 'æˆ‘ç»ˆäºå¤±å»äº†ä½ .lrc';console.log(pathObject);console.log(path.format(pathObject));console.log('====================================');console.log('è·å–ä¸€ä¸ªè·¯å¾„æ˜¯ä¸æ˜¯ç»å¯¹è·¯å¾„');console.log(path.isAbsolute(temp));console.log(path.isAbsolute('../lyrics/çˆ±çš„ä»£ä»·.lrc'));console.log('====================================');console.log('å°†ä¸€ä¸ªè·¯å¾„è½¬æ¢ä¸ºå½“å‰ç³»ç»Ÿé»˜è®¤çš„æ ‡å‡†æ ¼å¼ï¼Œå¹¶è§£æå…¶ä¸­çš„./å’Œ../');console.log(path.normalize('c:/develop/demo\\hello/../world/./a.txt'));console.log('====================================');console.log('è·å–ç¬¬äºŒä¸ªè·¯å¾„ç›¸å¯¹ç¬¬ä¸€ä¸ªè·¯å¾„çš„ç›¸å¯¹è·¯å¾„');console.log(path.relative(__dirname, temp));console.log('====================================');console.log('ä»¥ç±»ä¼¼å‘½ä»¤è¡Œcdå‘½ä»¤çš„æ–¹å¼æ‹¼æ¥è·¯å¾„');console.log(path.resolve(temp, 'c:/', './develop', '../application'));console.log('====================================');console.log('è·å–ä¸åŒå¹³å°ä¸­è·¯å¾„çš„åˆ†éš”ç¬¦ï¼ˆé»˜è®¤ï¼‰');console.log(path.sep);console.log('====================================');console.log('å…è®¸åœ¨ä»»æ„å¹³å°ä¸‹ä»¥WIN32çš„æ–¹æ³•è°ƒç”¨PATHå¯¹è±¡');// console.log(path.win32);console.log(path === path.win32);console.log('====================================');console.log('å…è®¸åœ¨ä»»æ„å¹³å°ä¸‹ä»¥POSIXçš„æ–¹æ³•è°ƒç”¨PATHå¯¹è±¡');console.log(path === path.posix); express å®˜ç½‘:http://www.expressjs.com.cn/ express ç¯å¢ƒæ­å»ºå®‰è£… 1$ npm install express --save å¿«é€Ÿå¼€å§‹ 1234const express = require('express') const app = express() app.get('/', (req, res) =&gt; res.send('Hello World!')) app.listen(3000, () =&gt; console.log('Example app listening on port 3000!')) express è·¯ç”±é…ç½®12345678910111213141516171819let express=require('express')let router=express.Router()// è¯¥è·¯ç”±ä½¿ç”¨çš„ä¸­é—´ä»¶router.use((req,res,next)=&gt;&#123; next()&#125;);// å®šä¹‰ç½‘ç«™ä¸»é¡µçš„è·¯ç”±router.post('/addFood', function(req, res) &#123; console.log('hahaha') // res.send('è¿™é‡Œæ˜¯adminçš„ç™»å½•');&#125;);// å®šä¹‰ about é¡µé¢çš„è·¯ç”±router.post('/regist', function(req, res) &#123; res.send('è¿™é‡Œæ˜¯adminçš„æ³¨å†Œä¾§');&#125;);module.exports = router;app.use('/admin',admin) ä¼ é€’æ•°æ®çš„è·å–12345678getreq.querypostreq.bodybody-parserè®¾ç½®ä¸­æ–‡æ ¼å¼res.set(&apos;Content-Type&apos;,&apos;text/plain,charset=utf8&apos;) è¯·æ±‚æ¨¡æ‹Ÿå·¥å…· insominaé™æ€èµ„æºé…ç½®12345app.use(express.static('public'))app.use('/static', express.static('public'))app.use('/static', express.static(path.join(__dirname, 'public'))) mongodå®‰è£…é…ç½® åœ¨Mongodbå®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„Mongodbä¸‹è½½åœ°å€ ä¸‹è½½msiçš„windowå®‰è£…åŒ…ï¼Œå¯ä»¥è£…åˆ°Cç›˜æˆ–è€…Dç›˜ç›®å½•ä¸‹ é…ç½®ç”±äºæˆ‘æ˜¯å®‰è£…åœ¨Dç›˜çš„ç¯å¢ƒä¸‹ 123&gt; D:\Program Files (x86)\MongoDB\Server\3.2\bin&gt; &gt; æ‰€ä»¥åœ¨binæ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°mongod.exeå‘½ä»¤ï¼Œç„¶åé€šè¿‡ç®¡ç†å‘˜æ‰§è¡Œmongod --dbpath xè·¯å¾„xï¼Œè·¯å¾„å¯ä»¥æ˜¯ä»»ä½•åœ°æ–¹ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©åœ¨Dç›˜çš„MongoDBç›®å½•ä¸‹ï¼Œå½“ç„¶è·¯å¾„ä¸è¦åŒ…å«ç‰¹æ®Šçš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚Program Files (x86)ä¹Ÿä¸è¡Œ 123&gt; mongod --dbpath D:\mongodb\data\db&gt; &gt; å‘½ä»¤è¡Œç»è¿‡ä¸Šé¢çš„é…ç½®ä¹‹åï¼Œå°±å¯ä»¥è¿”å›binç›®å½•ä¸‹æ‰¾åˆ°mongo.exeå‘½ä»¤ï¼Œå¹¶ç®¡ç†å‘˜ä¸‹æ‰§è¡Œï¼Œå°±å¯ä»¥å‡ºç°mongodbçš„å‘½ä»¤è¡Œæ¨¡å¼ 123&gt; D:\Program Files (x86)\MongoDB\Server\3.2\bin&gt; &gt; ç„¶åå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æµ‹è¯•äº† mongod 1234&gt; db.help()//å¸®åŠ©&gt; db.stats()//ç»Ÿè®¡&gt; &gt; æ˜¾ç¤ºæ•°æ®åº“123&gt; show dbs&gt; &gt; æ£€æŸ¥å½“å‰é€‰æ‹©çš„æ•°æ®åº“ 123&gt; db&gt; &gt; æ·»åŠ æ•°æ®åº“æ•°æ®åº“åä¸ºæ•°æ®åº“åˆ›å»ºçš„åå­—ï¼Œä½¿ç”¨è¯¥å‘½ä»¤åä¼šé»˜è®¤åˆ‡æ¢åˆ°å¯¹åº”çš„æ•°æ®åº“ï¼Œå¹¶ä¸”åœ¨æ•°æ®åº“ä¸­æ·»åŠ é€‰é¡¹ï¼Œæ•°æ®åº“ä¿¡æ¯æ‰æ˜¾ç¤ºï¼Œå¦‚æœé»˜è®¤å°±æœ‰è¯¥æ•°æ®åº“ï¼Œé‚£å°±æ˜¯åˆ‡æ¢åˆ°å¯¹åº”çš„æ•°æ®åº“é‡Œé¢ 12&gt; use æ•°æ®åº“å&gt; åˆ é™¤æ•°æ®åº“å…ˆåˆ‡æ¢åˆ°å¯¹åº”çš„æ•°æ®åº“ï¼Œç„¶åå†æ‰§è¡Œdb.dropDatabase()åˆ é™¤è¯¥æ•°æ®åº“ 1234&gt; use æ•°æ®åº“å&gt; //switched to db æ•°æ®åº“å&gt; db.dropDatabase()&gt; æ˜¾ç¤ºé›†åˆç”¨ä¸€ä¸‹å‘½ä»¤å¯ä»¥æ£€æŸ¥åˆ›å»ºçš„é›†åˆ 12&gt; show collections&gt; æ·»åŠ é›†åˆåœ¨åˆ›å»ºå®Œæ•°æ®åº“ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºé›†åˆ 12&gt; db.createCollection(é›†åˆåå­—nameï¼Œè®¾ç½®å‚æ•°options[å¯¹è±¡ç±»å‹])&gt; nameæ˜¯è¦åˆ›å»ºçš„é›†åˆçš„åç§°ã€‚ optionsæ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œç”¨äºæŒ‡å®šé›†åˆçš„é…ç½® å‚æ•° ç±»å‹ æè¿°name String è¦åˆ›å»ºçš„é›†åˆçš„åç§°options Document (å¯é€‰)æŒ‡å®šæœ‰å…³å†…å­˜å¤§å°å’Œç´¢å¼•çš„é€‰é¡¹optionså‚æ•°æ˜¯å¯é€‰çš„ï¼Œå› æ­¤åªéœ€è¦æŒ‡å®šé›†åˆçš„åç§°ã€‚ ä»¥ä¸‹æ˜¯å¯ä»¥ä½¿ç”¨çš„é€‰é¡¹åˆ—è¡¨ï¼š å­—æ®µ ç±»å‹ æè¿°capped Boolean (å¯é€‰)å¦‚æœä¸ºtrueï¼Œåˆ™å¯ç”¨å°é—­çš„é›†åˆã€‚ä¸Šé™é›†åˆæ˜¯å›ºå®šå¤§å°çš„é›†åˆï¼Œå®ƒåœ¨è¾¾åˆ°å…¶æœ€å¤§å¤§å°æ—¶è‡ªåŠ¨è¦†ç›–å…¶æœ€æ—§çš„æ¡ç›®ã€‚ å¦‚æœæŒ‡å®štrueï¼Œåˆ™è¿˜éœ€è¦æŒ‡å®šsizeå‚æ•°ã€‚autoIndexId Boolean (å¯é€‰)å¦‚æœä¸ºtrueï¼Œåˆ™åœ¨_idå­—æ®µä¸Šè‡ªåŠ¨åˆ›å»ºç´¢å¼•ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚size æ•°å­— (å¯é€‰)æŒ‡å®šä¸Šé™é›†åˆçš„æœ€å¤§å¤§å°(ä»¥å­—èŠ‚ä¸ºå•ä½)ã€‚ å¦‚æœcappedä¸ºtrueï¼Œé‚£ä¹ˆè¿˜éœ€è¦æŒ‡å®šæ­¤å­—æ®µçš„å€¼ã€‚max æ•°å­— (å¯é€‰)æŒ‡å®šä¸Šé™é›†åˆä¸­å…è®¸çš„æœ€å¤§æ–‡æ¡£æ•°ã€‚ç”±äºoptionæ˜¯å¯é€‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸å¸¦é…ç½®é¡¹åˆ›å»ºé›†åˆ 123&gt; db.createCollection("mycollection")&gt; &gt; åˆ é™¤é›†åˆdb.collection.drop()ç”¨äºä»æ•°æ®åº“ä¸­åˆ é™¤é›†åˆ 123&gt; db.é›†åˆå.drop()&gt; &gt; æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æµ‹è¯•ä»¥ä¸‹æ“ä½œ 12345&gt; db.createCollection("wscats")//åˆ›å»ºåä¸ºwscatsçš„é›†åˆ&gt; show collections//æ˜¾ç¤ºè¯¥æ•°æ®åº“æ‰€æœ‰é›†åˆ wscats&gt; db.wscats.drop()//åˆ é™¤åä¸ºwscatsçš„é›†åˆ&gt; &gt; æŸ¥çœ‹æ–‡æ¡£æœ€ç®€å•æŸ¥çœ‹æ–‡æ¡£çš„æ–¹æ³•å°±æ˜¯find()ï¼Œä¼šæ£€ç´¢é›†åˆä¸­æ‰€æœ‰çš„æ–‡æ¡£ç»“æœ 123&gt; db.é›†åˆå.find()&gt; &gt; è¦ä»¥æ ¼å¼åŒ–çš„æ–¹å¼æ˜¾ç¤ºç»“æœï¼Œå¯ä»¥ä½¿ç”¨pretty()æ–¹æ³•ã€‚ 123&gt; db.é›†åˆå.find().pretty()&gt; &gt; 1.å›ºå€¼å¯»æ‰¾å¯»æ‰¾ageé›†åˆé‡Œé¢æ‰€æœ‰å«æœ‰å±æ€§å€¼ä¸ºwscatsçš„æ–‡æ¡£ç»“æœï¼Œç›¸å½“äºwhere name = &#39;wscats&#39; 123&gt; db.age.find(&#123;name:"wscats"&#125;)&gt; &gt; 2.èŒƒå€¼å¯»æ‰¾æ“ä½œ è¯­æ³• ç¤ºä¾‹ ç­‰æ•ˆè¯­å¥ç›¸ç­‰ {:} db.age.find({&quot;name&quot;:&quot;wscats&quot;}).pretty() where name = â€˜wscatsâ€™å°äº {:{$lt:}} db.age.find({&quot;likes&quot;:{$lt:50}}).pretty() where likes &lt; 50å°äºç­‰äº {:{$lte:}} db.age.find({&quot;likes&quot;:{$lte:50}}).pretty() where likes &lt;= 50å¤§äº {:{$gt:}} db.age.find({&quot;likes&quot;:{$gt:50}}).pretty() where likes &gt; 50å¤§äºç­‰äº {:{$gte:}} db.age.find({&quot;likes&quot;:{$gte:50}}).pretty() where likes &gt;= 50ä¸ç­‰äº {:{$ne:}} db.age.find({&quot;likes&quot;:{$ne:50}}).pretty() where likes != 50 3.ANDå’ŒORå¯»æ‰¾ANDåœ¨find()æ–¹æ³•ä¸­ï¼Œå¦‚æœé€šè¿‡ä½¿ç”¨ï¼Œå°†å®ƒä»¬åˆ†å¼€ä¼ é€’å¤šä¸ªé”®ï¼Œåˆ™mongodbå°†å…¶è§†ä¸ºANDæ¡ä»¶ã€‚ ä»¥ä¸‹æ˜¯ANDçš„åŸºæœ¬è¯­æ³• å¯»æ‰¾_idä¸º1å¹¶ä¸”nameä¸ºwscatsçš„æ‰€æœ‰ç»“æœé›† 123456789&gt; db.age.find(&gt; &#123;&gt; $and: [&gt; &#123;"_id": 1&#125;, &#123;"name": "wscats"&#125;&gt; ]&gt; &#125;&gt; )&gt; &gt; ORåœ¨è¦æ ¹æ®ORæ¡ä»¶æŸ¥è¯¢æ–‡æ¡£ï¼Œéœ€è¦ä½¿ç”¨$orå…³é”®å­—ã€‚ä»¥ä¸‹æ˜¯ORæ¡ä»¶çš„åŸºæœ¬è¯­æ³• å¯»æ‰¾nameä¸ºcorrineæˆ–è€…nameä¸ºwscatsçš„æ‰€æœ‰ç»“æœé›† 123456789&gt; db.age.find(&gt; &#123;&gt; $or: [&gt; &#123;"name": "corrine"&#125;, &#123;â€œnameâ€œ: "wscats"&#125;&gt; ]&gt; &#125;&gt; )&gt; &gt; ANDå’ŒORç­‰ç»“åˆç›¸å½“äºè¯­å¥where title = &quot;wscats&quot; OR ( title = &quot;corrine&quot; AND _id &lt; 5) 123456789101112131415&gt; db.age.find(&#123;&gt; $or: [&#123;&gt; "title": "wscats"&gt; &#125;, &#123;&gt; $and: [&#123;&gt; "title": "corrine"&gt; &#125;, &#123;&gt; "_id": &#123;&gt; $lte: 5&gt; &#125;&gt; &#125;]&gt; &#125;]&gt; &#125;)&gt; &gt; æ’å…¥æ–‡æ¡£æ–‡æ¡£çš„æ•°æ®ç»“æ„å’ŒJSONåŸºæœ¬ä¸€æ ·ã€‚æ‰€æœ‰å­˜å‚¨åœ¨é›†åˆä¸­çš„æ•°æ®éƒ½æ˜¯BSONæ ¼å¼ã€‚BSONæ˜¯ä¸€ç§ç±»jsonçš„ä¸€ç§äºŒè¿›åˆ¶å½¢å¼çš„å­˜å‚¨æ ¼å¼,ç®€ç§°Binary JSONã€‚ è¦å°†æ•°æ®æ’å…¥åˆ°mongodbé›†åˆä¸­ï¼Œéœ€è¦ä½¿ç”¨mongodbçš„insert()æˆ–save()æ–¹æ³•ã€‚ 123&gt; db.é›†åˆå.insert(document)&gt; &gt; æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æ’å…¥ä»¥ä¸‹æ•°æ® 1234567891011&gt; db.wscats.insert(&#123;&gt; _id: 100,&gt; title: 'MongoDB Tutorials', &gt; description: 'node_tutorials',&gt; by: 'Oaoafly',&gt; url: 'https://github.com/Wscats/node-tutorial',&gt; tags: ['wscat','MongoDB', 'database', 'NoSQL','node'],&gt; num: 100,&gt; &#125;)&gt; &gt; ä¹Ÿå¯ä»¥æ”¯æŒæ’å…¥å¤šä¸ªï¼Œæ³¨æ„ä¼ å…¥çš„æ˜¯æ•°ç»„å½¢å¼ 123456789&gt; db.wscats.insert([&#123;&gt; _id: 100,&gt; title: â€˜Helloâ€™&gt; &#125;,&#123;&gt; _id: 101,&gt; title: â€˜Worldâ€™&gt; &#125;])&gt; &gt; åœ¨æ’å…¥çš„æ–‡æ¡£ä¸­ï¼Œå¦‚æœä¸æŒ‡å®š_idå‚æ•°ï¼Œé‚£ä¹ˆmongodbä¼šä¸ºæ­¤æ–‡æ¡£åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ObjectIdè¦æ’å…¥æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨db.post.save(document)ã€‚å¦‚æœä¸åœ¨æ–‡æ¡£ä¸­æŒ‡å®š_idï¼Œé‚£ä¹ˆsave()æ–¹æ³•å°†ä¸insert()æ–¹æ³•ä¸€æ ·è‡ªåŠ¨åˆ†é…IDçš„å€¼ã€‚å¦‚æœæŒ‡å®š_idï¼Œåˆ™å°†ä»¥save()æ–¹æ³•çš„å½¢å¼æ›¿æ¢åŒ…å«_idçš„æ–‡æ¡£çš„å…¨éƒ¨æ•°æ®ã€‚ 123456&gt; db.wscats.save(&#123;&gt; _id: 111,&gt; title: 'Oaoafly Wscats', &gt; &#125;)&gt; &gt; æ›´æ–°æ–‡æ¡£1.update()æ–¹æ³•å¯»æ‰¾ç¬¬ä¸€æ¡titleä¸ºwscatsçš„å€¼ï¼Œå¹¶ä¸”æ›´æ–°å€¼titleä¸ºcorrineå’Œageä¸º12 12345678910&gt; db.age.update(&#123;&gt; 'title': 'wscats'&gt; &#125;, &#123;&gt; $set: &#123;&gt; 'title': 'corrine',&gt; 'age': 12&gt; &#125;&gt; &#125;)&gt; &gt; é»˜è®¤æƒ…å†µä¸‹ï¼Œmongodbåªä¼šæ›´æ–°ä¸€ä¸ªæ–‡æ¡£ã€‚è¦æ›´æ–°å¤šä¸ªæ–‡æ¡£ï¼Œéœ€è¦å°†å‚æ•°multiè®¾ç½®ä¸ºtrueï¼Œè¿˜å¯ä»¥é…åˆfindæ–¹æ³•é‡Œé¢çš„å„ç§å¤æ‚æ¡ä»¶åˆ¤æ–­æ¥ç­›é€‰ç»“æœï¼Œç„¶åæ›´æ–°å¤šä¸ªæ–‡æ¡£ å¯»æ‰¾æ‰€æœ‰titleä¸ºwscatsçš„å€¼ï¼Œå¹¶ä¸”æ›´æ–°å€¼titleä¸ºcorrineå’Œageä¸º12 123456789101112&gt; db.age.update(&#123;&gt; 'title': 'wscats'&gt; &#125;, &#123;&gt; $set: &#123;&gt; 'title': 'corrine',&gt; 'age': 12&gt; &#125;&gt; &#125;, &#123;&gt; multi: true&gt; &#125;)&gt; &gt; 2.save()æ–¹æ³•å°†_idä¸»é”®ä¸º3çš„æ–‡æ¡£ï¼Œè¦†ç›–æ–°çš„å€¼ï¼Œæ³¨æ„_idä¸ºå¿…ä¼  123456&gt; db.age.save(&#123;&gt; &apos;_id&apos;:3,&gt; &apos;title&apos;: &apos;wscats&apos;&gt; &#125;)&gt; &gt; åˆ é™¤æ–‡æ¡£åˆ é™¤ä¸»é”®_idä¸º3çš„æ–‡æ¡£ï¼Œé»˜è®¤æ˜¯åˆ é™¤å¤šæ¡ 12345&gt; db.age.remove(&#123;&gt; '_id':3&gt; &#125;)&gt; &gt; å»ºè®®åœ¨æ‰§è¡Œremove()å‡½æ•°å‰å…ˆæ‰§è¡Œfind()å‘½ä»¤æ¥åˆ¤æ–­æ‰§è¡Œçš„æ¡ä»¶æ˜¯å¦æ­£ç¡® å¦‚æœä½ åªæƒ³åˆ é™¤ç¬¬ä¸€æ¡æ‰¾åˆ°çš„è®°å½•å¯ä»¥è®¾ç½®justOneä¸º1ï¼Œå¦‚ä¸‹æ‰€ç¤º 123&gt; db.age.remove(&#123;...&#125;,1)&gt; &gt; å…¨éƒ¨åˆ é™¤ 123&gt; db.age.remove(&#123;&#125;)&gt; &gt; Limitä¸Skipæ–¹æ³•Limitå¦‚æœä½ éœ€è¦åœ¨mongodbä¸­è¯»å–æŒ‡å®šæ•°é‡çš„æ•°æ®è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨mongodbçš„Limitæ–¹æ³•ï¼Œlimit()æ–¹æ³•æ¥å—ä¸€ä¸ªæ•°å­—å‚æ•°ï¼Œè¯¥å‚æ•°æŒ‡å®šä»mongodbä¸­è¯»å–çš„è®°å½•æ¡æ•°ã€‚ 123&gt; db.age.find().limit(æ•°é‡)&gt; &gt; Skipæˆ‘ä»¬é™¤äº†å¯ä»¥ä½¿ç”¨limit()æ–¹æ³•æ¥è¯»å–æŒ‡å®šæ•°é‡çš„æ•°æ®å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨skip()æ–¹æ³•æ¥è·³è¿‡æŒ‡å®šæ•°é‡çš„æ•°æ®ï¼Œskipæ–¹æ³•åŒæ ·æ¥å—ä¸€ä¸ªæ•°å­—å‚æ•°ä½œä¸ºè·³è¿‡çš„è®°å½•æ¡æ•°ã€‚ 1234&gt; db.age.find().limit(æ•°é‡).skip(æ•°é‡)&gt; //skip()æ–¹æ³•é»˜è®¤å€¼ä¸º0&gt; &gt; æ‰€ä»¥æˆ‘ä»¬åœ¨å®ç°åˆ†é¡µçš„æ—¶å€™å°±å¯ä»¥ç”¨limitæ¥é™åˆ¶æ¯é¡µå¤šå°‘æ¡æ•°æ®(ä¸€èˆ¬å›ºå®šä¸€ä¸ªå€¼)ï¼Œç”¨skipæ¥å†³å®šæ˜¾ç¤ºç¬¬å‡ é¡µ(ä¸€ä¸ªæœ‰è§„å¾‹å˜åŠ¨çš„å€¼) æ’åºåœ¨mongodbä¸­ä½¿ç”¨ä½¿ç”¨sort()æ–¹æ³•å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œsort()æ–¹æ³•å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šæ’åºçš„å­—æ®µï¼Œå¹¶ä½¿ç”¨1å’Œ-1æ¥æŒ‡å®šæ’åºçš„æ–¹å¼ï¼Œå…¶ä¸­1ä¸ºå‡åºæ’åˆ—ï¼Œè€Œ-1æ˜¯ç”¨äºé™åºæ’åˆ—ã€‚ 1 å‡åºæ’åˆ—-1 é™åºæ’åˆ— 12&gt; db.é›†åˆå.find().sort(&#123;é”®å€¼(å±æ€§å€¼):1&#125;)&gt; æŠŠageé›†åˆè¡¨é‡æ–°æ ¹æ®_idä¸»é”®è¿›è¡Œé™åºæ’åˆ— 1234&gt; db.age.find().sort(&#123;&gt; "_id": -1&gt; &#125;)&gt; Node.jsè¿æ¥å®‰è£…mongodbçš„æ¨¡å— 12&gt; npm install mongodb&gt; 1.è¿æ¥æ•°æ®åº“1234567&gt; var MongoClient = require('mongodb').MongoClient;&gt; //ç»“å°¾æ˜¯é€‰æ‹©æ•°æ®åº“å&gt; var DB_CONN_STR = 'mongodb://localhost:27017/wscats';&gt; MongoClient.connect(DB_CONN_STR, function(err, db) &#123;&gt; console.log("è¿æ¥æˆåŠŸï¼");&gt; &#125;);&gt; 2.æŸ¥è¯¢æ•°æ®æ³¨æ„æŸ¥è¯¢å›æ¥çš„ç»“æœéœ€è¦toArrayæ¥éå†å¤„ç† 123456789101112131415&gt; var MongoClient = require('mongodb').MongoClient;&gt; var DB_CONN_STR = 'mongodb://localhost:27017/wscats';&gt; &gt; MongoClient.connect(DB_CONN_STR, function(err, db) &#123;&gt; console.log("è¿æ¥æˆåŠŸï¼");&gt; //é€‰ä¸­ageé›†åˆï¼Œå¹¶ç”¨findæ–¹æ³•æŠŠç»“æœé›†æ‹¿å›æ¥è¿›è¡Œå¤„ç†&gt; db.collection("age").find(&#123;title: "cba"&#125;).toArray(function(err, result) &#123;&gt; if (err) &#123;&gt; console.log('Error:' + err);&gt; return;&gt; &#125;&gt; console.log(result);&gt; &#125;);&gt; &#125;);&gt; ç»è¿‡æµ‹è¯•ï¼Œè¯»å–å¤§äº100æ¡çš„æ—¶å€™ä¼šå‡ºç°æŠ¥é”™å®˜ç½‘è§£é‡Šï¼Œå¯ä»¥å°è¯•ç”¨forEachä»£æ›¿ 123456&gt; db.collection('pokemon').find(&#123;&#125;)&gt; .forEach(function(item)&#123;&gt; console.log(item)&gt; &#125;)&gt; &gt; æŸ¥è¯¢IDæŸ¥è¯¢è‡ªåŠ¨ç”Ÿæˆçš„ObjectId 123456789&gt; var ObjectId = require('mongodb').ObjectId;&gt; let _id = ObjectId("5bcae50ed1f2c2f5e4e1a76a");&gt; db.collection('xxx').find(&#123;&gt; "_id": _id&gt; &#125;).forEach(function (item) &#123;&gt; console.log(item)&gt; &#125;)&gt; &gt; 3.æ’å…¥æ•°æ®insertå‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€è¦æ’å…¥çš„å€¼(å¯ä»¥ä¸€ä¸ªä¹Ÿå¯ä»¥å¤šä¸ª)ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå½“å€¼æ’å…¥æˆåŠŸåå›è¿”å›æ’å…¥å€¼å¾—ä¸€äº›å…³é”®ä¿¡æ¯ï¼Œæ¯”å¦‚_id 123456789101112131415161718192021&gt; var MongoClient = require('mongodb').MongoClient;&gt; var DB_CONN_STR = 'mongodb://localhost:27017/wscats';&gt; &gt; MongoClient.connect(DB_CONN_STR, function(err, db) &#123;&gt; console.log("è¿æ¥æˆåŠŸï¼");&gt; const db = client.db("demo");&gt; db.collection("age").insert([&gt; &#123; &gt; title: "æ’å…¥çš„å€¼A"&gt; &#125;, &#123;&gt; title: "æ’å…¥çš„å€¼B"&gt; &#125;&gt; ], function(err, result) &#123;&gt; if (err) &#123;&gt; console.log('Error:' + err);&gt; return;&gt; &#125;&gt; console.log(result)&gt; &#125;)&gt; &#125;);&gt; 4.æ›´æ–°æ•°æ®æ³¨æ„å¦‚æœä¸åŠ $setå°±æ˜¯å®Œå…¨æ›¿æ¢åŸæ¥çš„é‚£ä»½(æ²¡æœ‰è®¾ç½®çš„å±æ€§å€¼å°†ä¼šä¸¢å¤±)ï¼ŒåŠ ä¸Š$setåˆ™åªæ˜¯æ›´æ–°å¯¹åº”çš„å±æ€§å€¼ï¼Œå…¶ä½™ä¸åšæ”¹å˜ 123456789101112131415161718192021&gt; var MongoClient = require('mongodb').MongoClient;&gt; var DB_CONN_STR = 'mongodb://localhost:27017/wscats';&gt; &gt; MongoClient.connect(DB_CONN_STR, function(err, db) &#123;&gt; console.log("è¿æ¥æˆåŠŸï¼");&gt; db.collection("age").update(&#123;&gt; "_id": 1&gt; &#125;, &#123;&gt; $set: &#123;&gt; title: "ä½ å¥½ï¼Œä¸–ç•Œ",&gt; skill: "js"&gt; &#125;&gt; &#125;, function(err, result) &#123;&gt; if (err) &#123;&gt; console.log('Error:' + err);&gt; return;&gt; &#125;&gt; //console.log(result);&gt; &#125;);&gt; &#125;);&gt; 5.åˆ é™¤æ•°æ®123456789101112131415161718&gt; var MongoClient = require('mongodb').MongoClient;&gt; var DB_CONN_STR = 'mongodb://localhost:27017/wscats';&gt; &gt; MongoClient.connect(DB_CONN_STR, function(err, db) &#123;&gt; console.log("è¿æ¥æˆåŠŸï¼");&gt; db.collection("age").remove(&#123;&gt; "_id": 1&gt; &#125;, function(err, result) &#123;&gt; if (err) &#123;&gt; console.log('Error:' + err);&gt; return;&gt; &#125;&gt; //console.log(result);&gt; //å…³é—­æ•°æ®åº“&gt; db.close();&gt; &#125;);&gt; &#125;);&gt; 6.å…³é—­æ•°æ®åº“123&gt; db.close();&gt; &gt; å°è£…è‡ªå®šä¹‰æ¨¡å—æ–°å»ºmongo.jså†™å…¥ä»¥ä¸‹ä»£ç ï¼Œå°è£…è‡ªå®šä¹‰æ¨¡å—ï¼Œæ–¹ä¾¿å…¶ä»–è·¯ç”±å¤ç”¨ï¼Œæ³¨æ„assertæ˜¯nodeè‡ªå¸¦çš„æ–­è¨€æ¨¡å—ï¼Œç”¨äºæµ‹è¯•ä»£ç  å‚è€ƒ å®˜ç½‘APIæ–‡æ¡£ Node.jsçš„æ–­è¨€æ¨¡å—assertè¿›è¡Œå•å…ƒæµ‹è¯• 123456789101112131415161718&gt; const MongoClient = require('mongodb').MongoClient;&gt; const assert = require('assert');&gt; const url = 'mongodb://localhost:27017';&gt; const dbName = 'shop';&gt; function query(callback) &#123;&gt; MongoClient.connect(url, function(err, client) &#123;&gt; assert.equal(null, err);&gt; console.log("Connected successfully to server");&gt; const db = client.db(dbName);&gt; callback(db);&gt; client.close();&gt; &#125;);&gt; &#125;&gt; module.exports = &#123;&gt; query&gt; &#125;&gt; &gt; åœ¨è·¯ç”±æ–‡ä»¶ä¸­å¼•å…¥å’Œä½¿ç”¨ 12345678910&gt; var mongo = require('./mongo.js')&gt; router.post('/addproduct', function(req, res, next) &#123;&gt; mongo.query(function(db) &#123;&gt; db.collection("product").insertMany([req.body], function(err, result) &#123;&gt; console.log("Inserted 1 document into the collection");&gt; res.send('respond with a resource');&gt; &#125;);&gt; &#125;)&gt; &#125;);&gt; mongoose ä¸‹è½½mongoose 12&gt; npm install mongoose --save&gt; è¿æ¥æ•°æ®åº“ 12345678910&gt; var mongoose = require('mongoose');&gt; mongoose.connect('mongodb://localhost:27017/1823');&gt; var db = mongoose.connection;// è·å–è¿æ¥å¯¹è±¡è¿›è¡Œç›‘å¬&gt; db.on('error',(err)=&gt;&#123;&gt; console.log('è¿æ¥é”™è¯¯')&gt; &#125;);&gt; db.on('open', function() &#123;&gt; console.log('è¿æ¥ok')&gt; &#125;);&gt; åˆ›å»ºschemaå¯¹è±¡ 123456&gt; var UserSchema = new mongoose.Schema(&#123;&gt; name: String,&gt; pass: String,&gt; test:String&gt; &#125;);&gt; å°†schemaè½¬åŒ–ä¸ºæ•°æ®æ¨¡å‹ 12&gt; let user = mongoose.model('user', UserSchema); //å‚æ•°1 æ˜¯é›†åˆçš„åå­— ä¸æ•°æ®æ¨¡å‹å…³è”çš„schemaå¯¹è±¡&gt; é€šè¿‡æ•°æ®æ¨¡å‹æ‰§è¡ŒæŸ¥è¯¢æ“ä½œ mongoose å¯è§†åŒ– Robo 3T Studio3t Socket å®æ—¶åˆ·æ–°(èœ¡çƒ›å›¾) æ¨é€æœåŠ¡ socket.io12345678910111213141516171819202122232425262728293031323334&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;socket.io&lt;/title&gt; &lt;script src="socket.io.js" charset="utf-8"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;gp6 äº¤æµåŒº&lt;/h1&gt; &lt;div id="content" name="name" style="overflow-y: scroll; width: 400px; height: 300px; border: solid 1px #000"&gt;&lt;/div&gt; &lt;br /&gt; &lt;div&gt; &lt;input type="text" id="msg" style="width: 200px;"&gt; &lt;/div&gt; &lt;button id="submit"&gt;æäº¤&lt;/button&gt; &lt;script&gt; var socket = io.connect('http://10.9.164.98:8081'); const content = document.getElementById('content') document.querySelector('#submit') .addEventListener('click', function () &#123; var msg2 = msg.value socket.emit('receive', msg2) msg.value = '' content.innerHTML += msg2 + '&lt;br/&gt;' &#125;, false) socket.on('message', function(msg)&#123; content.innerHTML += msg + '&lt;br/&gt;' &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; server.js12345678910111213141516171819202122var express = require('express');var app = express();var server = require('http').Server(app);var io = require('socket.io')(server);app.use(express.static(__dirname + '/client'))io.on('connection', function (socket) &#123; setInterval(function () &#123; socket.emit('list', 'abc') &#125;, 1000) socket.broadcast.emit('list', 'test'); socket.on('backend', (msg) =&gt; &#123; console.log(msg); &#125;) socket.on('receive', (msg) =&gt; &#123; socket.broadcast.emit('message', msg); &#125;)&#125;);server.listen(8081, '10.9.164.98'); netæ¨¡å—serverCode 12345678910111213141516171819202122232425262728293031323334const net = require('net')const server = new net.createServer()let clients = &#123;&#125;let clientName = 0server.on('connection', (client) =&gt; &#123; client.name = ++clientName clients[client.name] = client client.on('data', (msg) =&gt; &#123; // console.log('å®¢æˆ·ç«¯ä¼ æ¥ï¼š' + msg); broadcast(client, msg.toString()) &#125;) client.on('error', (e) =&gt; &#123; console.log('client error' + e); client.end() &#125;) client.on('close', (data) =&gt; &#123; delete clients[client.name] console.log(client.name + ' ä¸‹çº¿äº†'); &#125;)&#125;)function broadcast(client, msg) &#123; for (var key in clients) &#123; clients[key].write(client.name + ' è¯´ï¼š' + msg) &#125;&#125;server.listen(9000) clientCode123456789101112131415161718192021222324252627282930313233343536373839404142var net = require('net')const readline = require('readline')var port = 9000var host = '127.0.0.1'var socket = new net.Socket()socket.setEncoding = 'UTF-8'socket.connect(port, host, () =&gt; &#123; socket.write('hello.')&#125;)socket.on('data', (msg) =&gt; &#123; console.log(msg.toString()) say()&#125;)socket.on('error', function (err) &#123; console.log('error' + err);&#125;)socket.on('close', function () &#123; console.log('connection closeed');&#125;)const r1 = readline.createInterface(&#123; input: process.stdin, output: process.stdout&#125;)function say() &#123; r1.question('è¯·è¾“å…¥ï¼š', (inputMsg) =&gt; &#123; if (inputMsg != 'bye') &#123; socket.write(inputMsg + '\n') &#125; else &#123; socket.destroy() r1.close() &#125; &#125;)&#125; websocket12345678910111213141516171819const ws = new WebSocket('ws://localhost:8080/')ws.onopen = () =&gt; &#123; ws.send('å¤§å®¶å¥½')&#125;ws.onmessage = (msg) =&gt; &#123; const content = document.getElementById('content') content.innerHTML += msg.data + '&lt;br/&gt;'&#125;ws.onerror = (err) =&gt; &#123; console.log(err);&#125;ws.onclose = () =&gt; &#123; console.log('closed~');&#125;ws.send(msg2) server.js12345678910111213141516171819202122232425const WebSocket = require('ws')const ws = new WebSocket.Server(&#123; port: 8080 &#125;)let clients = &#123;&#125;let clientName = 0ws.on('connection', (client) =&gt; &#123; client.name = ++clientName clients[client.name] = client client.on('message', (msg) =&gt; &#123; broadcast(client, msg) &#125;) client.on('close', () =&gt; &#123; delete clients[client.name] console.log(client.name + ' ç¦»å¼€äº†~') &#125;)&#125;)function broadcast(client, msg) &#123; for (var key in clients) &#123; clients[key].send(client.name + ' è¯´ï¼š' + msg) &#125;&#125; SSR ä¸ SEOvue å’Œ react ä»‹ç» é¡¹ç›®å®æˆ˜apiæ¥å£ RestfulApi è§„èŒƒ æ¥å£æ–‡æ¡£çš„ç”Ÿæˆ(apidoc) æ¥å£è¯·æ±‚æ–¹å¼åŒºåˆ« è·¨åŸŸè§£å†³ cors jsonp proxy Hui åŸºæœ¬ä½¿ç”¨èº«ä»½éªŒè¯ http è¯·æ±‚çš„æ— çŠ¶æ€æ€§ JWT ç”¨æˆ·ç™»å½• æœåŠ¡å™¨ç«¯äº§ç”Ÿä¸€ä¸ªtoken (åŠ å¯†å­—ç¬¦ä¸²) å‘é€ç»™å‰ç«¯ å‰ç«¯å°†token è¿›è¡Œä¿å­˜ å‰ç«¯å‘èµ·æ•°æ®è¯·æ±‚çš„æ—¶å€™æºå¸¦token æœåŠ¡ç«¯ éªŒè¯token æ˜¯å¦åˆæ³• å¦‚æœåˆæ³•ç»§ç»­æ“ä½œ ä¸åˆæ³•ç»ˆæ­¢æ“ä½œ token çš„ä½¿ç”¨åœºæ™¯ æ— çŠ¶æ€è¯·æ±‚ ä¿æŒç”¨æˆ·çš„ç™»å½•çŠ¶æ€ ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆtoken+auth2.0ï¼‰ éå¯¹ç§°åŠ å¯† é€šè¿‡ç§é’¥äº§ç”Ÿtoken é€šè¿‡å…¬é’¥è§£å¯†token1234567891011// 1.äº§ç”Ÿå…¬é’¥å’Œç§é’¥// äº§ç”Ÿç§é’¥ openssl genrsa -out ./private_key.pem 1024 1024 ä»£è¡¨ç§é’¥é•¿åº¦// äº§ç”Ÿå…¬é’¥ openssl rsa -in ./private_key.pem -pubout -out ./public_key.pem let private_key=fs.readFileSync(path.join(__dirname,'./private_key.pem')) let public_key=fs.readFileSync(path.join(__dirname,'./public_key.pem')) var token = jwt.sign(palyload, private_key,&#123; algorithm: 'RS256'&#125;); console.log(token) let token='eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IueUqOaIt2lkIiwiaWF0IjoxNTUxMTUyNzk1fQ.TI_xDBvObHGAH7EV40WWpQemm5nx077Gdjq-pzDx0NWN5YFd40S7XcLmgoDdYscLM7vMOP0c7z1l83JUixqk7IBjBCU-tMNo_G5_-LGkQjV3vDYq_3TkXTl42lgmFA-EBey7W6W1PgPfYlowyHAyp-07hXaMRevgVkXm2lPEFXo' var decoded = jwt.verify(token, public_key); 1234567891011121314151617181920const jwt=require('jsonwebtoken')const scrict='sdjfksdjflajflasjflasjflksf'function creatToken(palyload)&#123; // äº§ç”Ÿtoken palyload.ctime=Date.now() return jwt.sign(palyload,scrict)&#125;function checkToken(token)&#123; return new Promise((resovle,reject)=&gt;&#123; jwt.verify(token,scrict,(err,data)=&gt;&#123; if(err)&#123; reject('token éªŒè¯å¤±è´¥')&#125; resovle(data) &#125;) &#125;) &#125;module.exports=&#123; creatToken,checkToken&#125; Cookie+Session123456789const cookieParse=require('cookie-parser')const session = require('express-session')app.use(session(&#123; secret: 'hubwizApp', //ä¸ºäº†å®‰å…¨æ€§çš„è€ƒè™‘è®¾ç½®secretå±æ€§ cookie: &#123;maxAge: 60 * 1000 * 60 * 24 &#125;, //è®¾ç½®è¿‡æœŸæ—¶é—´ resave: true, // å³ä½¿ session æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä¹Ÿä¿å­˜ session å€¼ï¼Œé»˜è®¤ä¸º true saveUninitialized: false, //æ— è®ºæœ‰æ²¡æœ‰session cookieï¼Œæ¯æ¬¡è¯·æ±‚éƒ½è®¾ç½®ä¸ªsession cookie ï¼Œé»˜è®¤ç»™ä¸ªæ ‡ç¤ºä¸º connect.sid&#125;)); ç™»å½•æˆåŠŸ 12req.session.sign = true;req.session.name = us; éœ€è¦éªŒè¯çš„æ¥å£åˆ¤æ–­æ˜¯å¦å­˜åœ¨ æ³¨é”€session 1234app.get('/out', function(req, res)&#123; req.session.destroy(); res.redirect('/');&#125;) å›¾ç‰‡ä¸Šä¼  å®‰è£…multeræ¨¡å— 1npm install multer å¼•ç”¨æ¨¡å—å®ƒæ˜¯ä¾èµ–äºexpressçš„ä¸€ä¸ªæ¨¡å— 1234//å¼•ç”¨expresså¹¶é…ç½®var express = require("express");var app = express();app.listen(3000); 123456var multer = require('multer');/*var upload = multer(&#123; //å¦‚æœç”¨è¿™ç§æ–¹æ³•ä¸Šä¼ ï¼Œè¦æ‰‹åŠ¨æ·»åŠ æ–‡æ˜ååç¼€ //å¦‚æœç”¨ä¸‹é¢é…ç½®çš„ä»£ç ï¼Œåˆ™å¯ä»¥çœç•¥è¿™ä¸€å¥ dest: 'uploads/'&#125;)*/ é…ç½®è®¾ç½®ä¿å­˜æ–‡ä»¶çš„åœ°æ–¹ï¼Œå¹¶æ ¹æ®ä¸Šä¼ çš„æ–‡ä»¶åå¯¹åº”æ–‡ä»¶æ·»åŠ åç¼€å¯ä»¥é€šè¿‡filenameå±æ€§å®šåˆ¶æ–‡ä»¶ä¿å­˜çš„æ ¼å¼ å±æ€§å€¼ ç”¨é€” destination è®¾ç½®èµ„æºçš„ä¿å­˜è·¯å¾„ã€‚æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªé…ç½®é¡¹ï¼Œé»˜è®¤ä¼šä¿å­˜åœ¨/tmp/uploadsä¸‹ã€‚æ­¤å¤–ï¼Œè·¯å¾„éœ€è¦è‡ªå·±åˆ›å»º filename è®¾ç½®èµ„æºä¿å­˜åœ¨æœ¬åœ°çš„æ–‡ä»¶å 12345678910111213141516var storage = multer.diskStorage(&#123; //è®¾ç½®ä¸Šä¼ åæ–‡ä»¶è·¯å¾„ï¼Œuploadsæ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨åˆ›å»ºã€‚ destination: function(req, file, cb) &#123; cb(null, './uploads') &#125;, //ç»™ä¸Šä¼ æ–‡ä»¶é‡å‘½åï¼Œè·å–æ·»åŠ åç¼€å filename: function(req, file, cb) &#123; var fileFormat = (file.originalname).split("."); //ç»™å›¾ç‰‡åŠ ä¸Šæ—¶é—´æˆ³æ ¼å¼é˜²æ­¢é‡åå //æ¯”å¦‚æŠŠ abc.jpgå›¾ç‰‡åˆ‡å‰²ä¸ºæ•°ç»„[abc,jpg],ç„¶åç”¨æ•°ç»„é•¿åº¦-1æ¥è·å–åç¼€å cb(null, file.fieldname + '-' + Date.now() + "." + fileFormat[fileFormat.length - 1]); &#125;&#125;);var upload = multer(&#123; storage: storage&#125;); æ¥å—æ–‡ä»¶upload.single(&#39;xxx&#39;)ï¼Œxxxä¸è¡¨å•ä¸­çš„nameå±æ€§çš„å€¼å¯¹åº”è¿™é‡Œè™½ç„¶ç”¨åˆ°postè¯·æ±‚ï¼Œä½†å®é™…ä¸Šä¸éœ€è¦bodyParseræ¨¡å—å¤„ç† 1234567891011app.post('/upload-single', upload.single('logo'), function(req, res, next) &#123; console.log(req.file) console.log('æ–‡ä»¶ç±»å‹ï¼š%s', req.file.mimetype); console.log('åŸå§‹æ–‡ä»¶åï¼š%s', req.file.originalname); console.log((req.file.originalname).split(".")) console.log('æ–‡ä»¶å¤§å°ï¼š%s', req.file.size); console.log('æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼š%s', req.file.path); res.send(&#123; ret_code: '0' &#125;);&#125;); å¤šå›¾ä¸Šä¼ å¤šå›¾ä¸Šä¼ åªè¦æ›´æ”¹ä¸€ä¸‹åœ°æ–¹ï¼Œå‰ç«¯å¾€fileè¾“å…¥æ¡†åŠ å¤šä¸€ä¸ªmultiple=&quot;multiple&quot;å±æ€§å€¼ï¼Œæ­¤æ—¶å°±å¯ä»¥åœ¨é€‰å›¾çš„æ—¶å€™å¤šé€‰äº†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å¹¶åˆ—å¤šä¸ªfileè¾“å…¥æ¡†(ä¸æ¨èå¤šä¸ªä¸Šä¼ å›¾ç‰‡è¾“å…¥æ¡†)ï¼Œè¿™æ ·ä½“éªŒä¼šä¸å¥½ 1&lt;input type="file" name="logo" multiple="multiple" /&gt; åç«¯ä¹Ÿéœ€è¦ç›¸åº”çš„æ”¹å˜ 123app.post('/upload-single', upload.single('logo'), function(req, res, next) &#123;//upload.single('logo')å˜ä¸ºupload.array('logo', 2)ï¼Œæ•°å­—ä»£è¡¨å¯ä»¥æ¥å—å¤šå°‘å¼ å›¾ç‰‡app.post('/upload-single', upload.array('logo', 2), function(req, res, next) &#123; å¦‚æœä¸æƒ³æœ‰å›¾ç‰‡æ•°é‡ä¸Šä¼ é™åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨upload.any()æ–¹æ³• 123456app.post('/upload-single', upload.any(), function(req, res, next) &#123; res.append("Access-Control-Allow-Origin","*"); res.send(&#123; wscats_code: '0' &#125;);&#125;); å‰ç«¯éƒ¨åˆ† formDataè¡¨å•æäº¤ 12345&lt;form action="http://localhost:3000/upload-single" method="post" enctype="multipart/form-data"&gt; &lt;h2&gt;å•å›¾ä¸Šä¼ &lt;/h2&gt; &lt;input type="file" name="logo"&gt; &lt;input type="submit" value="æäº¤"&gt;&lt;/form&gt; formDataè¡¨å•+ajaxæäº¤ 12345&lt;form id="uploadForm"&gt; &lt;p&gt;æŒ‡å®šæ–‡ä»¶åï¼š &lt;input type="text" name="filename" value="" /&gt;&lt;/p&gt; &lt;p&gt;ä¸Šä¼ æ–‡ä»¶ï¼š &lt;input type="file" name="logo" /&gt;&lt;/ p&gt; &lt;input type="button" value="ä¸Šä¼ " onclick="doUpload()" /&gt;&lt;/form&gt; FormDataå¯¹è±¡ï¼Œæ˜¯å¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—çš„é”®å€¼å¯¹æ¥æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„è¡¨å•ï¼Œç„¶åä½¿ç”¨XMLHttpRequestå‘é€è¿™ä¸ªâ€è¡¨å•â€ æ³¨æ„ç‚¹ processDataè®¾ç½®ä¸ºfalseã€‚å› ä¸ºdataå€¼æ˜¯FormDataå¯¹è±¡ï¼Œä¸éœ€è¦å¯¹æ•°æ®åšå¤„ç†ã€‚ &lt;form&gt;æ ‡ç­¾æ·»åŠ enctype=&quot;multipart/form-data&quot;å±æ€§ã€‚ cacheè®¾ç½®ä¸ºfalseï¼Œä¸Šä¼ æ–‡ä»¶ä¸éœ€è¦ç¼“å­˜ã€‚ contentTypeè®¾ç½®ä¸ºfalseã€‚å› ä¸ºæ˜¯ç”±&lt;form&gt;è¡¨å•æ„é€ çš„FormDataå¯¹è±¡ï¼Œä¸”å·²ç»å£°æ˜äº†å±æ€§enctype=&quot;multipart/form-data&quot;ï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®ä¸ºfalse ä¸Šä¼ åï¼ŒæœåŠ¡å™¨ç«¯ä»£ç éœ€è¦ä½¿ç”¨ä»æŸ¥è¯¢å‚æ•°åä¸ºlogoè·å–æ–‡ä»¶è¾“å…¥æµå¯¹è±¡ï¼Œå› ä¸º&lt;input&gt;ä¸­å£°æ˜çš„æ˜¯name=&quot;logo&quot; 12345678910111213function doUpload() &#123; $.ajax(&#123; url: 'http://localhost:3000/upload-single', type: 'POST', cache: false, //ä¸å¿…é¡» data: new FormData($('#uploadForm')[0]), processData: false,//å¿…é¡» contentType: false,//å¿…é¡» success: function(data) &#123; console.log(data) &#125; &#125;)&#125; å‚è€ƒæ–‡æ¡£Github MyDemoGithub MulterMDN FormDataå¯¹è±¡çš„ä½¿ç”¨ è‡ªåŠ¨åŒ–æµ‹è¯• mochaMocha(â€˜æ‘©å¡â€™)ï¼Œè¯ç”Ÿäº2011å¹´ï¼Œç°åœ¨æ¯”è¾ƒæµè¡Œçš„JavaSscriptæµ‹è¯•æ¡†æ¶ä¹‹ä¸€,å¯ä»¥è¿è¡ŒäºNodeç¯å¢ƒå’Œæµè§ˆå™¨ç¯å¢ƒ æµ‹è¯•æ¡†æ¶:å¯ä»¥è¿è¡Œæµ‹è¯•çš„å·¥å…·ã€‚é€šè¿‡ä»–ï¼Œå¯ä»¥ä¸ºJavaScriptåº”ç”¨ æ·»åŠ æµ‹è¯•,ä»è€Œä¿è¯ä»£ç è´¨é‡ å‚è€ƒæ–‡æ¡£mochajsmochaä¸­æ–‡æ–‡æ¡£ å®‰è£…é…ç½®ä½¿ç”¨npm å…¨å±€å®‰è£… 1$ npm install --global mocha é¡¹ç›®ä¾èµ– å±€éƒ¨å®‰è£… 1$ npm isntall mocha åŸºæœ¬è¯­æ³•assert æ–­è¨€ æ–­è¨€åº“ï¼šchai should é£æ ¼æ–­è¨€ expect é£æ ¼æ–­è¨€ å…¨å±€å®‰è£…chai 1npm install chai -g æ¡ˆä¾‹ä½¿ç”¨é€’å½’æ‰§è¡Œ 1$ mocha test --recursive]]></content>
  </entry>
  <entry>
    <title><![CDATA[Hexo nextä¸»é¢˜è®¾ç½®]]></title>
    <url>%2F2019%2F06%2F21%2FHexo-next%E4%B8%BB%E9%A2%98%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[next é…ç½®è¯¦è§£ å‚è€ƒç½‘é¡µ http://theme-next.iissnan.com/ é‡Œé¢æœ‰è¯¦ç»†çš„é…ç½®æ–¹æ³• next è®¾ç½®èƒŒæ™¯å›¾ç‰‡ æ‰¾åˆ° \themes\next\source\css_custom\custom.styl æ–‡ä»¶åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»£ç  1234567891011121314@media screen and (min-width:1200px) &#123; body &#123; background-image:url(/images/background.jpg); background-repeat: no-repeat; background-attachment:fixed; background-position:50% 50%; background-size:cover &#125; #footer a &#123; color:#eee; &#125;&#125; èƒŒæ™¯å›¾ç‰‡å­˜æ”¾åœ¨ä¸»é¢˜æ–‡ä»¶ \source\images ä¸‹ next è®¾ç½®èƒŒæ™¯åŠ¨ç”» Canvas_nest ï¼ˆ ç²’å­ç‰¹æ•ˆ ï¼‰ åœ¨ next æ–‡ä»¶ä¸‹æ‰“å¼€ Git æ‰§è¡Œä»£ç  1$ git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest è¿›å…¥ next æ ¹ç›®å½•ä¸‹çš„ _config.ymlï¼ˆ ä¸»é¢˜é…ç½®æ–‡ä»¶ ï¼‰ä¸‹ä¿®æ”¹ canvas_nest: true(æ³¨æ„: å†’å·åé¢è¦ç©ºæ ¼) 123456789# Canvas-nest# Dependencies: https://github.com/theme-next/theme-next-canvas-nestcanvas_nest: enable: true onmobile: true # display on mobile or not color: "0,0,255" # RGB values, use ',' to separate opacity: "0.5" # the opacity of line: 0~1 zIndex: -1 # z-index property of the background count: 99 # the number of lines å„æ ·å¼å…·ä½“æŒ‡ä»£ 1234color ï¼šçº¿æ¡é¢œè‰², é»˜è®¤: &apos;0,0,0&apos;ï¼›ä¸‰ä¸ªæ•°å­—åˆ†åˆ«ä¸º(R,G,B)opacity: çº¿æ¡é€æ˜åº¦ï¼ˆ0~1ï¼‰, é»˜è®¤: 0.5count: çº¿æ¡çš„æ€»æ•°é‡, é»˜è®¤: 150zIndex: èƒŒæ™¯çš„z-indexå±æ€§ï¼Œcsså±æ€§ç”¨äºæ§åˆ¶æ‰€åœ¨å±‚çš„ä½ç½®, é»˜è®¤: -1 é¢„è§ˆå¹¶éƒ¨ç½²åˆ°æœåŠ¡å™¨ 1234$ hexo clean$ hexo g$ hexo s $ hexo d next è‡ªå®šä¹‰é¡µé¢ CSS å±æ€§ å¯åŠ¨æœ¬åœ°æœåŠ¡ httplocahost:4000 è¿›å…¥ä¸»é¡µ F12å¯åŠ¨æ§åˆ¶å° å³é”®æƒ³è¦æ”¹å˜çš„æ¨¡å—ç±»å è¿›å…¥ next ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„ /source/css/_custom æ‰¾åˆ° custom.styl æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯nextä¾›æˆ‘ä»¬è‡ªå®šä¹‰æ ·å¼çš„ã€‚åœ¨é‡Œé¢æ·»åŠ  CSS æ ·å¼å³æ”¹å˜é¡µé¢ CSS å±æ€§]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•ç”¨githubåŠHexoæ­å»ºä¸ªäººåšå®¢]]></title>
    <url>%2F2019%2F06%2F21%2F%E5%A6%82%E4%BD%95%E7%94%A8github%E5%8F%8AHexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"></content>
  </entry>
  <entry>
    <title><![CDATA[é¢è¯•æŠ€å·§]]></title>
    <url>%2F2019%2F06%2F21%2F%E9%9D%A2%E8%AF%95%E6%8A%80%E5%B7%A7%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©å°±åˆ°è¿™å§ï¼Œä½ å›å»ç­‰é€šçŸ¥å§ï¼Ÿ é¢è¯•å®˜æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»Šå¤©æ¥åˆ°è¿™é‡Œå¾ˆä¸å®¹æ˜“ï¼Œè·¯é€”ä¹ŸæŒºé¥è¿œçš„ï¼Œæˆ‘çŸ¥é“æˆ‘å¯èƒ½ä¸å¤ªç¬¦åˆå²—ä½çš„è¦æ±‚ã€‚ æˆ‘æƒ³çŸ¥é“æˆ‘åˆšæ‰è¯´çš„é—®é¢˜å“ªé‡Œæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼ŒçŸ¥è¯†ç‚¹å“ªé‡Œæœ‰ä¸å¯¹çš„åœ°æ–¹ã€‚ æˆ‘æƒ³å‘æ‚¨è¯·æ•™ä¸€ä¸‹ï¼Œå¦‚æœä»Šå¤©èƒ½è·Ÿæ‚¨å­¦ä¹ ï¼Œä¹Ÿæ˜¯æˆ‘çš„å¹¸è¿ï¼Œ æˆ‘è™½ç„¶å¯èƒ½æ‹¿ä¸åˆ° Offer ï¼Œæˆ‘ä¹Ÿè§‰å¾—ä»Šå¤©çš„é¢è¯•æ²¡æœ‰æµªè´¹æ—¶é—´ï¼Œè€Œä¸”è¿˜å‘æ‚¨å­¦åˆ°äº†çŸ¥è¯†ã€‚ ä½ æ„¿æ„å’Œä»€ä¹ˆæ ·çš„é¢†å¯¼å…±äº‹ï¼Ÿ æˆ‘å¸Œæœ›æˆ‘çš„é¢†å¯¼åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­å¯¹æˆ‘çš„å·¥ä½œèƒ½æœ‰ä¸€äº›æŒ‡å¯¼ã€‚ å½“æˆ‘å·¥ä½œé‡åˆ°é—®é¢˜çš„æ—¶å€™ã€‚èƒ½å¤ŸåŠæ—¶çš„æé†’æˆ‘ï¼ˆ å°‘å¯¹é¢†å¯¼æè¦æ±‚ï¼Œå¤šçœ‹çœ‹è‡ªå·± ï¼‰ ä½ çš„èŒä¸šè§„åˆ’æ˜¯ä»€ä¹ˆï¼Ÿ æˆ‘å¸Œæœ›æˆ‘èƒ½å­¦åˆ°æ›´å¤šçš„æŠ€æœ¯ æˆ‘å¸Œæœ›åœ¨ä¸€åˆ°ä¸‰å¹´æˆ‘èƒ½ä»åˆä¸­çº§è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆå‘é«˜çº§è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆ æ¥ä¸‹æ¥ä¸€åˆ°äºŒå¹´å†…ä»é«˜çº§è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆå‘æ¶æ„å¸ˆè½¬å˜ äº‰å–å‘æŠ€æœ¯æ€»ç›‘å¼€å§‹è½¬å˜ ç¦»èŒåŸå›  è´Ÿé¢åŸå› ä¸èƒ½è¯´çš„ï¼ˆè–ªèµ„å¤ªä½ï¼Œäººé™…å…³ç³»å¤æ‚ï¼Œå¤ªè¾›è‹¦ï¼Œå·¥ä½œç¯å¢ƒå·®ï¼‰ è¿‡äºè‡ªæ»¡ä¸èƒ½è¯´ï¼ˆåšä¸€äº›é‡å¤æ€§çš„å·¥ä½œï¼Œæƒ³è¦æ›´å¤§çš„å‘å±•å¹³å°ï¼ŒæŠ€æœ¯è¾¾åˆ°ç“¶é¢ˆï¼‰ æ¨¡æ¿ï¼šæˆ‘åœ¨ä¸Šä¸€å®¶å…¬å¸å¾—åˆ°äº†å¾ˆå¤§çš„æå‡ï¼ŒæŠ€æœ¯é€šè¿‡é¡¹ç›®çš„å†ç»ƒå®Œå…¨å¯ä»¥ç‹¬è‡ªå¼€å‘ï¼Œé€‚åº”æ­å·å…¬å¸çš„å¼€å‘éœ€æ±‚ã€‚ï¼ˆæœ‰äº²æˆšæœ‹å‹åœ¨è¿™æƒ³æ¥è¿™é¢å‘å±•/å–œæ¬¢æ­å·è¿™é‡ŒåŸå¸‚æƒ³åœ¨æ­å·é•¿æœŸå‘å±•ï¼‰ ä½ æ€ä¹ˆçœ‹å¾…åŠ ç­ï¼Ÿ æˆ‘è®¤ä¸ºåœ¨å·¥ä½œä¸­åº”è¯¥ä¿æŒå·¥ä½œæ•ˆç‡ï¼Œå¦‚æœä»»åŠ¡å®‰æ’åˆç†çš„è¯ï¼Œæˆ‘è®¤ä¸ºä¸å¤ªéœ€è¦åŠ ç­ã€‚ ä½†æ˜¯æˆ‘æƒ³åœ¨å·¥ä½œä¸­åŠ ç­æ˜¯éš¾å…çš„ï¼Œé‚£ä¹ˆæˆ‘ä¼šè°ƒé…å¥½è‡ªå·±çš„æ—¶é—´ã€‚é«˜åº¦é…åˆã€‚ ä¸ºä»€ä¹ˆé€‰æ‹©å¼€å‘ æˆ‘å¾ˆå–œæ¬¢è½¯ä»¶å¼€å‘è¿™ä¸ªè¡Œä¸šï¼Œç‰¹åˆ«æ˜¯è½¯ä»¶å¼€å‘è¿™ä¸ªè¡Œä¸šæ˜¯é«˜è´¨åœ°å’ŒçŸ¥è¯†å¯†é›†å‹çš„äº§ä¸šã€‚ åœ¨è¿™ä¸ªè¡Œä¸šï¼Œæ— è®ºæ˜¯ä¸ªäººæŠ€æœ¯è¿˜æ˜¯å…¶ä»–çš„èŒä¸šç´ å…»ï¼Œéƒ½è¦ä¸ºé€‚åº”è¿™ä¸ªè¡Œä¸šçš„å‘å±•è€Œä¸æ–­åœ°æé«˜ã€‚ æ‰€ä»¥åœ¨å·¥ä½œä¸­å­¦ä¹ æ˜¯ä¸€ä»¶æŒä¹…çš„äº‹æƒ…ã€‚å¹²åˆ°æœ€åæ‹¿åˆ°é«˜è–ªæ˜¯å¿…ç„¶çš„ã€‚ åœ¨å·¥ä½œä¸­æ€»ç»“ï¼Œåœ¨æ€»ç»“ä¸­ç§¯ç´¯ç»éªŒã€‚åŒæ—¶æˆ‘ä¹Ÿå¾ˆäº«å—å­¦ä¹ çš„è¿‡ç¨‹ã€‚ æœ€åå¸Œæœ›æŠŠå­¦åˆ°çš„çŸ¥è¯†è´¡çŒ®ç»™å…¬å¸å’Œå›¢é˜Ÿã€‚è¿™æ˜¯æˆ‘é€‰æ‹©è½¯ä»¶å¼€å‘çš„ç†ç”±ã€‚ ä½ çš„æœŸæœ›è–ªèµ„ï¼Ÿ å…·ä½“æ•°å€¼ï¼Œä¸è¦è¯´åŒºé—´ æ‰“å‹å·¥èµ„çš„æ—¶å€™ï¼Œè°ˆç¦åˆ©ï¼Œæˆ¿è¡¥ é¤è¡¥ è½¦è¡¥ å…ˆæŠŠofferæ‹¿ä¸‹ï¼Œä½œä¸ºåè¡¥ ä½ èƒ½ä¸ºå…¬å¸å¸¦æ¥ä»€ä¹ˆï¼Ÿåœ¨ä¼—å¤šçš„é¢è¯•è€…ä¸ºä»€ä¹ˆè¦å½•ç”¨ä½ ï¼Ÿ æˆ‘å·²ç»æœ‰äº†ä¸€å¹´çš„å·¥ä½œç»å†ï¼ˆ æˆ‘æœ‰è¶³å¤Ÿçš„é¡¹ç›®ç»éªŒ ï¼‰ è¿›å…¬å¸å¯ä»¥ç›´æ¥ä¸Šæ‰‹é¡¹ç›®ï¼Œç›´æ¥ç»™å…¬å¸å¸¦æ¥æ•ˆç›Šã€‚ çœå»äº†å…¬å¸åŸ¹å…»æ–°äººçš„ç»è´¹ã€‚ å¦‚æœåœ¨ä»Šåçš„å·¥ä½œä¸­ï¼Œå‘ç°è‡ªå·±ä¸é€‚åˆè¿™ä»½å·¥ä½œä½ ä¼šæ€ä¹ˆåŠï¼Ÿ æˆ‘å·²ç»æœ‰äº†ä¸€å¹´çš„å·¥ä½œç»å†ã€‚ æˆ‘å¾ˆæ˜ç¡®è‡ªå·±è¦èµ°å¼€å‘è¿™æ¡è·¯ï¼Œå¹¶ä¸”æˆ‘è‡ªå·±éå¸¸å–œæ¬¢åšå¼€å‘ã€‚ æ‰€ä»¥ä¸ä¼šå·¥ä½œä¸€æ®µæ—¶é—´å°±æœ‰æ‰“ç®—ç¦»å¼€å…¬å¸çš„æƒ…å†µã€‚ å¦‚æœæˆ‘èº«è¾¹çš„åŒäº‹æœ‰è¿™ç§æƒ…å†µçš„è¯ã€‚æˆ‘ä¼šå‘Šè¯‰ä»–ã€‚ å¦‚æœä½ å–œæ¬¢è¿™ä¸ªè¡Œä¸šï¼Œå°±è¦ä¸æ–­åœ°å»å­¦ä¹ ã€‚è™šå¿ƒå‘é¢†å¯¼å’ŒåŒäº‹å­¦ä¹ ä¸šåŠ¡çŸ¥è¯†å’Œå¤„äº‹ç»éªŒã€‚ äº†è§£å²—ä½çš„éœ€æ±‚ï¼Œå‡å°‘å·®è·ã€‚ è‡ªæˆ‘ä»‹ç» å§“å å¹´é¾„ æ¯•ä¸šé™¢æ ¡ å·¥ä½œç»å†åŠä»»èŒå²—ä½ é¡¹ç›®ï¼ˆæ·±åˆ»ï¼‰ æˆ‘å¸Œæœ›æˆ‘ä»Šå¤©çš„é¢è¯•æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹ï¼Œè°¢è°¢ ä½ è§‰å¾—å­¦å†é‡è¦è¿˜æ˜¯èƒ½åŠ›é‡è¦ æ˜¯ä¸æ˜¯åç‰Œå¤§å­¦ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯æˆ‘æœ‰èƒ½åŠ›å®Œæˆå·¥ä½œ æˆ‘å·²ç»æœ‰äº†ä¸€å¹´çš„å·¥ä½œç»éªŒï¼ŒæŒæ¡çš„æŠ€èƒ½å¯ä»¥èƒœä»»å…¬å¸çš„èŒä½ è€Œä¸”æˆ‘æ¯”åç‰Œå¤§å­¦å­¦ç”Ÿçš„åŠ¨æ‰‹èƒ½åŠ›è¦å¼º æ‰€ä»¥æˆ‘æ›´é€‚åˆè´µå…¬å¸çš„å²—ä½ ä¼˜ç‚¹å’Œç¼ºç‚¹ æˆ‘ä¼šæŠŠä¸€ä»¶å®Œæ•´çš„äº‹æƒ…åˆ†æˆå°éƒ¨åˆ†é€æ­¥å®Œæˆ å¦å¤–ï¼Œåœ¨å·¥ä½œä¸åŒäº‹æ²Ÿé€šä¸­ä¼šæ„Ÿè§‰å¾ˆèæ´½ å¹¶ä¸”ä¼šç«™åœ¨ä»–äººè§’åº¦æƒ³é—®é¢˜ å…¶ä»–äººçš„è¯„ä»· ä½œä¸ºç¨‹åºçŒ¿ï¼Œæˆ‘çš„å¼ºè¿«ç—‡å¤ªè¿‡ä¸¥é‡ï¼Œå¤ªé€»è¾‘æ€§ï¼Œå¤ªæ¡ç†æ€§ é™¤äº†æœ¬å…¬å¸ï¼Œä½ è¿˜åº”è˜äº†ä»€ä¹ˆå…¬å¸ é¢è¯•çš„éƒ½æ˜¯webå‰ç«¯ï¼Œä¸ç”¨è¯´å…·ä½“çš„åå­— ç¬¬ä¸€å®¶é¢è¯•å°±æœ‰äº†offerï¼Œå› ä¸ºé€‚åº”æ­å·å¸‚åœºéœ€æ±‚ï¼Œæˆ‘æƒ³æ‰¾ç”µå•†å’Œé‡‘èç±»çš„å…¬å¸ è‡ªå·±ä¹Ÿæƒ³åšä¸€ä¸ªæ…é‡çš„é€‰æ‹©]]></content>
      <categories>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç»†æ•°é‚£äº›npmæŠ¥è¿‡çš„é”™]]></title>
    <url>%2F2019%2F06%2F21%2F%E7%BB%86%E6%95%B0%E9%82%A3%E4%BA%9BNPM%E6%8A%A5%E8%BF%87%E7%9A%84%E9%94%99%2F</url>
    <content type="text"><![CDATA[npm WARN checkPermissions Missing write access toè§£å†³åŠæ³•ï¼š å¤åˆ¶åé¢çš„è·¯å¾„åˆ° node_modules æˆ‘çš„ç”µè„‘ æ‰“å¼€å¤åˆ¶è·¯å¾„ æŠŠåˆšæ‰ github çš„æ˜¾ç¤ºé”™è¯¯çš„è·¯å¾„ node_modulesåé¢çš„åŒåæ–‡ä»¶å¤¹åˆ é™¤ hexo initå®‰è£…é”™è¯¯æŠ¥é”™ï¼šFATAL D:\hexo not empty, please run hexo init on an empty folder and then æ–‡ä»¶å¤¹ä¸ä¸ºç©º å»ºè®®åˆ æ‰ hexo é‡æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ å†è¯• FATAL Port 4000 has been used. Try other port instead. FATAL Somethingâ€™s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html è§£å†³æ–¹æ³•ï¼šç«¯å£è¢«å ç”¨ï¼Œ ç»ˆæ­¢ç»ˆç«¯hexo -d éƒ¨ç½²çš„æ—¶å€™æŠ¥é”™ FATAL Somethingâ€™s wrong Template render error: expected variableåŸå› ï¼š â€‹ å½“æ–‡ç« ä¸­å‡ºç° }} ï¼Œä¸¤ä¸ªå¤§æ‹¬å·æ—¶ï¼Œè§£æä¼šå‡ºé—®é¢˜ã€‚å¸¸è§äºå…¬å¼ä¸­ï¼Œéœ€è¦è½¬è¯‘ è§£å†³ï¼š éœ€è¦è½¬è¯‘çš„å†…å®¹ æ³¨æ„ï¼š åŒ…å«çš„èŒƒå›´ä¸è¦å¤ªå¹¿ï¼Œåˆšåˆšæ‹¬ä½é‚£ä¸ªèŒƒå›´å°±å¥½ï¼Œåƒä¸‡æ‹¬ä½æ•´ç¯‡æ–‡ç« ï¼Œä¼šå‡ºç°æœªçŸ¥çš„é”™è¯¯ã€‚]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>npm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue æ¡†æ¶çº§è¯·æ±‚]]></title>
    <url>%2F2019%2F06%2F21%2FVue%E6%A1%86%E6%9E%B6%E7%BA%A7%E8%AF%B7%E6%B1%82%2F</url>
    <content type="text"><![CDATA[Vue æ¡†æ¶çº§è¯·æ±‚ vue-resourceï¼ˆåœæ­¢æ›´æ–°ï¼‰ vue-resourceä½œè€…æ¨èä½¿ç”¨axios vue-resourceåœ¨ç”¨æ³•ä¸Šå’Œaxios ç›¸ä¼¼åº¦90+ vue2.0ä½¿ç”¨çš„åŸºæœ¬ä¸Šéƒ½æ˜¯fetch / axios vue-resource æ˜¯æœ‰ jsonp çš„ vue-resource å¦‚æœåœ¨vueä¸­ä½¿ç”¨ï¼Œæ˜¯æŒ‚è½½å½“å‰çš„å®ä¾‹ï¼ˆ ç»„ä»¶ ï¼‰çš„ $http å±æ€§èº«ä¸Šçš„ this.$http( options ) this.$htttp.get( ) this.$http.post( ) axiosï¼ˆç¬¬ä¸‰æ–¹åº“ï¼‰ axios æ˜¯æ²¡æœ‰ jsonp æ•°æ®è¯·æ±‚ç±»å‹çš„ axios æ˜¯promiseï¼ˆ å¼‚æ­¥ ï¼‰ axios ä¼šå¯¹è¯·æ±‚çš„ç»“æœè¿›è¡Œå†ä¸€æ¬¡å°è£…ï¼ˆ æé«˜å®‰å…¨æ€§ ï¼‰ æ¡ˆä¾‹ï¼š 123456&lt;div id="app"&gt; &lt;button @click = "getData"&gt; get - mock - json &lt;/button&gt; &lt;button @click = "get_be_data"&gt; get - backend online- api &lt;/button&gt; &lt;button @click = "get_myself_php_data"&gt; get - myself - php -api &lt;/button&gt; &lt;button @click = "postData"&gt; post &lt;/button&gt;&lt;/div&gt; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960new Vue(&#123; el: '#app', methods: &#123; getData () &#123; //è¿›è¡Œgetè¯·æ±‚ // axios.get() -- $.get() // axios.post() ---$.post() // axios(options) -- $.ajax(options) // var p = axios(&#123; // url: './data/data.json' // &#125;) // console.log( p ) Promiseå¯¹è±¡ axios(&#123; url: './data/data.json', method: 'get',//é»˜è®¤å°±æ˜¯getè¯·æ±‚ &#125;) .then( res =&gt; console.log( res )) .catch( error =&gt; conosle.log( error )) &#125;, postData () &#123; // è¿›è¡Œpostè¯·æ±‚ &#125;, get_myself_php_data () &#123; axios(&#123; url: 'http://localhost/get.php', params: &#123; a: 1, b: 2 &#125; &#125;) .then( res =&gt; console.log( res )) .catch( error =&gt; console.log( error )) &#125;, get_be_data () &#123; // è·¨åŸŸè¯·æ±‚çº¿ä¸Šæ•°æ® - å–åº§ç½‘ axios(&#123; url: 'https://m.maizuo.com/gateway', headers: &#123; 'X-Client-Info': '&#123;"a":"3000","ch":"1002","v":"5.0.4","e":"154549400038873748996477"&#125;', 'X-Host': 'mall.film-ticket.film.list' &#125;, params: &#123; cityId: 330100, pageNum: 1, pageSize: 10, type: 1, k: 7675918 &#125; &#125;) .then( res =&gt; console.log( res )) .catch( error =&gt; console.log( error )) &#125; &#125;&#125;) fetch ( javascript åŸç”Ÿæä¾› ) fetch è¦æ‰‹åŠ¨è¿›è¡Œä¸€æ¬¡æ•°æ®æ ¼å¼åŒ–ï¼Œä½†æ˜¯ axios æ˜¯å†…éƒ¨æƒŠé†’äº†æ•°æ®çš„æ ¼å¼åŒ– fetch get æ–¹æ³•è¯·æ±‚æ•°æ®ï¼Œå‚æ•°è¦ç›´æ¥è¿æ¥åœ¨ url ä¸Š fetch æ ¼å¼åŒ–æ•°æ® æœ‰ä¸‰ç§å¤„ç†æ–¹æ³• .json( ) æ ¼å¼åŒ– json ç±»å‹æ•°æ®ï¼Œ å°† json ç±»å‹ string è½¬æ¢æˆ json å¯¹è±¡ .text( ) æ ¼å¼åŒ–æ–‡æœ¬ .blob( ) æ ¼å¼åŒ–äºŒè¿›åˆ¶æ•°æ® fetch å¦‚æœæŒ‰ç…§å®˜ç½‘æ–‡æ¡£ä¹¦å†™postè¯·æ±‚ï¼Œ æœ‰å‘ ï¼Œ æºå¸¦æ•°æ®å‡ºç°é—®é¢˜ fetch postå¤„ç† è®¾ç½®è¯·æ±‚å¤´ é€šè¿‡ new URLSearchPrams æ¥æºå¸¦å‚æ•°]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vueæ¡†æ¶çº§è¯·æ±‚</tag>
      </tags>
  </entry>
</search>
